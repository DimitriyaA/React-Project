(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function a0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Mm={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function TS(){if(my)return nc;my=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var p=null;if(h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:h}}return nc.Fragment=t,nc.jsx=n,nc.jsxs=n,nc}var py;function wS(){return py||(py=1,Mm.exports=TS()),Mm.exports}var D=wS(),km={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function bS(){if(_y)return Qt;_y=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=I&&k[I]||k["@@iterator"],typeof k=="function"?k:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,X={};function J(k,at,Et){this.props=k,this.context=at,this.refs=X,this.updater=Et||j}J.prototype.isReactComponent={},J.prototype.setState=function(k,at){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,at,"setState")},J.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function it(){}it.prototype=J.prototype;function dt(k,at,Et){this.props=k,this.context=at,this.refs=X,this.updater=Et||j}var ot=dt.prototype=new it;ot.constructor=dt,B(ot,J.prototype),ot.isPureReactComponent=!0;var xt=Array.isArray,At={H:null,A:null,T:null,S:null},Bt=Object.prototype.hasOwnProperty;function F(k,at,Et,vt,_t,wt){return Et=wt.ref,{$$typeof:r,type:k,key:at,ref:Et!==void 0?Et:null,props:wt}}function N(k,at){return F(k.type,at,void 0,void 0,void 0,k.props)}function P(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function U(k){var at={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Et){return at[Et]})}var H=/\/+/g;function K(k,at){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):at.toString(36)}function z(){}function _e(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(z,z):(k.status="pending",k.then(function(at){k.status==="pending"&&(k.status="fulfilled",k.value=at)},function(at){k.status==="pending"&&(k.status="rejected",k.reason=at)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ve(k,at,Et,vt,_t){var wt=typeof k;(wt==="undefined"||wt==="boolean")&&(k=null);var yt=!1;if(k===null)yt=!0;else switch(wt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(k.$$typeof){case r:case t:yt=!0;break;case R:return yt=k._init,Ve(yt(k._payload),at,Et,vt,_t)}}if(yt)return _t=_t(k),yt=vt===""?"."+K(k,0):vt,xt(_t)?(Et="",yt!=null&&(Et=yt.replace(H,"$&/")+"/"),Ve(_t,at,Et,"",function(Ce){return Ce})):_t!=null&&(P(_t)&&(_t=N(_t,Et+(_t.key==null||k&&k.key===_t.key?"":(""+_t.key).replace(H,"$&/")+"/")+yt)),at.push(_t)),1;yt=0;var de=vt===""?".":vt+":";if(xt(k))for(var Gt=0;Gt<k.length;Gt++)vt=k[Gt],wt=de+K(vt,Gt),yt+=Ve(vt,at,Et,wt,_t);else if(Gt=O(k),typeof Gt=="function")for(k=Gt.call(k),Gt=0;!(vt=k.next()).done;)vt=vt.value,wt=de+K(vt,Gt++),yt+=Ve(vt,at,Et,wt,_t);else if(wt==="object"){if(typeof k.then=="function")return Ve(_e(k),at,Et,vt,_t);throw at=String(k),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return yt}function pt(k,at,Et){if(k==null)return k;var vt=[],_t=0;return Ve(k,vt,"","",function(wt){return at.call(Et,wt,_t++)}),vt}function Lt(k){if(k._status===-1){var at=k._result;at=at(),at.then(function(Et){(k._status===0||k._status===-1)&&(k._status=1,k._result=Et)},function(Et){(k._status===0||k._status===-1)&&(k._status=2,k._result=Et)}),k._status===-1&&(k._status=0,k._result=at)}if(k._status===1)return k._result.default;throw k._result}var mt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function oe(){}return Qt.Children={map:pt,forEach:function(k,at,Et){pt(k,function(){at.apply(this,arguments)},Et)},count:function(k){var at=0;return pt(k,function(){at++}),at},toArray:function(k){return pt(k,function(at){return at})||[]},only:function(k){if(!P(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Qt.Component=J,Qt.Fragment=n,Qt.Profiler=l,Qt.PureComponent=dt,Qt.StrictMode=a,Qt.Suspense=y,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At,Qt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Qt.cache=function(k){return function(){return k.apply(null,arguments)}},Qt.cloneElement=function(k,at,Et){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var vt=B({},k.props),_t=k.key,wt=void 0;if(at!=null)for(yt in at.ref!==void 0&&(wt=void 0),at.key!==void 0&&(_t=""+at.key),at)!Bt.call(at,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&at.ref===void 0||(vt[yt]=at[yt]);var yt=arguments.length-2;if(yt===1)vt.children=Et;else if(1<yt){for(var de=Array(yt),Gt=0;Gt<yt;Gt++)de[Gt]=arguments[Gt+2];vt.children=de}return F(k.type,_t,void 0,void 0,wt,vt)},Qt.createContext=function(k){return k={$$typeof:p,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:h,_context:k},k},Qt.createElement=function(k,at,Et){var vt,_t={},wt=null;if(at!=null)for(vt in at.key!==void 0&&(wt=""+at.key),at)Bt.call(at,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(_t[vt]=at[vt]);var yt=arguments.length-2;if(yt===1)_t.children=Et;else if(1<yt){for(var de=Array(yt),Gt=0;Gt<yt;Gt++)de[Gt]=arguments[Gt+2];_t.children=de}if(k&&k.defaultProps)for(vt in yt=k.defaultProps,yt)_t[vt]===void 0&&(_t[vt]=yt[vt]);return F(k,wt,void 0,void 0,null,_t)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(k){return{$$typeof:g,render:k}},Qt.isValidElement=P,Qt.lazy=function(k){return{$$typeof:R,_payload:{_status:-1,_result:k},_init:Lt}},Qt.memo=function(k,at){return{$$typeof:E,type:k,compare:at===void 0?null:at}},Qt.startTransition=function(k){var at=At.T,Et={};At.T=Et;try{var vt=k(),_t=At.S;_t!==null&&_t(Et,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(oe,mt)}catch(wt){mt(wt)}finally{At.T=at}},Qt.unstable_useCacheRefresh=function(){return At.H.useCacheRefresh()},Qt.use=function(k){return At.H.use(k)},Qt.useActionState=function(k,at,Et){return At.H.useActionState(k,at,Et)},Qt.useCallback=function(k,at){return At.H.useCallback(k,at)},Qt.useContext=function(k){return At.H.useContext(k)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(k,at){return At.H.useDeferredValue(k,at)},Qt.useEffect=function(k,at){return At.H.useEffect(k,at)},Qt.useId=function(){return At.H.useId()},Qt.useImperativeHandle=function(k,at,Et){return At.H.useImperativeHandle(k,at,Et)},Qt.useInsertionEffect=function(k,at){return At.H.useInsertionEffect(k,at)},Qt.useLayoutEffect=function(k,at){return At.H.useLayoutEffect(k,at)},Qt.useMemo=function(k,at){return At.H.useMemo(k,at)},Qt.useOptimistic=function(k,at){return At.H.useOptimistic(k,at)},Qt.useReducer=function(k,at,Et){return At.H.useReducer(k,at,Et)},Qt.useRef=function(k){return At.H.useRef(k)},Qt.useState=function(k){return At.H.useState(k)},Qt.useSyncExternalStore=function(k,at,Et){return At.H.useSyncExternalStore(k,at,Et)},Qt.useTransition=function(){return At.H.useTransition()},Qt.version="19.0.0",Qt}var gy;function Pp(){return gy||(gy=1,km.exports=bS()),km.exports}var q=Pp();const uf=a0(q);var Vm={exports:{}},ic={},Um={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function SS(){return vy||(vy=1,function(r){function t(pt,Lt){var mt=pt.length;pt.push(Lt);t:for(;0<mt;){var oe=mt-1>>>1,k=pt[oe];if(0<l(k,Lt))pt[oe]=Lt,pt[mt]=k,mt=oe;else break t}}function n(pt){return pt.length===0?null:pt[0]}function a(pt){if(pt.length===0)return null;var Lt=pt[0],mt=pt.pop();if(mt!==Lt){pt[0]=mt;t:for(var oe=0,k=pt.length,at=k>>>1;oe<at;){var Et=2*(oe+1)-1,vt=pt[Et],_t=Et+1,wt=pt[_t];if(0>l(vt,mt))_t<k&&0>l(wt,vt)?(pt[oe]=wt,pt[_t]=mt,oe=_t):(pt[oe]=vt,pt[Et]=mt,oe=Et);else if(_t<k&&0>l(wt,mt))pt[oe]=wt,pt[_t]=mt,oe=_t;else break t}}return Lt}function l(pt,Lt){var mt=pt.sortIndex-Lt.sortIndex;return mt!==0?mt:pt.id-Lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var p=Date,g=p.now();r.unstable_now=function(){return p.now()-g}}var y=[],E=[],R=1,I=null,O=3,j=!1,B=!1,X=!1,J=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function ot(pt){for(var Lt=n(E);Lt!==null;){if(Lt.callback===null)a(E);else if(Lt.startTime<=pt)a(E),Lt.sortIndex=Lt.expirationTime,t(y,Lt);else break;Lt=n(E)}}function xt(pt){if(X=!1,ot(pt),!B)if(n(y)!==null)B=!0,_e();else{var Lt=n(E);Lt!==null&&Ve(xt,Lt.startTime-pt)}}var At=!1,Bt=-1,F=5,N=-1;function P(){return!(r.unstable_now()-N<F)}function U(){if(At){var pt=r.unstable_now();N=pt;var Lt=!0;try{t:{B=!1,X&&(X=!1,it(Bt),Bt=-1),j=!0;var mt=O;try{e:{for(ot(pt),I=n(y);I!==null&&!(I.expirationTime>pt&&P());){var oe=I.callback;if(typeof oe=="function"){I.callback=null,O=I.priorityLevel;var k=oe(I.expirationTime<=pt);if(pt=r.unstable_now(),typeof k=="function"){I.callback=k,ot(pt),Lt=!0;break e}I===n(y)&&a(y),ot(pt)}else a(y);I=n(y)}if(I!==null)Lt=!0;else{var at=n(E);at!==null&&Ve(xt,at.startTime-pt),Lt=!1}}break t}finally{I=null,O=mt,j=!1}Lt=void 0}}finally{Lt?H():At=!1}}}var H;if(typeof dt=="function")H=function(){dt(U)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,z=K.port2;K.port1.onmessage=U,H=function(){z.postMessage(null)}}else H=function(){J(U,0)};function _e(){At||(At=!0,H())}function Ve(pt,Lt){Bt=J(function(){pt(r.unstable_now())},Lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(pt){pt.callback=null},r.unstable_continueExecution=function(){B||j||(B=!0,_e())},r.unstable_forceFrameRate=function(pt){0>pt||125<pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<pt?Math.floor(1e3/pt):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_getFirstCallbackNode=function(){return n(y)},r.unstable_next=function(pt){switch(O){case 1:case 2:case 3:var Lt=3;break;default:Lt=O}var mt=O;O=Lt;try{return pt()}finally{O=mt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(pt,Lt){switch(pt){case 1:case 2:case 3:case 4:case 5:break;default:pt=3}var mt=O;O=pt;try{return Lt()}finally{O=mt}},r.unstable_scheduleCallback=function(pt,Lt,mt){var oe=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?oe+mt:oe):mt=oe,pt){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=mt+k,pt={id:R++,callback:Lt,priorityLevel:pt,startTime:mt,expirationTime:k,sortIndex:-1},mt>oe?(pt.sortIndex=mt,t(E,pt),n(y)===null&&pt===n(E)&&(X?(it(Bt),Bt=-1):X=!0,Ve(xt,mt-oe))):(pt.sortIndex=k,t(y,pt),B||j||(B=!0,_e())),pt},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(pt){var Lt=O;return function(){var mt=O;O=Lt;try{return pt.apply(this,arguments)}finally{O=mt}}}}(zm)),zm}var yy;function AS(){return yy||(yy=1,Um.exports=SS()),Um.exports}var Bm={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function RS(){if(Ey)return Hn;Ey=1;var r=Pp();function t(y){var E="https://react.dev/errors/"+y;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)E+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+y+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,E,R){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:y,containerInfo:E,implementation:R}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,E){if(y==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Hn.createPortal=function(y,E){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return h(y,E,null,R)},Hn.flushSync=function(y){var E=p.T,R=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=E,a.p=R,a.d.f()}},Hn.preconnect=function(y,E){typeof y=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(y,E))},Hn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Hn.preinit=function(y,E){if(typeof y=="string"&&E&&typeof E.as=="string"){var R=E.as,I=g(R,E.crossOrigin),O=typeof E.integrity=="string"?E.integrity:void 0,j=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;R==="style"?a.d.S(y,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:I,integrity:O,fetchPriority:j}):R==="script"&&a.d.X(y,{crossOrigin:I,integrity:O,fetchPriority:j,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Hn.preinitModule=function(y,E){if(typeof y=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var R=g(E.as,E.crossOrigin);a.d.M(y,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(y)},Hn.preload=function(y,E){if(typeof y=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var R=E.as,I=g(R,E.crossOrigin);a.d.L(y,R,{crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Hn.preloadModule=function(y,E){if(typeof y=="string")if(E){var R=g(E.as,E.crossOrigin);a.d.m(y,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(y)},Hn.requestFormReset=function(y){a.d.r(y)},Hn.unstable_batchedUpdates=function(y,E){return y(E)},Hn.useFormState=function(y,E,R){return p.H.useFormState(y,E,R)},Hn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Hn.version="19.0.0",Hn}var Ty;function o0(){if(Ty)return Bm.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bm.exports=RS(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function CS(){if(wy)return ic;wy=1;var r=AS(),t=Pp(),n=o0();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),j=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),ot=Symbol.for("react.offscreen"),xt=Symbol.for("react.memo_cache_sentinel"),At=Symbol.iterator;function Bt(e){return e===null||typeof e!="object"?null:(e=At&&e[At]||e["@@iterator"],typeof e=="function"?e:null)}var F=Symbol.for("react.client.reference");function N(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===F?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case g:return"Portal";case R:return"Profiler";case E:return"StrictMode";case X:return"Suspense";case J:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case B:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case it:return i=e.displayName||null,i!==null?i:N(e.type)||"Memo";case dt:i=e._payload,e=e._init;try{return N(e(i))}catch{}}return null}var P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,H,K;function z(e){if(H===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);H=i&&i[1]||"",K=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+H+e+K}var _e=!1;function Ve(e,i){if(!e||_e)return"";_e=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(rt){var tt=rt}Reflect.construct(e,[],ft)}else{try{ft.call()}catch(rt){tt=rt}e.call(ft.prototype)}}else{try{throw Error()}catch(rt){tt=rt}(ft=e())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(rt){if(rt&&tt&&typeof rt.stack=="string")return[rt.stack,tt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),S=_[0],C=_[1];if(S&&C){var M=S.split(`
`),Z=C.split(`
`);for(m=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(c===M.length||m===Z.length)for(c=M.length-1,m=Z.length-1;1<=c&&0<=m&&M[c]!==Z[m];)m--;for(;1<=c&&0<=m;c--,m--)if(M[c]!==Z[m]){if(c!==1||m!==1)do if(c--,m--,0>m||M[c]!==Z[m]){var st=`
`+M[c].replace(" at new "," at ");return e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",e.displayName)),st}while(1<=c&&0<=m);break}}}finally{_e=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?z(o):""}function pt(e){switch(e.tag){case 26:case 27:case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 15:return e=Ve(e.type,!1),e;case 11:return e=Ve(e.type.render,!1),e;case 1:return e=Ve(e.type,!0),e;default:return""}}function Lt(e){try{var i="";do i+=pt(e),e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function mt(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function oe(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function k(e){if(mt(e)!==e)throw Error(a(188))}function at(e){var i=e.alternate;if(!i){if(i=mt(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var _=m.alternate;if(_===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===o)return k(m),e;if(_===c)return k(m),i;_=_.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=_;else{for(var S=!1,C=m.child;C;){if(C===o){S=!0,o=m,c=_;break}if(C===c){S=!0,c=m,o=_;break}C=C.sibling}if(!S){for(C=_.child;C;){if(C===o){S=!0,o=_,c=m;break}if(C===c){S=!0,c=_,o=m;break}C=C.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function Et(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=Et(e),i!==null)return i;e=e.sibling}return null}var vt=Array.isArray,_t=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},yt=[],de=-1;function Gt(e){return{current:e}}function Ce(e){0>de||(e.current=yt[de],yt[de]=null,de--)}function le(e,i){de++,yt[de]=e.current,e.current=i}var sn=Gt(null),Kn=Gt(null),Dn=Gt(null),Sr=Gt(null);function tr(e,i){switch(le(Dn,i),le(Kn,e),le(sn,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?qv(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=qv(e),i=Fv(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ce(sn),le(sn,i)}function Ni(){Ce(sn),Ce(Kn),Ce(Dn)}function ts(e){e.memoizedState!==null&&le(Sr,e);var i=sn.current,o=Fv(i,e.type);i!==o&&(le(Kn,e),le(sn,o))}function er(e){Kn.current===e&&(Ce(sn),Ce(Kn)),Sr.current===e&&(Ce(Sr),Wu._currentValue=wt)}var Qs=Object.prototype.hasOwnProperty,Ar=r.unstable_scheduleCallback,Rr=r.unstable_cancelCallback,il=r.unstable_shouldYield,Ys=r.unstable_requestPaint,Nn=r.unstable_now,rl=r.unstable_getCurrentPriorityLevel,Oe=r.unstable_ImmediatePriority,Fe=r.unstable_UserBlockingPriority,Mi=r.unstable_NormalPriority,sl=r.unstable_LowPriority,$s=r.unstable_IdlePriority,al=r.log,es=r.unstable_setDisableYieldValue,nr=null,We=null;function Ws(e){if(We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(nr,e,void 0,(e.current.flags&128)===128)}catch{}}function ki(e){if(typeof al=="function"&&es(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(nr,e)}catch{}}var Ge=Math.clz32?Math.clz32:uo,lo=Math.log,ol=Math.LN2;function uo(e){return e>>>=0,e===0?32:31-(lo(e)/ol|0)|0}var _i=128,ir=4194304;function gi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,i){var o=e.pendingLanes;if(o===0)return 0;var c=0,m=e.suspendedLanes,_=e.pingedLanes,S=e.warmLanes;e=e.finishedLanes!==0;var C=o&134217727;return C!==0?(o=C&~m,o!==0?c=gi(o):(_&=C,_!==0?c=gi(_):e||(S=C&~S,S!==0&&(c=gi(S))))):(C=o&~m,C!==0?c=gi(C):_!==0?c=gi(_):e||(S=o&~S,S!==0&&(c=gi(S)))),c===0?0:i!==0&&i!==c&&(i&m)===0&&(m=c&-c,S=i&-i,m>=S||m===32&&(S&4194176)!==0)?i:c}function Cr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Xs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var e=_i;return _i<<=1,(_i&4194176)===0&&(_i=128),e}function Ir(){var e=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),e}function xr(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function De(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ll(e,i,o,c,m,_){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,M=e.expirationTimes,Z=e.hiddenUpdates;for(o=S&~o;0<o;){var st=31-Ge(o),ft=1<<st;C[st]=0,M[st]=-1;var tt=Z[st];if(tt!==null)for(Z[st]=null,st=0;st<tt.length;st++){var rt=tt[st];rt!==null&&(rt.lane&=-536870913)}o&=~ft}c!==0&&Pr(e,c,0),_!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=_&~(S&~i))}function Pr(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Ge(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&4194218}function Lr(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-Ge(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function Qn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ct(){var e=_t.p;return e!==0?e:(e=window.event,e===void 0?32:ly(e.type))}function rr(e,i){var o=_t.p;try{return _t.p=e,i()}finally{_t.p=o}}var vi=Math.random().toString(36).slice(2),Ze="__reactFiber$"+vi,Ue="__reactProps$"+vi,yi="__reactContainer$"+vi,Or="__reactEvents$"+vi,Ei="__reactListeners$"+vi,Ti="__reactHandles$"+vi,ho="__reactResources$"+vi,Dr="__reactMarker$"+vi;function ns(e){delete e[Ze],delete e[Ue],delete e[Or],delete e[Ei],delete e[Ti]}function wi(e){var i=e[Ze];if(i)return i;for(var o=e.parentNode;o;){if(i=o[yi]||o[Ze]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Kv(e);e!==null;){if(o=e[Ze])return o;e=Kv(e)}return i}e=o,o=e.parentNode}return null}function Vi(e){if(e=e[Ze]||e[yi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Nr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function bi(e){var i=e[ho];return i||(i=e[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(e){e[Dr]=!0}var fo=new Set,Js={};function Yn(e,i){Mn(e,i),Mn(e+"Capture",i)}function Mn(e,i){for(Js[e]=i,e=0;e<i.length;e++)fo.add(i[e])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ta={},ea={};function Mr(e){return Qs.call(ea,e)?!0:Qs.call(ta,e)?!1:is.test(e)?ea[e]=!0:(ta[e]=!0,!1)}function Zt(e,i,o){if(Mr(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function ue(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function wn(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mo(e){var i=sr(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,_=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,_.call(this,S)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ut(e){e._valueTracker||(e._valueTracker=mo(e))}function Ee(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=sr(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var si=/[\n"\\]/g;function ie(e){return e.replace(si,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vr(e,i,o,c,m,_,S,C){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),i!=null?S==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ze(i)):e.value!==""+ze(i)&&(e.value=""+ze(i)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),i!=null?ai(e,S,ze(i)):o!=null?ai(e,S,ze(o)):c!=null&&e.removeAttribute("value"),m==null&&_!=null&&(e.defaultChecked=!!_),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+ze(C):e.removeAttribute("name")}function Ui(e,i,o,c,m,_,S,C){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||i!=null))return;o=o!=null?""+ze(o):"",i=i!=null?""+ze(i):o,C||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function ai(e,i,o){i==="number"&&kr(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Dt(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+ze(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function $n(e,i,o){if(i!=null&&(i=""+ze(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+ze(o):""}function oi(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(vt(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=ze(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c)}function fn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ar(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||po.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function na(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&ar(e,m,c)}else for(var _ in i)i.hasOwnProperty(_)&&ar(e,_,i[_])}function rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_o=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(e){return _o.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bn=null;function ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,or=null;function Nt(e){var i=Vi(e);if(i&&(e=i.stateNode)){var o=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(Vr(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ie(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[Ue]||null;if(!m)throw Error(a(90));Vr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&Ee(c)}break t;case"textarea":$n(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&Dt(e,!!o.multiple,i,!1)}}}var kn=!1;function fe(e,i,o){if(kn)return e(i,o);kn=!0;try{var c=e(i);return c}finally{if(kn=!1,(Si!==null||or!==null)&&(bh(),Si&&(i=Si,e=or,or=Si=null,Nt(i),e)))for(i=0;i<e.length;i++)Nt(e[i])}}function Ur(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ue]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Vn=!1;if(Tn)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Vn=!1}var ui=null,Un=null,Ai=null;function ur(){if(Ai)return Ai;var e,i=Un,o=i.length,c,m="value"in ui?ui.value:ui.textContent,_=m.length;for(e=0;e<o&&i[e]===m[e];e++);var S=o-e;for(c=1;c<=S&&i[o-c]===m[_-c];c++);return Ai=m.slice(e,1<c?1-c:void 0)}function ge(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function dn(){return!0}function ra(){return!1}function Ke(e){function i(o,c,m,_,S){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(_):_[C]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?dn:ra,this.isPropagationStopped=ra,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),i}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=Ke(ce),cr=U({},ce,{view:0,detail:0}),ul=Ke(cr),os,Kt,zi,an=U({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(os=e.screenX-zi.screenX,Kt=e.screenY-zi.screenY):Kt=os=0,zi=e),os)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),mn=Ke(an),go=U({},an,{dataTransfer:0}),_u=Ke(go),hr=U({},cr,{relatedTarget:0}),sa=Ke(hr),aa=U({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=Ke(aa),cl=U({},ce,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zr=Ke(cl),gu=U({},ce,{data:0}),zn=Ke(gu),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ri={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function la(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ri[e])?!!i[e]:!1}function Br(){return la}var ua=U({},cr,{key:function(e){if(e.key){var i=ls[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ge(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(e){return e.type==="keypress"?ge(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ge(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ca=Ke(ua),yo=U({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=Ke(yo),fr=U({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),hl=Ke(fr),fa=U({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),fl=Ke(fa),Eo=U({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),us=Ke(Eo),Xe=U({},ce,{newState:0,oldState:0}),Bi=Ke(Xe),dl=[9,13,27,32],Bn=Tn&&"CompositionEvent"in window,f=null;Tn&&"documentMode"in document&&(f=document.documentMode);var T=Tn&&"TextEvent"in window&&!f,b=Tn&&(!Bn||f&&8<f&&11>=f),x=" ",$=!1;function nt(e,i){switch(e){case"keyup":return dl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jt=!1;function Be(e,i){switch(e){case"compositionend":return gt(i);case"keypress":return i.which!==32?null:($=!0,x);case"textInput":return e=i.data,e===x&&$?null:e;default:return null}}function te(e,i){if(Jt)return e==="compositionend"||!Bn&&nt(e,i)?(e=ur(),Ai=Un=ui=null,Jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!me[e.type]:i==="textarea"}function dr(e,i,o,c){Si?or?or.push(c):or=[c]:Si=c,i=Ih(i,"onChange"),0<i.length&&(o=new as("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var Te=null,ji=null;function Hi(e){Uv(e,0)}function ml(e){var i=Nr(e);if(Ee(i))return e}function da(e,i){if(e==="change")return i}var vu=!1;if(Tn){var ma;if(Tn){var yu="oninput"in document;if(!yu){var mr=document.createElement("div");mr.setAttribute("oninput","return;"),yu=typeof mr.oninput=="function"}ma=yu}else ma=!1;vu=ma&&(!document.documentMode||9<document.documentMode)}function To(){Te&&(Te.detachEvent("onpropertychange",Fc),ji=Te=null)}function Fc(e){if(e.propertyName==="value"&&ml(ji)){var i=[];dr(i,ji,e,ss(e)),fe(Hi,i)}}function Eu(e,i,o){e==="focusin"?(To(),Te=i,ji=o,Te.attachEvent("onpropertychange",Fc)):e==="focusout"&&To()}function ed(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(ji)}function pr(e,i){if(e==="click")return ml(i)}function nd(e,i){if(e==="input"||e==="change")return ml(i)}function pa(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Wn=typeof Object.is=="function"?Object.is:pa;function Xn(e,i){if(Wn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Qs.call(i,m)||!Wn(e[m],i[m]))return!1}return!0}function wo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tu(e,i){var o=wo(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=wo(o)}}function pl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?pl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function bo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=kr(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=kr(e.document)}return i}function So(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function _l(e,i){var o=bo(i);i=e.focusedElem;var c=e.selectionRange;if(o!==i&&i&&i.ownerDocument&&pl(i.ownerDocument.documentElement,i)){if(c!==null&&So(i)){if(e=c.start,o=c.end,o===void 0&&(o=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(o,i.value.length);else if(o=(e=i.ownerDocument||document)&&e.defaultView||window,o.getSelection){o=o.getSelection();var m=i.textContent.length,_=Math.min(c.start,m);c=c.end===void 0?_:Math.min(c.end,m),!o.extend&&_>c&&(m=c,c=_,_=m),m=Tu(i,_);var S=Tu(i,c);m&&S&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(e=e.createRange(),e.setStart(m.node,m.offset),o.removeAllRanges(),_>c?(o.addRange(e),o.extend(S.node,S.offset)):(e.setEnd(S.node,S.offset),o.addRange(e)))}}for(e=[],o=i;o=o.parentNode;)o.nodeType===1&&e.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)o=e[i],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var _a=Tn&&"documentMode"in document&&11>=document.documentMode,_r=null,Ao=null,ga=null,wu=!1;function Ro(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wu||_r==null||_r!==kr(c)||(c=_r,"selectionStart"in c&&So(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ga&&Xn(ga,c)||(ga=c,c=Ih(Ao,"onSelect"),0<c.length&&(i=new as("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=_r)))}function cs(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var hs={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},bu={},Su={};Tn&&(Su=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function fs(e){if(bu[e])return bu[e];if(!hs[e])return e;var i=hs[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Su)return bu[e]=i[o];return e}var Ci=fs("animationend"),Co=fs("animationiteration"),Gc=fs("animationstart"),gl=fs("transitionrun"),id=fs("transitionstart"),Zc=fs("transitioncancel"),Kc=fs("transitionend"),va=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pn(e,i){va.set(e,i),Yn(i,[e])}var Jn=[],ds=0,Au=0;function ci(){for(var e=ds,i=Au=ds=0;i<e;){var o=Jn[i];Jn[i++]=null;var c=Jn[i];Jn[i++]=null;var m=Jn[i];Jn[i++]=null;var _=Jn[i];if(Jn[i++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}_!==0&&Yc(o,m,_)}}function Io(e,i,o,c){Jn[ds++]=e,Jn[ds++]=i,Jn[ds++]=o,Jn[ds++]=c,Au|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function vl(e,i,o,c){return Io(e,i,o,c),ms(e)}function hi(e,i){return Io(e,null,null,i),ms(e)}function Yc(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,_=e.return;_!==null;)_.childLanes|=o,c=_.alternate,c!==null&&(c.childLanes|=o),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(m=!0)),e=_,_=_.return;m&&i!==null&&e.tag===3&&(_=e.stateNode,m=31-Ge(o),_=_.hiddenUpdates,e=_[m],e===null?_[m]=[i]:e.push(i),i.lane=o|536870912)}function ms(e){if(50<Fu)throw Fu=0,sm=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var qi={},Ru=new WeakMap;function ti(e,i){if(typeof e=="object"&&e!==null){var o=Ru.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Lt(i)},Ru.set(e,i),i)}return{value:e,source:i,stack:Lt(i)}}var ya=[],ps=0,xo=null,Po=0,ei=[],ni=0,_s=null,Fi=1,Gi="";function gs(e,i){ya[ps++]=Po,ya[ps++]=xo,xo=e,Po=i}function s(e,i,o){ei[ni++]=Fi,ei[ni++]=Gi,ei[ni++]=_s,_s=e;var c=Fi;e=Gi;var m=32-Ge(c)-1;c&=~(1<<m),o+=1;var _=32-Ge(i)+m;if(30<_){var S=m-m%5;_=(c&(1<<S)-1).toString(32),c>>=S,m-=S,Fi=1<<32-Ge(i)+m|o<<m|c,Gi=_+e}else Fi=1<<_|o<<m|c,Gi=e}function u(e){e.return!==null&&(gs(e,1),s(e,1,0))}function d(e){for(;e===xo;)xo=ya[--ps],ya[ps]=null,Po=ya[--ps],ya[ps]=null;for(;e===_s;)_s=ei[--ni],ei[ni]=null,Gi=ei[--ni],ei[ni]=null,Fi=ei[--ni],ei[ni]=null}var v=null,w=null,A=!1,V=null,Q=!1,et=Error(a(519));function ut(e){var i=Error(a(418,""));throw Pe(ti(i,e)),et}function Tt(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Ze]=e,i[Ue]=c,o){case"dialog":re("cancel",i),re("close",i);break;case"iframe":case"object":case"embed":re("load",i);break;case"video":case"audio":for(o=0;o<Zu.length;o++)re(Zu[o],i);break;case"source":re("error",i);break;case"img":case"image":case"link":re("error",i),re("load",i);break;case"details":re("toggle",i);break;case"input":re("invalid",i),Ui(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ut(i);break;case"select":re("invalid",i);break;case"textarea":re("invalid",i),oi(i,c.value,c.defaultValue,c.children),Ut(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Hv(i.textContent,o)?(c.popover!=null&&(re("beforetoggle",i),re("toggle",i)),c.onScroll!=null&&re("scroll",i),c.onScrollEnd!=null&&re("scrollend",i),c.onClick!=null&&(i.onclick=xh),i=!0):i=!1,i||ut(e)}function Mt(e){for(v=e.return;v;)switch(v.tag){case 3:case 27:Q=!0;return;case 5:case 13:Q=!1;return;default:v=v.return}}function Ht(e){if(e!==v)return!1;if(!A)return Mt(e),A=!0,!1;var i=!1,o;if((o=e.tag!==3&&e.tag!==27)&&((o=e.tag===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||wm(e.type,e.memoizedProps)),o=!o),o&&(i=!0),i&&w&&ut(e),Mt(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(i===0){w=vr(e.nextSibling);break t}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;e=e.nextSibling}w=null}}else w=v?vr(e.stateNode.nextSibling):null;return!0}function Qe(){w=v=null,A=!1}function Pe(e){V===null?V=[e]:V.push(e)}var _n=Error(a(460)),Sn=Error(a(474)),jr={then:function(){}};function $c(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yl(){}function Wc(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(yl,yl),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===_n?Error(a(483)):e;default:if(typeof i.status=="string")i.then(yl,yl);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===_n?Error(a(483)):e}throw Ea=i,_n}}var Ea=null;function Xc(){if(Ea===null)throw Error(a(459));var e=Ea;return Ea=null,e}var vs=null,Se=0;function ys(e){var i=Se;return Se+=1,vs===null&&(vs=[]),Wc(vs,e,i)}function Lo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function El(e,i){throw i.$$typeof===h?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Jc(e){var i=e._init;return i(e._payload)}function Tl(e){function i(Y,G){if(e){var W=Y.deletions;W===null?(Y.deletions=[G],Y.flags|=16):W.push(G)}}function o(Y,G){if(!e)return null;for(;G!==null;)i(Y,G),G=G.sibling;return null}function c(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function m(Y,G){return Y=Oa(Y,G),Y.index=0,Y.sibling=null,Y}function _(Y,G,W){return Y.index=W,e?(W=Y.alternate,W!==null?(W=W.index,W<G?(Y.flags|=33554434,G):W):(Y.flags|=33554434,G)):(Y.flags|=1048576,G)}function S(Y){return e&&Y.alternate===null&&(Y.flags|=33554434),Y}function C(Y,G,W,ct){return G===null||G.tag!==6?(G=Wd(W,Y.mode,ct),G.return=Y,G):(G=m(G,W),G.return=Y,G)}function M(Y,G,W,ct){var Rt=W.type;return Rt===y?st(Y,G,W.props.children,ct,W.key):G!==null&&(G.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===dt&&Jc(Rt)===G.type)?(G=m(G,W.props),Lo(G,W),G.return=Y,G):(G=vh(W.type,W.key,W.props,null,Y.mode,ct),Lo(G,W),G.return=Y,G)}function Z(Y,G,W,ct){return G===null||G.tag!==4||G.stateNode.containerInfo!==W.containerInfo||G.stateNode.implementation!==W.implementation?(G=Xd(W,Y.mode,ct),G.return=Y,G):(G=m(G,W.children||[]),G.return=Y,G)}function st(Y,G,W,ct,Rt){return G===null||G.tag!==7?(G=Bo(W,Y.mode,ct,Rt),G.return=Y,G):(G=m(G,W),G.return=Y,G)}function ft(Y,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Wd(""+G,Y.mode,W),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case p:return W=vh(G.type,G.key,G.props,null,Y.mode,W),Lo(W,G),W.return=Y,W;case g:return G=Xd(G,Y.mode,W),G.return=Y,G;case dt:var ct=G._init;return G=ct(G._payload),ft(Y,G,W)}if(vt(G)||Bt(G))return G=Bo(G,Y.mode,W,null),G.return=Y,G;if(typeof G.then=="function")return ft(Y,ys(G),W);if(G.$$typeof===j)return ft(Y,ph(Y,G),W);El(Y,G)}return null}function tt(Y,G,W,ct){var Rt=G!==null?G.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Rt!==null?null:C(Y,G,""+W,ct);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case p:return W.key===Rt?M(Y,G,W,ct):null;case g:return W.key===Rt?Z(Y,G,W,ct):null;case dt:return Rt=W._init,W=Rt(W._payload),tt(Y,G,W,ct)}if(vt(W)||Bt(W))return Rt!==null?null:st(Y,G,W,ct,null);if(typeof W.then=="function")return tt(Y,G,ys(W),ct);if(W.$$typeof===j)return tt(Y,G,ph(Y,W),ct);El(Y,W)}return null}function rt(Y,G,W,ct,Rt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Y=Y.get(W)||null,C(G,Y,""+ct,Rt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case p:return Y=Y.get(ct.key===null?W:ct.key)||null,M(G,Y,ct,Rt);case g:return Y=Y.get(ct.key===null?W:ct.key)||null,Z(G,Y,ct,Rt);case dt:var Wt=ct._init;return ct=Wt(ct._payload),rt(Y,G,W,ct,Rt)}if(vt(ct)||Bt(ct))return Y=Y.get(W)||null,st(G,Y,ct,Rt,null);if(typeof ct.then=="function")return rt(Y,G,W,ys(ct),Rt);if(ct.$$typeof===j)return rt(Y,G,W,ph(G,ct),Rt);El(G,ct)}return null}function It(Y,G,W,ct){for(var Rt=null,Wt=null,Pt=G,kt=G=0,yn=null;Pt!==null&&kt<W.length;kt++){Pt.index>kt?(yn=Pt,Pt=null):yn=Pt.sibling;var he=tt(Y,Pt,W[kt],ct);if(he===null){Pt===null&&(Pt=yn);break}e&&Pt&&he.alternate===null&&i(Y,Pt),G=_(he,G,kt),Wt===null?Rt=he:Wt.sibling=he,Wt=he,Pt=yn}if(kt===W.length)return o(Y,Pt),A&&gs(Y,kt),Rt;if(Pt===null){for(;kt<W.length;kt++)Pt=ft(Y,W[kt],ct),Pt!==null&&(G=_(Pt,G,kt),Wt===null?Rt=Pt:Wt.sibling=Pt,Wt=Pt);return A&&gs(Y,kt),Rt}for(Pt=c(Pt);kt<W.length;kt++)yn=rt(Pt,Y,kt,W[kt],ct),yn!==null&&(e&&yn.alternate!==null&&Pt.delete(yn.key===null?kt:yn.key),G=_(yn,G,kt),Wt===null?Rt=yn:Wt.sibling=yn,Wt=yn);return e&&Pt.forEach(function(za){return i(Y,za)}),A&&gs(Y,kt),Rt}function qt(Y,G,W,ct){if(W==null)throw Error(a(151));for(var Rt=null,Wt=null,Pt=G,kt=G=0,yn=null,he=W.next();Pt!==null&&!he.done;kt++,he=W.next()){Pt.index>kt?(yn=Pt,Pt=null):yn=Pt.sibling;var za=tt(Y,Pt,he.value,ct);if(za===null){Pt===null&&(Pt=yn);break}e&&Pt&&za.alternate===null&&i(Y,Pt),G=_(za,G,kt),Wt===null?Rt=za:Wt.sibling=za,Wt=za,Pt=yn}if(he.done)return o(Y,Pt),A&&gs(Y,kt),Rt;if(Pt===null){for(;!he.done;kt++,he=W.next())he=ft(Y,he.value,ct),he!==null&&(G=_(he,G,kt),Wt===null?Rt=he:Wt.sibling=he,Wt=he);return A&&gs(Y,kt),Rt}for(Pt=c(Pt);!he.done;kt++,he=W.next())he=rt(Pt,Y,kt,he.value,ct),he!==null&&(e&&he.alternate!==null&&Pt.delete(he.key===null?kt:he.key),G=_(he,G,kt),Wt===null?Rt=he:Wt.sibling=he,Wt=he);return e&&Pt.forEach(function(ES){return i(Y,ES)}),A&&gs(Y,kt),Rt}function qe(Y,G,W,ct){if(typeof W=="object"&&W!==null&&W.type===y&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case p:t:{for(var Rt=W.key;G!==null;){if(G.key===Rt){if(Rt=W.type,Rt===y){if(G.tag===7){o(Y,G.sibling),ct=m(G,W.props.children),ct.return=Y,Y=ct;break t}}else if(G.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===dt&&Jc(Rt)===G.type){o(Y,G.sibling),ct=m(G,W.props),Lo(ct,W),ct.return=Y,Y=ct;break t}o(Y,G);break}else i(Y,G);G=G.sibling}W.type===y?(ct=Bo(W.props.children,Y.mode,ct,W.key),ct.return=Y,Y=ct):(ct=vh(W.type,W.key,W.props,null,Y.mode,ct),Lo(ct,W),ct.return=Y,Y=ct)}return S(Y);case g:t:{for(Rt=W.key;G!==null;){if(G.key===Rt)if(G.tag===4&&G.stateNode.containerInfo===W.containerInfo&&G.stateNode.implementation===W.implementation){o(Y,G.sibling),ct=m(G,W.children||[]),ct.return=Y,Y=ct;break t}else{o(Y,G);break}else i(Y,G);G=G.sibling}ct=Xd(W,Y.mode,ct),ct.return=Y,Y=ct}return S(Y);case dt:return Rt=W._init,W=Rt(W._payload),qe(Y,G,W,ct)}if(vt(W))return It(Y,G,W,ct);if(Bt(W)){if(Rt=Bt(W),typeof Rt!="function")throw Error(a(150));return W=Rt.call(W),qt(Y,G,W,ct)}if(typeof W.then=="function")return qe(Y,G,ys(W),ct);if(W.$$typeof===j)return qe(Y,G,ph(Y,W),ct);El(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,G!==null&&G.tag===6?(o(Y,G.sibling),ct=m(G,W),ct.return=Y,Y=ct):(o(Y,G),ct=Wd(W,Y.mode,ct),ct.return=Y,Y=ct),S(Y)):o(Y,G)}return function(Y,G,W,ct){try{Se=0;var Rt=qe(Y,G,W,ct);return vs=null,Rt}catch(Pt){if(Pt===_n)throw Pt;var Wt=Yi(29,Pt,null,Y.mode);return Wt.lanes=ct,Wt.return=Y,Wt}finally{}}}var Hr=Tl(!0),th=Tl(!1),wl=Gt(null),eh=Gt(0);function H_(e,i){e=Ps,le(eh,e),le(wl,i),Ps=e|i.baseLanes}function rd(){le(eh,Ps),le(wl,wl.current)}function sd(){Ps=eh.current,Ce(wl),Ce(eh)}var Zi=Gt(null),qr=null;function Ta(e){var i=e.alternate;le(on,on.current&1),le(Zi,e),qr===null&&(i===null||wl.current!==null||i.memoizedState!==null)&&(qr=e)}function q_(e){if(e.tag===22){if(le(on,on.current),le(Zi,e),qr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(qr=e)}}else wa()}function wa(){le(on,on.current),le(Zi,Zi.current)}function Es(e){Ce(Zi),qr===e&&(qr=null),Ce(on)}var on=Gt(0);function nh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ob=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},lb=r.unstable_scheduleCallback,ub=r.unstable_NormalPriority,ln={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new ob,data:new Map,refCount:0}}function Cu(e){e.refCount--,e.refCount===0&&lb(ub,function(){e.controller.abort()})}var Iu=null,od=0,bl=0,Sl=null;function cb(e,i){if(Iu===null){var o=Iu=[];od=0,bl=dm(),Sl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return od++,i.then(F_,F_),i}function F_(){if(--od===0&&Iu!==null){Sl!==null&&(Sl.status="fulfilled");var e=Iu;Iu=null,bl=0,Sl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function hb(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var G_=P.S;P.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&cb(e,i),G_!==null&&G_(e,i)};var Oo=Gt(null);function ld(){var e=Oo.current;return e!==null?e:Ae.pooledCache}function ih(e,i){i===null?le(Oo,Oo.current):le(Oo,i.pool)}function Z_(){var e=ld();return e===null?null:{parent:ln._currentValue,pool:e}}var ba=0,Yt=null,ve=null,Je=null,rh=!1,Al=!1,Do=!1,sh=0,xu=0,Rl=null,fb=0;function Ye(){throw Error(a(321))}function ud(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Wn(e[o],i[o]))return!1;return!0}function cd(e,i,o,c,m,_){return ba=_,Yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=e===null||e.memoizedState===null?No:Sa,Do=!1,_=o(c,m),Do=!1,Al&&(_=Q_(i,o,c,m)),K_(e),_}function K_(e){P.H=Fr;var i=ve!==null&&ve.next!==null;if(ba=0,Je=ve=Yt=null,rh=!1,xu=0,Rl=null,i)throw Error(a(300));e===null||gn||(e=e.dependencies,e!==null&&mh(e)&&(gn=!0))}function Q_(e,i,o,c){Yt=e;var m=0;do{if(Al&&(Rl=null),xu=0,Al=!1,25<=m)throw Error(a(301));if(m+=1,Je=ve=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}P.H=Mo,_=i(o,c)}while(Al);return _}function db(){var e=P.H,i=e.useState()[0];return i=typeof i.then=="function"?Pu(i):i,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(Yt.flags|=1024),i}function hd(){var e=sh!==0;return sh=0,e}function fd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function dd(e){if(rh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}rh=!1}ba=0,Je=ve=Yt=null,Al=!1,xu=sh=0,Rl=null}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Yt.memoizedState=Je=e:Je=Je.next=e,Je}function tn(){if(ve===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var i=Je===null?Yt.memoizedState:Je.next;if(i!==null)Je=i,ve=e;else{if(e===null)throw Yt.alternate===null?Error(a(467)):Error(a(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Je===null?Yt.memoizedState=Je=e:Je=Je.next=e}return Je}var ah;ah=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Pu(e){var i=xu;return xu+=1,Rl===null&&(Rl=[]),e=Wc(Rl,e,i),i=Yt,(Je===null?i.memoizedState:Je.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?No:Sa),e}function oh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pu(e);if(e.$$typeof===j)return jn(e)}throw Error(a(438,String(e)))}function md(e){var i=null,o=Yt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Yt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=ah(),Yt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=xt;return i.index++,o}function Ts(e,i){return typeof i=="function"?i(e):i}function lh(e){var i=tn();return pd(i,ve,e)}function pd(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,_=c.pending;if(_!==null){if(m!==null){var S=m.next;m.next=_.next,_.next=S}i.baseQueue=m=_,c.pending=null}if(_=e.baseState,m===null)e.memoizedState=_;else{i=m.next;var C=S=null,M=null,Z=i,st=!1;do{var ft=Z.lane&-536870913;if(ft!==Z.lane?(se&ft)===ft:(ba&ft)===ft){var tt=Z.revertLane;if(tt===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ft===bl&&(st=!0);else if((ba&tt)===tt){Z=Z.next,tt===bl&&(st=!0);continue}else ft={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},M===null?(C=M=ft,S=_):M=M.next=ft,Yt.lanes|=tt,Da|=tt;ft=Z.action,Do&&o(_,ft),_=Z.hasEagerState?Z.eagerState:o(_,ft)}else tt={lane:ft,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},M===null?(C=M=tt,S=_):M=M.next=tt,Yt.lanes|=ft,Da|=ft;Z=Z.next}while(Z!==null&&Z!==i);if(M===null?S=_:M.next=C,!Wn(_,e.memoizedState)&&(gn=!0,st&&(o=Sl,o!==null)))throw o;e.memoizedState=_,e.baseState=S,e.baseQueue=M,c.lastRenderedState=_}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function _d(e){var i=tn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,_=i.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do _=e(_,S.action),S=S.next;while(S!==m);Wn(_,i.memoizedState)||(gn=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),o.lastRenderedState=_}return[_,c]}function Y_(e,i,o){var c=Yt,m=tn(),_=A;if(_){if(o===void 0)throw Error(a(407));o=o()}else o=i();var S=!Wn((ve||m).memoizedState,o);if(S&&(m.memoizedState=o,gn=!0),m=m.queue,yd(X_.bind(null,c,m,e),[e]),m.getSnapshot!==i||S||Je!==null&&Je.memoizedState.tag&1){if(c.flags|=2048,Cl(9,W_.bind(null,c,m,o,i),{destroy:void 0},null),Ae===null)throw Error(a(349));_||(ba&60)!==0||$_(c,i,o)}return o}function $_(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Yt.updateQueue,i===null?(i=ah(),Yt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function W_(e,i,o,c){i.value=o,i.getSnapshot=c,J_(i)&&tg(e)}function X_(e,i,o){return o(function(){J_(i)&&tg(e)})}function J_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Wn(e,o)}catch{return!0}}function tg(e){var i=hi(e,2);i!==null&&ii(i,e,2)}function gd(e){var i=fi();if(typeof e=="function"){var o=e;if(e=o(),Do){ki(!0);try{o()}finally{ki(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},i}function eg(e,i,o,c){return e.baseState=o,pd(e,ve,typeof c=="function"?c:Ts)}function mb(e,i,o,c,m){if(hh(e))throw Error(a(485));if(e=i.action,e!==null){var _={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};P.T!==null?o(!0):_.isTransition=!1,c(_),o=i.pending,o===null?(_.next=i.pending=_,ng(i,_)):(_.next=o.next,i.pending=o.next=_)}}function ng(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var _=P.T,S={};P.T=S;try{var C=o(m,c),M=P.S;M!==null&&M(S,C),ig(e,i,C)}catch(Z){vd(e,i,Z)}finally{P.T=_}}else try{_=o(m,c),ig(e,i,_)}catch(Z){vd(e,i,Z)}}function ig(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){rg(e,i,c)},function(c){return vd(e,i,c)}):rg(e,i,o)}function rg(e,i,o){i.status="fulfilled",i.value=o,sg(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,ng(e,o)))}function vd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,sg(i),i=i.next;while(i!==c)}e.action=null}function sg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ag(e,i){return i}function og(e,i){if(A){var o=Ae.formState;if(o!==null){t:{var c=Yt;if(A){if(w){e:{for(var m=w,_=Q;m.nodeType!==8;){if(!_){m=null;break e}if(m=vr(m.nextSibling),m===null){m=null;break e}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){w=vr(m.nextSibling),c=m.data==="F!";break t}}ut(c)}c=!1}c&&(i=o[0])}}return o=fi(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:i},o.queue=c,o=Ag.bind(null,Yt,c),c.dispatch=o,c=gd(!1),_=Sd.bind(null,Yt,!1,c.queue),c=fi(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=mb.bind(null,Yt,m,_,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function lg(e){var i=tn();return ug(i,ve,e)}function ug(e,i,o){i=pd(e,i,ag)[0],e=lh(Ts)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Pu(i):i;var c=tn(),m=c.queue,_=m.dispatch;return o!==c.memoizedState&&(Yt.flags|=2048,Cl(9,pb.bind(null,m,o),{destroy:void 0},null)),[i,_,e]}function pb(e,i){e.action=i}function cg(e){var i=tn(),o=ve;if(o!==null)return ug(i,o,e);tn(),i=i.memoizedState,o=tn();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Cl(e,i,o,c){return e={tag:e,create:i,inst:o,deps:c,next:null},i=Yt.updateQueue,i===null&&(i=ah(),Yt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function hg(){return tn().memoizedState}function uh(e,i,o,c){var m=fi();Yt.flags|=e,m.memoizedState=Cl(1|i,o,{destroy:void 0},c===void 0?null:c)}function ch(e,i,o,c){var m=tn();c=c===void 0?null:c;var _=m.memoizedState.inst;ve!==null&&c!==null&&ud(c,ve.memoizedState.deps)?m.memoizedState=Cl(i,o,_,c):(Yt.flags|=e,m.memoizedState=Cl(1|i,o,_,c))}function fg(e,i){uh(8390656,8,e,i)}function yd(e,i){ch(2048,8,e,i)}function dg(e,i){return ch(4,2,e,i)}function mg(e,i){return ch(4,4,e,i)}function pg(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function _g(e,i,o){o=o!=null?o.concat([e]):null,ch(4,4,pg.bind(null,i,e),o)}function Ed(){}function gg(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&ud(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function vg(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&ud(i,c[1]))return c[0];if(c=e(),Do){ki(!0);try{e()}finally{ki(!1)}}return o.memoizedState=[c,i],c}function Td(e,i,o){return o===void 0||(ba&1073741824)!==0?e.memoizedState=i:(e.memoizedState=o,e=Ev(),Yt.lanes|=e,Da|=e,o)}function yg(e,i,o,c){return Wn(o,i)?o:wl.current!==null?(e=Td(e,o,c),Wn(e,i)||(gn=!0),e):(ba&42)===0?(gn=!0,e.memoizedState=o):(e=Ev(),Yt.lanes|=e,Da|=e,i)}function Eg(e,i,o,c,m){var _=_t.p;_t.p=_!==0&&8>_?_:8;var S=P.T,C={};P.T=C,Sd(e,!1,i,o);try{var M=m(),Z=P.S;if(Z!==null&&Z(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var st=hb(M,c);Lu(e,i,st,Li(e))}else Lu(e,i,c,Li(e))}catch(ft){Lu(e,i,{then:function(){},status:"rejected",reason:ft},Li())}finally{_t.p=_,P.T=S}}function _b(){}function wd(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=Tg(e).queue;Eg(e,m,i,wt,o===null?_b:function(){return wg(e),o(c)})}function Tg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:wt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function wg(e){var i=Tg(e).next.queue;Lu(e,i,{},Li())}function bd(){return jn(Wu)}function bg(){return tn().memoizedState}function Sg(){return tn().memoizedState}function gb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Li();e=Ca(o);var c=Ia(i,e,o);c!==null&&(ii(c,i,o),Nu(c,i,o)),i={cache:ad()},e.payload=i;return}i=i.return}}function vb(e,i,o){var c=Li();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},hh(e)?Rg(i,o):(o=vl(e,i,o,c),o!==null&&(ii(o,e,c),Cg(o,i,c)))}function Ag(e,i,o){var c=Li();Lu(e,i,o,c)}function Lu(e,i,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(hh(e))Rg(i,m);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var S=i.lastRenderedState,C=_(S,o);if(m.hasEagerState=!0,m.eagerState=C,Wn(C,S))return Io(e,i,m,0),Ae===null&&ci(),!1}catch{}finally{}if(o=vl(e,i,m,c),o!==null)return ii(o,e,c),Cg(o,i,c),!0}return!1}function Sd(e,i,o,c){if(c={lane:2,revertLane:dm(),action:c,hasEagerState:!1,eagerState:null,next:null},hh(e)){if(i)throw Error(a(479))}else i=vl(e,o,c,2),i!==null&&ii(i,e,2)}function hh(e){var i=e.alternate;return e===Yt||i!==null&&i===Yt}function Rg(e,i){Al=rh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Cg(e,i,o){if((o&4194176)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Lr(e,o)}}var Fr={readContext:jn,use:oh,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye};Fr.useCacheRefresh=Ye,Fr.useMemoCache=Ye,Fr.useHostTransitionStatus=Ye,Fr.useFormState=Ye,Fr.useActionState=Ye,Fr.useOptimistic=Ye;var No={readContext:jn,use:oh,useCallback:function(e,i){return fi().memoizedState=[e,i===void 0?null:i],e},useContext:jn,useEffect:fg,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,uh(4194308,4,pg.bind(null,i,e),o)},useLayoutEffect:function(e,i){return uh(4194308,4,e,i)},useInsertionEffect:function(e,i){uh(4,2,e,i)},useMemo:function(e,i){var o=fi();i=i===void 0?null:i;var c=e();if(Do){ki(!0);try{e()}finally{ki(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=fi();if(o!==void 0){var m=o(i);if(Do){ki(!0);try{o(i)}finally{ki(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=vb.bind(null,Yt,e),[c.memoizedState,e]},useRef:function(e){var i=fi();return e={current:e},i.memoizedState=e},useState:function(e){e=gd(e);var i=e.queue,o=Ag.bind(null,Yt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Ed,useDeferredValue:function(e,i){var o=fi();return Td(o,e,i)},useTransition:function(){var e=gd(!1);return e=Eg.bind(null,Yt,e.queue,!0,!1),fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Yt,m=fi();if(A){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ae===null)throw Error(a(349));(se&60)!==0||$_(c,i,o)}m.memoizedState=o;var _={value:o,getSnapshot:i};return m.queue=_,fg(X_.bind(null,c,_,e),[e]),c.flags|=2048,Cl(9,W_.bind(null,c,_,o,i),{destroy:void 0},null),o},useId:function(){var e=fi(),i=Ae.identifierPrefix;if(A){var o=Gi,c=Fi;o=(c&~(1<<32-Ge(c)-1)).toString(32)+o,i=":"+i+"R"+o,o=sh++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=fb++,i=":"+i+"r"+o.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return fi().memoizedState=gb.bind(null,Yt)}};No.useMemoCache=md,No.useHostTransitionStatus=bd,No.useFormState=og,No.useActionState=og,No.useOptimistic=function(e){var i=fi();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Sd.bind(null,Yt,!0,o),o.dispatch=i,[e,i]};var Sa={readContext:jn,use:oh,useCallback:gg,useContext:jn,useEffect:yd,useImperativeHandle:_g,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:vg,useReducer:lh,useRef:hg,useState:function(){return lh(Ts)},useDebugValue:Ed,useDeferredValue:function(e,i){var o=tn();return yg(o,ve.memoizedState,e,i)},useTransition:function(){var e=lh(Ts)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:Pu(e),i]},useSyncExternalStore:Y_,useId:bg};Sa.useCacheRefresh=Sg,Sa.useMemoCache=md,Sa.useHostTransitionStatus=bd,Sa.useFormState=lg,Sa.useActionState=lg,Sa.useOptimistic=function(e,i){var o=tn();return eg(o,ve,e,i)};var Mo={readContext:jn,use:oh,useCallback:gg,useContext:jn,useEffect:yd,useImperativeHandle:_g,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:vg,useReducer:_d,useRef:hg,useState:function(){return _d(Ts)},useDebugValue:Ed,useDeferredValue:function(e,i){var o=tn();return ve===null?Td(o,e,i):yg(o,ve.memoizedState,e,i)},useTransition:function(){var e=_d(Ts)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:Pu(e),i]},useSyncExternalStore:Y_,useId:bg};Mo.useCacheRefresh=Sg,Mo.useMemoCache=md,Mo.useHostTransitionStatus=bd,Mo.useFormState=cg,Mo.useActionState=cg,Mo.useOptimistic=function(e,i){var o=tn();return ve!==null?eg(o,ve,e,i):(o.baseState=e,[e,o.queue.dispatch])};function Ad(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:U({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Rd={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Li(),m=Ca(c);m.payload=i,o!=null&&(m.callback=o),i=Ia(e,m,c),i!==null&&(ii(i,e,c),Nu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Li(),m=Ca(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=Ia(e,m,c),i!==null&&(ii(i,e,c),Nu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Li(),c=Ca(o);c.tag=2,i!=null&&(c.callback=i),i=Ia(e,c,o),i!==null&&(ii(i,e,o),Nu(i,e,o))}};function Ig(e,i,o,c,m,_,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,_,S):i.prototype&&i.prototype.isPureReactComponent?!Xn(o,c)||!Xn(m,_):!0}function xg(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Rd.enqueueReplaceState(i,i.state,null)}function ko(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=U({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}var fh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Pg(e){fh(e)}function Lg(e){console.error(e)}function Og(e){fh(e)}function dh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Dg(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Cd(e,i,o){return o=Ca(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(e,i)},o}function Ng(e){return e=Ca(e),e.tag=3,e}function Mg(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var _=c.value;e.payload=function(){return m(_)},e.callback=function(){Dg(i,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Dg(i,o,c),typeof m!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function yb(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Du(i,o,m,!0),o=Zi.current,o!==null){switch(o.tag){case 13:return qr===null?lm():o.alternate===null&&He===0&&(He=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===jr?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),cm(e,c,m)),!1;case 22:return o.flags|=65536,c===jr?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),cm(e,c,m)),!1}throw Error(a(435,o.tag))}return cm(e,c,m),lm(),!1}if(A)return i=Zi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==et&&(e=Error(a(422),{cause:c}),Pe(ti(e,o)))):(c!==et&&(i=Error(a(423),{cause:c}),Pe(ti(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=ti(c,o),m=Cd(e.stateNode,c,m),Hd(e,m),He!==4&&(He=2)),!1;var _=Error(a(520),{cause:c});if(_=ti(_,o),Hu===null?Hu=[_]:Hu.push(_),He!==4&&(He=2),i===null)return!0;c=ti(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Cd(o.stateNode,c,e),Hd(o,e),!1;case 1:if(i=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Na===null||!Na.has(_))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Ng(m),Mg(m,e,o,c),Hd(o,m),!1}o=o.return}while(o!==null);return!1}var kg=Error(a(461)),gn=!1;function An(e,i,o,c){i.child=e===null?th(i,null,o,c):Hr(i,e.child,o,c)}function Vg(e,i,o,c,m){o=o.render;var _=i.ref;if("ref"in c){var S={};for(var C in c)C!=="ref"&&(S[C]=c[C])}else S=c;return Uo(i),c=cd(e,i,o,S,_,m),C=hd(),e!==null&&!gn?(fd(e,i,m),ws(e,i,m)):(A&&C&&u(i),i.flags|=1,An(e,i,c,m),i.child)}function Ug(e,i,o,c,m){if(e===null){var _=o.type;return typeof _=="function"&&!$d(_)&&_.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=_,zg(e,i,_,c,m)):(e=vh(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!kd(e,m)){var S=_.memoizedProps;if(o=o.compare,o=o!==null?o:Xn,o(S,c)&&e.ref===i.ref)return ws(e,i,m)}return i.flags|=1,e=Oa(_,c),e.ref=i.ref,e.return=i,i.child=e}function zg(e,i,o,c,m){if(e!==null){var _=e.memoizedProps;if(Xn(_,c)&&e.ref===i.ref)if(gn=!1,i.pendingProps=c=_,kd(e,m))(e.flags&131072)!==0&&(gn=!0);else return i.lanes=e.lanes,ws(e,i,m)}return Id(e,i,o,c,m)}function Bg(e,i,o){var c=i.pendingProps,m=c.children,_=(i.stateNode._pendingVisibility&2)!==0,S=e!==null?e.memoizedState:null;if(Ou(e,i),c.mode==="hidden"||_){if((i.flags&128)!==0){if(c=S!==null?S.baseLanes|o:o,e!==null){for(m=i.child=e.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;i.childLanes=_&~c}else i.childLanes=0,i.child=null;return jg(e,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ih(i,S!==null?S.cachePool:null),S!==null?H_(i,S):rd(),q_(i);else return i.lanes=i.childLanes=536870912,jg(e,i,S!==null?S.baseLanes|o:o,o)}else S!==null?(ih(i,S.cachePool),H_(i,S),wa(),i.memoizedState=null):(e!==null&&ih(i,null),rd(),wa());return An(e,i,m,o),i.child}function jg(e,i,o,c){var m=ld();return m=m===null?null:{parent:ln._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},e!==null&&ih(i,null),rd(),q_(i),e!==null&&Du(e,i,c,!0),null}function Ou(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=2097664)}}function Id(e,i,o,c,m){return Uo(i),o=cd(e,i,o,c,void 0,m),c=hd(),e!==null&&!gn?(fd(e,i,m),ws(e,i,m)):(A&&c&&u(i),i.flags|=1,An(e,i,o,m),i.child)}function Hg(e,i,o,c,m,_){return Uo(i),i.updateQueue=null,o=Q_(i,c,o,m),K_(e),c=hd(),e!==null&&!gn?(fd(e,i,_),ws(e,i,_)):(A&&c&&u(i),i.flags|=1,An(e,i,o,_),i.child)}function qg(e,i,o,c,m){if(Uo(i),i.stateNode===null){var _=qi,S=o.contextType;typeof S=="object"&&S!==null&&(_=jn(S)),_=new o(c,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Rd,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=c,_.state=i.memoizedState,_.refs={},Bd(i),S=o.contextType,_.context=typeof S=="object"&&S!==null?jn(S):qi,_.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Ad(i,o,S,c),_.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&Rd.enqueueReplaceState(_,_.state,null),ku(i,c,_,m),Mu(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){_=i.stateNode;var C=i.memoizedProps,M=ko(o,C);_.props=M;var Z=_.context,st=o.contextType;S=qi,typeof st=="object"&&st!==null&&(S=jn(st));var ft=o.getDerivedStateFromProps;st=typeof ft=="function"||typeof _.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,st||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C||Z!==S)&&xg(i,_,c,S),Ra=!1;var tt=i.memoizedState;_.state=tt,ku(i,c,_,m),Mu(),Z=i.memoizedState,C||tt!==Z||Ra?(typeof ft=="function"&&(Ad(i,o,ft,c),Z=i.memoizedState),(M=Ra||Ig(i,o,M,c,tt,Z,S))?(st||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Z),_.props=c,_.state=Z,_.context=S,c=M):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,jd(e,i),S=i.memoizedProps,st=ko(o,S),_.props=st,ft=i.pendingProps,tt=_.context,Z=o.contextType,M=qi,typeof Z=="object"&&Z!==null&&(M=jn(Z)),C=o.getDerivedStateFromProps,(Z=typeof C=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==ft||tt!==M)&&xg(i,_,c,M),Ra=!1,tt=i.memoizedState,_.state=tt,ku(i,c,_,m),Mu();var rt=i.memoizedState;S!==ft||tt!==rt||Ra||e!==null&&e.dependencies!==null&&mh(e.dependencies)?(typeof C=="function"&&(Ad(i,o,C,c),rt=i.memoizedState),(st=Ra||Ig(i,o,st,c,tt,rt,M)||e!==null&&e.dependencies!==null&&mh(e.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,rt,M),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,rt,M)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=rt),_.props=c,_.state=rt,_.context=M,c=st):(typeof _.componentDidUpdate!="function"||S===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),c=!1)}return _=c,Ou(e,i),c=(i.flags&128)!==0,_||c?(_=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&c?(i.child=Hr(i,e.child,null,m),i.child=Hr(i,null,o,m)):An(e,i,o,m),i.memoizedState=_.state,e=i.child):e=ws(e,i,m),e}function Fg(e,i,o,c){return Qe(),i.flags|=256,An(e,i,o,c),i.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function Pd(e){return{baseLanes:e,cachePool:Z_()}}function Ld(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=$i),e}function Gg(e,i,o){var c=i.pendingProps,m=!1,_=(i.flags&128)!==0,S;if((S=_)||(S=e!==null&&e.memoizedState===null?!1:(on.current&2)!==0),S&&(m=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,e===null){if(A){if(m?Ta(i):wa(),A){var C=w,M;if(M=C){t:{for(M=C,C=Q;M.nodeType!==8;){if(!C){C=null;break t}if(M=vr(M.nextSibling),M===null){C=null;break t}}C=M}C!==null?(i.memoizedState={dehydrated:C,treeContext:_s!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912},M=Yi(18,null,null,0),M.stateNode=C,M.return=i,i.child=M,v=i,w=null,M=!0):M=!1}M||ut(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?i.lanes=16:i.lanes=536870912,null;Es(i)}return C=c.children,c=c.fallback,m?(wa(),m=i.mode,C=Dd({mode:"hidden",children:C},m),c=Bo(c,m,o,null),C.return=i,c.return=i,C.sibling=c,i.child=C,m=i.child,m.memoizedState=Pd(o),m.childLanes=Ld(e,S,o),i.memoizedState=xd,c):(Ta(i),Od(i,C))}if(M=e.memoizedState,M!==null&&(C=M.dehydrated,C!==null)){if(_)i.flags&256?(Ta(i),i.flags&=-257,i=Nd(e,i,o)):i.memoizedState!==null?(wa(),i.child=e.child,i.flags|=128,i=null):(wa(),m=c.fallback,C=i.mode,c=Dd({mode:"visible",children:c.children},C),m=Bo(m,C,o,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,Hr(i,e.child,null,o),c=i.child,c.memoizedState=Pd(o),c.childLanes=Ld(e,S,o),i.memoizedState=xd,i=m);else if(Ta(i),C.data==="$!"){if(S=C.nextSibling&&C.nextSibling.dataset,S)var Z=S.dgst;S=Z,c=Error(a(419)),c.stack="",c.digest=S,Pe({value:c,source:null,stack:null}),i=Nd(e,i,o)}else if(gn||Du(e,i,o,!1),S=(o&e.childLanes)!==0,gn||S){if(S=Ae,S!==null){if(c=o&-o,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==M.retryLane)throw M.retryLane=c,hi(e,c),ii(S,e,c),kg}C.data==="$?"||lm(),i=Nd(e,i,o)}else C.data==="$?"?(i.flags|=128,i.child=e.child,i=Nb.bind(null,e),C._reactRetry=i,i=null):(e=M.treeContext,w=vr(C.nextSibling),v=i,A=!0,V=null,Q=!1,e!==null&&(ei[ni++]=Fi,ei[ni++]=Gi,ei[ni++]=_s,Fi=e.id,Gi=e.overflow,_s=i),i=Od(i,c.children),i.flags|=4096);return i}return m?(wa(),m=c.fallback,C=i.mode,M=e.child,Z=M.sibling,c=Oa(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&31457280,Z!==null?m=Oa(Z,m):(m=Bo(m,C,o,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,C=e.child.memoizedState,C===null?C=Pd(o):(M=C.cachePool,M!==null?(Z=ln._currentValue,M=M.parent!==Z?{parent:Z,pool:Z}:M):M=Z_(),C={baseLanes:C.baseLanes|o,cachePool:M}),m.memoizedState=C,m.childLanes=Ld(e,S,o),i.memoizedState=xd,c):(Ta(i),o=e.child,e=o.sibling,o=Oa(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(S=i.deletions,S===null?(i.deletions=[e],i.flags|=16):S.push(e)),i.child=o,i.memoizedState=null,o)}function Od(e,i){return i=Dd({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Dd(e,i){return gv(e,i,0,null)}function Nd(e,i,o){return Hr(i,e.child,null,o),e=Od(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Zg(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Ud(e.return,i,o)}function Md(e,i,o,c,m){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=m)}function Kg(e,i,o){var c=i.pendingProps,m=c.revealOrder,_=c.tail;if(An(e,i,c.children,o),c=on.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,o,i);else if(e.tag===19)Zg(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(le(on,c),m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&nh(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Md(i,!1,m,o,_);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&nh(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Md(i,!0,o,null,_);break;case"together":Md(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ws(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Da|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Du(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=Oa(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=Oa(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function kd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&mh(e)))}function Eb(e,i,o){switch(i.tag){case 3:tr(i,i.stateNode.containerInfo),Aa(i,ln,e.memoizedState.cache),Qe();break;case 27:case 5:ts(i);break;case 4:tr(i,i.stateNode.containerInfo);break;case 10:Aa(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ta(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Gg(e,i,o):(Ta(i),e=ws(e,i,o),e!==null?e.sibling:null);Ta(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Du(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return Kg(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(on,on.current),c)break;return null;case 22:case 23:return i.lanes=0,Bg(e,i,o);case 24:Aa(i,ln,e.memoizedState.cache)}return ws(e,i,o)}function Qg(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)gn=!0;else{if(!kd(e,o)&&(i.flags&128)===0)return gn=!1,Eb(e,i,o);gn=(e.flags&131072)!==0}else gn=!1,A&&(i.flags&1048576)!==0&&s(i,Po,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var c=i.elementType,m=c._init;if(c=m(c._payload),i.type=c,typeof c=="function")$d(c)?(e=ko(c,e),i.tag=1,i=qg(null,i,c,e,o)):(i.tag=0,i=Id(null,i,c,e,o));else{if(c!=null){if(m=c.$$typeof,m===B){i.tag=11,i=Vg(null,i,c,e,o);break t}else if(m===it){i.tag=14,i=Ug(null,i,c,e,o);break t}}throw i=N(c)||c,Error(a(306,i,""))}}return i;case 0:return Id(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=ko(c,i.pendingProps),qg(e,i,c,m,o);case 3:t:{if(tr(i,i.stateNode.containerInfo),e===null)throw Error(a(387));var _=i.pendingProps;m=i.memoizedState,c=m.element,jd(e,i),ku(i,_,null,o);var S=i.memoizedState;if(_=S.cache,Aa(i,ln,_),_!==m.cache&&zd(i,[ln],o,!0),Mu(),_=S.element,m.isDehydrated)if(m={element:_,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Fg(e,i,_,o);break t}else if(_!==c){c=ti(Error(a(424)),i),Pe(c),i=Fg(e,i,_,o);break t}else for(w=vr(i.stateNode.containerInfo.firstChild),v=i,A=!0,V=null,Q=!0,o=th(i,null,_,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qe(),_===c){i=ws(e,i,o);break t}An(e,i,_,o)}i=i.child}return i;case 26:return Ou(e,i),e===null?(o=Wv(i.type,null,i.pendingProps,null))?i.memoizedState=o:A||(o=i.type,e=i.pendingProps,c=Ph(Dn.current).createElement(o),c[Ze]=i,c[Ue]=e,Rn(c,o,e),Ie(c),i.stateNode=c):i.memoizedState=Wv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ts(i),e===null&&A&&(c=i.stateNode=Qv(i.type,i.pendingProps,Dn.current),v=i,Q=!0,w=vr(c.firstChild)),c=i.pendingProps.children,e!==null||A?An(e,i,c,o):i.child=Hr(i,null,c,o),Ou(e,i),i.child;case 5:return e===null&&A&&((m=c=w)&&(c=$b(c,i.type,i.pendingProps,Q),c!==null?(i.stateNode=c,v=i,w=vr(c.firstChild),Q=!1,m=!0):m=!1),m||ut(i)),ts(i),m=i.type,_=i.pendingProps,S=e!==null?e.memoizedProps:null,c=_.children,wm(m,_)?c=null:S!==null&&wm(m,S)&&(i.flags|=32),i.memoizedState!==null&&(m=cd(e,i,db,null,null,o),Wu._currentValue=m),Ou(e,i),An(e,i,c,o),i.child;case 6:return e===null&&A&&((e=o=w)&&(o=Wb(o,i.pendingProps,Q),o!==null?(i.stateNode=o,v=i,w=null,e=!0):e=!1),e||ut(i)),null;case 13:return Gg(e,i,o);case 4:return tr(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Hr(i,null,c,o):An(e,i,c,o),i.child;case 11:return Vg(e,i,i.type,i.pendingProps,o);case 7:return An(e,i,i.pendingProps,o),i.child;case 8:return An(e,i,i.pendingProps.children,o),i.child;case 12:return An(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Aa(i,i.type,c.value),An(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Uo(i),m=jn(m),c=c(m),i.flags|=1,An(e,i,c,o),i.child;case 14:return Ug(e,i,i.type,i.pendingProps,o);case 15:return zg(e,i,i.type,i.pendingProps,o);case 19:return Kg(e,i,o);case 22:return Bg(e,i,o);case 24:return Uo(i),c=jn(ln),e===null?(m=ld(),m===null&&(m=Ae,_=ad(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=o),m=_),i.memoizedState={parent:c,cache:m},Bd(i),Aa(i,ln,m)):((e.lanes&o)!==0&&(jd(e,i),ku(i,null,null,o),Mu()),m=e.memoizedState,_=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Aa(i,ln,c)):(c=_.cache,Aa(i,ln,c),c!==m.cache&&zd(i,[ln],o,!0))),An(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var Vd=Gt(null),Vo=null,bs=null;function Aa(e,i,o){le(Vd,i._currentValue),i._currentValue=o}function Ss(e){e._currentValue=Vd.current,Ce(Vd)}function Ud(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function zd(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var _=m.dependencies;if(_!==null){var S=m.child;_=_.firstContext;t:for(;_!==null;){var C=_;_=m;for(var M=0;M<i.length;M++)if(C.context===i[M]){_.lanes|=o,C=_.alternate,C!==null&&(C.lanes|=o),Ud(_.return,o,e),c||(S=null);break t}_=C.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(a(341));S.lanes|=o,_=S.alternate,_!==null&&(_.lanes|=o),Ud(S,o,e),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===e){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Du(e,i,o,c){e=null;for(var m=i,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var C=m.type;Wn(m.pendingProps.value,S.value)||(e!==null?e.push(C):e=[C])}}else if(m===Sr.current){if(S=m.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Wu):e=[Wu])}m=m.return}e!==null&&zd(i,e,o,c),i.flags|=262144}function mh(e){for(e=e.firstContext;e!==null;){if(!Wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Uo(e){Vo=e,bs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jn(e){return Yg(Vo,e)}function ph(e,i){return Vo===null&&Uo(e),Yg(e,i)}function Yg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},bs===null){if(e===null)throw Error(a(308));bs=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else bs=bs.next=i;return o}var Ra=!1;function Bd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Me&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=ms(e),Yc(e,null,o),i}return Io(e,c,i,o),ms(e)}function Nu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194176)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Lr(e,o)}}function Hd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?m=_=S:_=_.next=S,o=o.next}while(o!==null);_===null?m=_=i:_=_.next=i}else m=_=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var qd=!1;function Mu(){if(qd){var e=Sl;if(e!==null)throw e}}function ku(e,i,o,c){qd=!1;var m=e.updateQueue;Ra=!1;var _=m.firstBaseUpdate,S=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var M=C,Z=M.next;M.next=null,S===null?_=Z:S.next=Z,S=M;var st=e.alternate;st!==null&&(st=st.updateQueue,C=st.lastBaseUpdate,C!==S&&(C===null?st.firstBaseUpdate=Z:C.next=Z,st.lastBaseUpdate=M))}if(_!==null){var ft=m.baseState;S=0,st=Z=M=null,C=_;do{var tt=C.lane&-536870913,rt=tt!==C.lane;if(rt?(se&tt)===tt:(c&tt)===tt){tt!==0&&tt===bl&&(qd=!0),st!==null&&(st=st.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var It=e,qt=C;tt=i;var qe=o;switch(qt.tag){case 1:if(It=qt.payload,typeof It=="function"){ft=It.call(qe,ft,tt);break t}ft=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=qt.payload,tt=typeof It=="function"?It.call(qe,ft,tt):It,tt==null)break t;ft=U({},ft,tt);break t;case 2:Ra=!0}}tt=C.callback,tt!==null&&(e.flags|=64,rt&&(e.flags|=8192),rt=m.callbacks,rt===null?m.callbacks=[tt]:rt.push(tt))}else rt={lane:tt,tag:C.tag,payload:C.payload,callback:C.callback,next:null},st===null?(Z=st=rt,M=ft):st=st.next=rt,S|=tt;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;rt=C,C=rt.next,rt.next=null,m.lastBaseUpdate=rt,m.shared.pending=null}}while(!0);st===null&&(M=ft),m.baseState=M,m.firstBaseUpdate=Z,m.lastBaseUpdate=st,_===null&&(m.shared.lanes=0),Da|=S,e.lanes=S,e.memoizedState=ft}}function $g(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Wg(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)$g(o[e],i)}function Vu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var _=o.create,S=o.inst;c=_(),S.destroy=c}o=o.next}while(o!==m)}}catch(C){we(i,i.return,C)}}function xa(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var _=m.next;c=_;do{if((c.tag&e)===e){var S=c.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,m=i;var M=o;try{C()}catch(Z){we(m,M,Z)}}}c=c.next}while(c!==_)}}catch(Z){we(i,i.return,Z)}}function Xg(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Wg(i,o)}catch(c){we(e,e.return,c)}}}function Jg(e,i,o){o.props=ko(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){we(e,i,c)}}function zo(e,i){try{var o=e.ref;if(o!==null){var c=e.stateNode;switch(e.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof o=="function"?e.refCleanup=o(m):o.current=m}}catch(_){we(e,i,_)}}function Ii(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){we(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){we(e,i,m)}else o.current=null}function tv(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){we(e,e.return,m)}}function ev(e,i,o){try{var c=e.stateNode;Gb(c,e.type,o,i),c[Ue]=i}catch(m){we(e,e.return,m)}}function nv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Fd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||nv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gd(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(e,i):o.insertBefore(e,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(e,o)):(i=o,i.appendChild(e)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=xh));else if(c!==4&&c!==27&&(e=e.child,e!==null))for(Gd(e,i,o),e=e.sibling;e!==null;)Gd(e,i,o),e=e.sibling}function _h(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&c!==27&&(e=e.child,e!==null))for(_h(e,i,o),e=e.sibling;e!==null;)_h(e,i,o),e=e.sibling}var As=!1,je=!1,Zd=!1,iv=typeof WeakSet=="function"?WeakSet:Set,vn=null,rv=!1;function Tb(e,i){if(e=e.containerInfo,Em=kh,e=bo(e),So(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break t}var S=0,C=-1,M=-1,Z=0,st=0,ft=e,tt=null;e:for(;;){for(var rt;ft!==o||m!==0&&ft.nodeType!==3||(C=S+m),ft!==_||c!==0&&ft.nodeType!==3||(M=S+c),ft.nodeType===3&&(S+=ft.nodeValue.length),(rt=ft.firstChild)!==null;)tt=ft,ft=rt;for(;;){if(ft===e)break e;if(tt===o&&++Z===m&&(C=S),tt===_&&++st===c&&(M=S),(rt=ft.nextSibling)!==null)break;ft=tt,tt=ft.parentNode}ft=rt}o=C===-1||M===-1?null:{start:C,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:e,selectionRange:o},kh=!1,vn=i;vn!==null;)if(i=vn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,vn=e;else for(;vn!==null;){switch(i=vn,_=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,o=i,m=_.memoizedProps,_=_.memoizedState,c=o.stateNode;try{var It=ko(o.type,m,o.elementType===o.type);e=c.getSnapshotBeforeUpdate(It,_),c.__reactInternalSnapshotBeforeUpdate=e}catch(qt){we(o,o.return,qt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Am(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Am(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,vn=e;break}vn=i.return}return It=rv,rv=!1,It}function sv(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Cs(e,o),c&4&&Vu(5,o);break;case 1:if(Cs(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(C){we(o,o.return,C)}else{var m=ko(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(C){we(o,o.return,C)}}c&64&&Xg(o),c&512&&zo(o,o.return);break;case 3:if(Cs(e,o),c&64&&(c=o.updateQueue,c!==null)){if(e=null,o.child!==null)switch(o.child.tag){case 27:case 5:e=o.child.stateNode;break;case 1:e=o.child.stateNode}try{Wg(c,e)}catch(C){we(o,o.return,C)}}break;case 26:Cs(e,o),c&512&&zo(o,o.return);break;case 27:case 5:Cs(e,o),i===null&&c&4&&tv(o),c&512&&zo(o,o.return);break;case 12:Cs(e,o);break;case 13:Cs(e,o),c&4&&lv(e,o);break;case 22:if(m=o.memoizedState!==null||As,!m){i=i!==null&&i.memoizedState!==null||je;var _=As,S=je;As=m,(je=i)&&!S?Pa(e,o,(o.subtreeFlags&8772)!==0):Cs(e,o),As=_,je=S}c&512&&(o.memoizedProps.mode==="manual"?zo(o,o.return):Ii(o,o.return));break;default:Cs(e,o)}}function av(e){var i=e.alternate;i!==null&&(e.alternate=null,av(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ns(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var en=null,xi=!1;function Rs(e,i,o){for(o=o.child;o!==null;)ov(e,i,o),o=o.sibling}function ov(e,i,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(nr,o)}catch{}switch(o.tag){case 26:je||Ii(o,i),Rs(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:je||Ii(o,i);var c=en,m=xi;for(en=o.stateNode,Rs(e,i,o),o=o.stateNode,i=o.attributes;i.length;)o.removeAttributeNode(i[0]);ns(o),en=c,xi=m;break;case 5:je||Ii(o,i);case 6:m=en;var _=xi;if(en=null,Rs(e,i,o),en=m,xi=_,en!==null)if(xi)try{e=en,c=o.stateNode,e.nodeType===8?e.parentNode.removeChild(c):e.removeChild(c)}catch(S){we(o,i,S)}else try{en.removeChild(o.stateNode)}catch(S){we(o,i,S)}break;case 18:en!==null&&(xi?(i=en,o=o.stateNode,i.nodeType===8?Sm(i.parentNode,o):i.nodeType===1&&Sm(i,o),ec(i)):Sm(en,o.stateNode));break;case 4:c=en,m=xi,en=o.stateNode.containerInfo,xi=!0,Rs(e,i,o),en=c,xi=m;break;case 0:case 11:case 14:case 15:je||xa(2,o,i),je||xa(4,o,i),Rs(e,i,o);break;case 1:je||(Ii(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Jg(o,i,c)),Rs(e,i,o);break;case 21:Rs(e,i,o);break;case 22:je||Ii(o,i),je=(c=je)||o.memoizedState!==null,Rs(e,i,o),je=c;break;default:Rs(e,i,o)}}function lv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ec(e)}catch(o){we(i,i.return,o)}}function wb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new iv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new iv),i;default:throw Error(a(435,e.tag))}}function Kd(e,i){var o=wb(e);i.forEach(function(c){var m=Mb.bind(null,e,c);o.has(c)||(o.add(c),c.then(m,m))})}function Ki(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],_=e,S=i,C=S;t:for(;C!==null;){switch(C.tag){case 27:case 5:en=C.stateNode,xi=!1;break t;case 3:en=C.stateNode.containerInfo,xi=!0;break t;case 4:en=C.stateNode.containerInfo,xi=!0;break t}C=C.return}if(en===null)throw Error(a(160));ov(_,S,m),en=null,xi=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)uv(i,e),i=i.sibling}var gr=null;function uv(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ki(i,e),Qi(e),c&4&&(xa(3,e,e.return),Vu(3,e),xa(5,e,e.return));break;case 1:Ki(i,e),Qi(e),c&512&&(je||o===null||Ii(o,o.return)),c&64&&As&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=gr;if(Ki(i,e),Qi(e),c&512&&(je||o===null||Ii(o,o.return)),c&4){var _=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":_=m.getElementsByTagName("title")[0],(!_||_[Dr]||_[Ze]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(c),m.head.insertBefore(_,m.querySelector("head > title"))),Rn(_,c,o),_[Ze]=e,Ie(_),c=_;break t;case"link":var S=ty("link","href",m).get(c+(o.href||""));if(S){for(var C=0;C<S.length;C++)if(_=S[C],_.getAttribute("href")===(o.href==null?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(C,1);break e}}_=m.createElement(c),Rn(_,c,o),m.head.appendChild(_);break;case"meta":if(S=ty("meta","content",m).get(c+(o.content||""))){for(C=0;C<S.length;C++)if(_=S[C],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(C,1);break e}}_=m.createElement(c),Rn(_,c,o),m.head.appendChild(_);break;default:throw Error(a(468,c))}_[Ze]=e,Ie(_),c=_}e.stateNode=c}else ey(m,e.type,e.stateNode);else e.stateNode=Jv(m,c,e.memoizedProps);else _!==c?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,c===null?ey(m,e.type,e.stateNode):Jv(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&ev(e,e.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&e.alternate===null){m=e.stateNode,_=e.memoizedProps;try{for(var M=m.firstChild;M;){var Z=M.nextSibling,st=M.nodeName;M[Dr]||st==="HEAD"||st==="BODY"||st==="SCRIPT"||st==="STYLE"||st==="LINK"&&M.rel.toLowerCase()==="stylesheet"||m.removeChild(M),M=Z}for(var ft=e.type,tt=m.attributes;tt.length;)m.removeAttributeNode(tt[0]);Rn(m,ft,_),m[Ze]=e,m[Ue]=_}catch(It){we(e,e.return,It)}}case 5:if(Ki(i,e),Qi(e),c&512&&(je||o===null||Ii(o,o.return)),e.flags&32){m=e.stateNode;try{fn(m,"")}catch(It){we(e,e.return,It)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,ev(e,m,o!==null?o.memoizedProps:m)),c&1024&&(Zd=!0);break;case 6:if(Ki(i,e),Qi(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(It){we(e,e.return,It)}}break;case 3:if(Dh=null,m=gr,gr=Lh(i.containerInfo),Ki(i,e),gr=m,Qi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ec(i.containerInfo)}catch(It){we(e,e.return,It)}Zd&&(Zd=!1,cv(e));break;case 4:c=gr,gr=Lh(e.stateNode.containerInfo),Ki(i,e),Qi(e),gr=c;break;case 12:Ki(i,e),Qi(e);break;case 13:Ki(i,e),Qi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(nm=Nn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Kd(e,c)));break;case 22:if(c&512&&(je||o===null||Ii(o,o.return)),M=e.memoizedState!==null,Z=o!==null&&o.memoizedState!==null,st=As,ft=je,As=st||M,je=ft||Z,Ki(i,e),je=ft,As=st,Qi(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,c&8192&&(i._visibility=M?i._visibility&-2:i._visibility|1,M&&(i=As||je,o===null||Z||i||Il(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(o=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(o===null){Z=o=i;try{if(m=Z.stateNode,M)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=Z.stateNode,C=Z.memoizedProps.style;var rt=C!=null&&C.hasOwnProperty("display")?C.display:null;S.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(It){we(Z,Z.return,It)}}}else if(i.tag===6){if(o===null){Z=i;try{Z.stateNode.nodeValue=M?"":Z.memoizedProps}catch(It){we(Z,Z.return,It)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Kd(e,o))));break;case 19:Ki(i,e),Qi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Kd(e,c)));break;case 21:break;default:Ki(i,e),Qi(e)}}function Qi(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var o=e.return;o!==null;){if(nv(o)){var c=o;break t}o=o.return}throw Error(a(160))}switch(c.tag){case 27:var m=c.stateNode,_=Fd(e);_h(e,_,m);break;case 5:var S=c.stateNode;c.flags&32&&(fn(S,""),c.flags&=-33);var C=Fd(e);_h(e,C,S);break;case 3:case 4:var M=c.stateNode.containerInfo,Z=Fd(e);Gd(e,Z,M);break;default:throw Error(a(161))}}}catch(st){we(e,e.return,st)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function cv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;cv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Cs(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sv(e,i.alternate,i),i=i.sibling}function Il(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:xa(4,i,i.return),Il(i);break;case 1:Ii(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Jg(i,i.return,o),Il(i);break;case 26:case 27:case 5:Ii(i,i.return),Il(i);break;case 22:Ii(i,i.return),i.memoizedState===null&&Il(i);break;default:Il(i)}e=e.sibling}}function Pa(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,_=i,S=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(m,_,o),Vu(4,_);break;case 1:if(Pa(m,_,o),c=_,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){we(c,c.return,Z)}if(c=_,m=c.updateQueue,m!==null){var C=c.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)$g(M[m],C)}catch(Z){we(c,c.return,Z)}}o&&S&64&&Xg(_),zo(_,_.return);break;case 26:case 27:case 5:Pa(m,_,o),o&&c===null&&S&4&&tv(_),zo(_,_.return);break;case 12:Pa(m,_,o);break;case 13:Pa(m,_,o),o&&S&4&&lv(m,_);break;case 22:_.memoizedState===null&&Pa(m,_,o),zo(_,_.return);break;default:Pa(m,_,o)}i=i.sibling}}function Qd(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Cu(o))}function Yd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Cu(e))}function La(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hv(e,i,o,c),i=i.sibling}function hv(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:La(e,i,o,c),m&2048&&Vu(9,i);break;case 3:La(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Cu(e)));break;case 12:if(m&2048){La(e,i,o,c),e=i.stateNode;try{var _=i.memoizedProps,S=_.id,C=_.onPostCommit;typeof C=="function"&&C(S,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){we(i,i.return,M)}}else La(e,i,o,c);break;case 23:break;case 22:_=i.stateNode,i.memoizedState!==null?_._visibility&4?La(e,i,o,c):Uu(e,i):_._visibility&4?La(e,i,o,c):(_._visibility|=4,xl(e,i,o,c,(i.subtreeFlags&10256)!==0)),m&2048&&Qd(i.alternate,i);break;case 24:La(e,i,o,c),m&2048&&Yd(i.alternate,i);break;default:La(e,i,o,c)}}function xl(e,i,o,c,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var _=e,S=i,C=o,M=c,Z=S.flags;switch(S.tag){case 0:case 11:case 15:xl(_,S,C,M,m),Vu(8,S);break;case 23:break;case 22:var st=S.stateNode;S.memoizedState!==null?st._visibility&4?xl(_,S,C,M,m):Uu(_,S):(st._visibility|=4,xl(_,S,C,M,m)),m&&Z&2048&&Qd(S.alternate,S);break;case 24:xl(_,S,C,M,m),m&&Z&2048&&Yd(S.alternate,S);break;default:xl(_,S,C,M,m)}i=i.sibling}}function Uu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Uu(o,c),m&2048&&Qd(c.alternate,c);break;case 24:Uu(o,c),m&2048&&Yd(c.alternate,c);break;default:Uu(o,c)}i=i.sibling}}var zu=8192;function Pl(e){if(e.subtreeFlags&zu)for(e=e.child;e!==null;)fv(e),e=e.sibling}function fv(e){switch(e.tag){case 26:Pl(e),e.flags&zu&&e.memoizedState!==null&&cS(gr,e.memoizedState,e.memoizedProps);break;case 5:Pl(e);break;case 3:case 4:var i=gr;gr=Lh(e.stateNode.containerInfo),Pl(e),gr=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=zu,zu=16777216,Pl(e),zu=i):Pl(e));break;default:Pl(e)}}function dv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Bu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];vn=c,pv(c,e)}dv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mv(e),e=e.sibling}function mv(e){switch(e.tag){case 0:case 11:case 15:Bu(e),e.flags&2048&&xa(9,e,e.return);break;case 3:Bu(e);break;case 12:Bu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,gh(e)):Bu(e);break;default:Bu(e)}}function gh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];vn=c,pv(c,e)}dv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:xa(8,i,i.return),gh(i);break;case 22:o=i.stateNode,o._visibility&4&&(o._visibility&=-5,gh(i));break;default:gh(i)}e=e.sibling}}function pv(e,i){for(;vn!==null;){var o=vn;switch(o.tag){case 0:case 11:case 15:xa(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,vn=c;else t:for(o=e;vn!==null;){c=vn;var m=c.sibling,_=c.return;if(av(c),c===o){vn=null;break t}if(m!==null){m.return=_,vn=m;break t}vn=_}}}function bb(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(e,i,o,c){return new bb(e,i,o,c)}function $d(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oa(e,i){var o=e.alternate;return o===null?(o=Yi(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&31457280,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function _v(e,i){e.flags&=31457282;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function vh(e,i,o,c,m,_){var S=0;if(c=e,typeof e=="function")$d(e)&&(S=1);else if(typeof e=="string")S=lS(e,o,sn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case y:return Bo(o.children,m,_,i);case E:S=8,m|=24;break;case R:return e=Yi(12,o,i,m|2),e.elementType=R,e.lanes=_,e;case X:return e=Yi(13,o,i,m),e.elementType=X,e.lanes=_,e;case J:return e=Yi(19,o,i,m),e.elementType=J,e.lanes=_,e;case ot:return gv(o,m,_,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case j:S=10;break t;case O:S=9;break t;case B:S=11;break t;case it:S=14;break t;case dt:S=16,c=null;break t}S=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=Yi(S,o,i,m),i.elementType=e,i.type=c,i.lanes=_,i}function Bo(e,i,o,c){return e=Yi(7,e,c,i),e.lanes=o,e}function gv(e,i,o,c){e=Yi(22,e,c,i),e.elementType=ot,e.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var _=m._current;if(_===null)throw Error(a(456));if((m._pendingVisibility&2)===0){var S=hi(_,2);S!==null&&(m._pendingVisibility|=2,ii(S,_,2))}},attach:function(){var _=m._current;if(_===null)throw Error(a(456));if((m._pendingVisibility&2)!==0){var S=hi(_,2);S!==null&&(m._pendingVisibility&=-3,ii(S,_,2))}}};return e.stateNode=m,e}function Wd(e,i,o){return e=Yi(6,e,null,i),e.lanes=o,e}function Xd(e,i,o){return i=Yi(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Is(e){e.flags|=4}function vv(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ny(i)){if(i=Zi.current,i!==null&&((se&4194176)===se?qr!==null:(se&62914560)!==se&&(se&536870912)===0||i!==qr))throw Ea=jr,Sn;e.flags|=8192}}function yh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ir():536870912,e.lanes|=i,Ol|=i)}function ju(e,i){if(!A)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function Sb(e,i,o){var c=i.pendingProps;switch(d(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(i),null;case 1:return Ne(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ss(ln),Ni(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ht(i)?Is(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,V!==null&&(am(V),V=null))),Ne(i),null;case 26:return o=i.memoizedState,e===null?(Is(i),o!==null?(Ne(i),vv(i,o)):(Ne(i),i.flags&=-16777217)):o?o!==e.memoizedState?(Is(i),Ne(i),vv(i,o)):(Ne(i),i.flags&=-16777217):(e.memoizedProps!==c&&Is(i),Ne(i),i.flags&=-16777217),null;case 27:er(i),o=Dn.current;var m=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Is(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Ne(i),null}e=sn.current,Ht(i)?Tt(i):(e=Qv(m,c,o),i.stateNode=e,Is(i))}return Ne(i),null;case 5:if(er(i),o=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Is(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Ne(i),null}if(e=sn.current,Ht(i))Tt(i);else{switch(m=Ph(Dn.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}e[Ze]=i,e[Ue]=c;t:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break t;for(;m.sibling===null;){if(m.return===null||m.return===i)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=e;t:switch(Rn(e,o,c),o){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Is(i)}}return Ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Is(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=Dn.current,Ht(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=v,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Ze]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Hv(e.nodeValue,o)),e||ut(i)}else e=Ph(e).createTextNode(c),e[Ze]=i,i.stateNode=e}return Ne(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Ht(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Ze]=i}else Qe(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ne(i),m=!1}else V!==null&&(am(V),V=null),m=!0;if(!m)return i.flags&256?(Es(i),i):(Es(i),null)}if(Es(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,e=e!==null&&e.memoizedState!==null,o){c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var _=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==m&&(c.flags|=2048)}return o!==e&&o&&(i.child.flags|=8192),yh(i,i.updateQueue),Ne(i),null;case 4:return Ni(),e===null&&gm(i.stateNode.containerInfo),Ne(i),null;case 10:return Ss(i.type),Ne(i),null;case 19:if(Ce(on),m=i.memoizedState,m===null)return Ne(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)ju(m,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=nh(e),_!==null){for(i.flags|=128,ju(m,!1),e=_.updateQueue,i.updateQueue=e,yh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)_v(o,e),o=o.sibling;return le(on,on.current&1|2),i.child}e=e.sibling}m.tail!==null&&Nn()>Eh&&(i.flags|=128,c=!0,ju(m,!1),i.lanes=4194304)}else{if(!c)if(e=nh(_),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,yh(i,e),ju(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!A)return Ne(i),null}else 2*Nn()-m.renderingStartTime>Eh&&o!==536870912&&(i.flags|=128,c=!0,ju(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(e=m.last,e!==null?e.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Nn(),i.sibling=null,e=on.current,le(on,c?e&1|2:e&1),i):(Ne(i),null);case 22:case 23:return Es(i),sd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Ne(i),i.subtreeFlags&6&&(i.flags|=8192)):Ne(i),o=i.updateQueue,o!==null&&yh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&Ce(Oo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ss(ln),Ne(i),null;case 25:return null}throw Error(a(156,i.tag))}function Ab(e,i){switch(d(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ss(ln),Ni(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return er(i),null;case 13:if(Es(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Qe()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Ce(on),null;case 4:return Ni(),null;case 10:return Ss(i.type),null;case 22:case 23:return Es(i),sd(),e!==null&&Ce(Oo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ss(ln),null;case 25:return null;default:return null}}function yv(e,i){switch(d(i),i.tag){case 3:Ss(ln),Ni();break;case 26:case 27:case 5:er(i);break;case 4:Ni();break;case 13:Es(i);break;case 19:Ce(on);break;case 10:Ss(i.type);break;case 22:case 23:Es(i),sd(),e!==null&&Ce(Oo);break;case 24:Ss(ln)}}var Rb={getCacheForType:function(e){var i=jn(ln),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o}},Cb=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ae=null,Xt=null,se=0,Re=0,Pi=null,xs=!1,Ll=!1,Jd=!1,Ps=0,He=0,Da=0,jo=0,tm=0,$i=0,Ol=0,Hu=null,Gr=null,em=!1,nm=0,Eh=1/0,Th=null,Na=null,wh=!1,Ho=null,qu=0,im=0,rm=null,Fu=0,sm=null;function Li(){if((Me&2)!==0&&se!==0)return se&-se;if(P.T!==null){var e=bl;return e!==0?e:dm()}return Ct()}function Ev(){$i===0&&($i=(se&536870912)===0||A?co():536870912);var e=Zi.current;return e!==null&&(e.flags|=32),$i}function ii(e,i,o){(e===Ae&&Re===2||e.cancelPendingCommit!==null)&&(Dl(e,0),Ls(e,se,$i,!1)),De(e,o),((Me&2)===0||e!==Ae)&&(e===Ae&&((Me&2)===0&&(jo|=o),He===4&&Ls(e,se,$i,!1)),Zr(e))}function Tv(e,i,o){if((Me&6)!==0)throw Error(a(327));var c=!o&&(i&60)===0&&(i&e.expiredLanes)===0||Cr(e,i),m=c?Pb(e,i):um(e,i,!0),_=c;do{if(m===0){Ll&&!c&&Ls(e,i,0,!1);break}else if(m===6)Ls(e,i,0,!xs);else{if(o=e.current.alternate,_&&!Ib(o)){m=um(e,i,!1),_=!1;continue}if(m===2){if(_=i,e.errorRecoveryDisabledLanes&_)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;t:{var C=e;m=Hu;var M=C.current.memoizedState.isDehydrated;if(M&&(Dl(C,S).flags|=256),S=um(C,S,!1),S!==2){if(Jd&&!M){C.errorRecoveryDisabledLanes|=_,jo|=_,m=4;break t}_=Gr,Gr=m,_!==null&&am(_)}m=S}if(_=!1,m!==2)continue}}if(m===1){Dl(e,0),Ls(e,i,0,!0);break}t:{switch(c=e,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Ls(c,i,$i,!xs);break t}break;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(c.finishedWork=o,c.finishedLanes=i,(i&62914560)===i&&(_=nm+300-Nn(),10<_)){if(Ls(c,i,$i,!xs),ri(c,0)!==0)break t;c.timeoutHandle=Gv(wv.bind(null,c,o,Gr,Th,em,i,$i,jo,Ol,xs,2,-0,0),_);break t}wv(c,o,Gr,Th,em,i,$i,jo,Ol,xs,0,-0,0)}}break}while(!0);Zr(e)}function am(e){Gr===null?Gr=e:Gr.push.apply(Gr,e)}function wv(e,i,o,c,m,_,S,C,M,Z,st,ft,tt){var rt=i.subtreeFlags;if((rt&8192||(rt&16785408)===16785408)&&($u={stylesheets:null,count:0,unsuspend:uS},fv(i),i=hS(),i!==null)){e.cancelPendingCommit=i(xv.bind(null,e,o,c,m,S,C,M,1,ft,tt)),Ls(e,_,S,!Z);return}xv(e,o,c,m,S,C,M,st,ft,tt)}function Ib(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],_=m.getSnapshot;m=m.value;try{if(!Wn(_(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ls(e,i,o,c){i&=~tm,i&=~jo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var _=31-Ge(m),S=1<<_;c[_]=-1,m&=~S}o!==0&&Pr(e,o,i)}function bh(){return(Me&6)===0?(Gu(0),!1):!0}function om(){if(Xt!==null){if(Re===0)var e=Xt.return;else e=Xt,bs=Vo=null,dd(e),vs=null,Se=0,e=Xt;for(;e!==null;)yv(e.alternate,e),e=e.return;Xt=null}}function Dl(e,i){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Kb(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),om(),Ae=e,Xt=o=Oa(e.current,null),se=i,Re=0,Pi=null,xs=!1,Ll=Cr(e,i),Jd=!1,Ol=$i=tm=jo=Da=He=0,Gr=Hu=null,em=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-Ge(c),_=1<<m;i|=e[m],c&=~_}return Ps=i,ci(),o}function bv(e,i){Yt=null,P.H=Fr,i===_n?(i=Xc(),Re=3):i===Sn?(i=Xc(),Re=4):Re=i===kg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pi=i,Xt===null&&(He=1,dh(e,ti(i,e.current)))}function Sv(){var e=P.H;return P.H=Fr,e===null?Fr:e}function Av(){var e=P.A;return P.A=Rb,e}function lm(){He=4,xs||(se&4194176)!==se&&Zi.current!==null||(Ll=!0),(Da&134217727)===0&&(jo&134217727)===0||Ae===null||Ls(Ae,se,$i,!1)}function um(e,i,o){var c=Me;Me|=2;var m=Sv(),_=Av();(Ae!==e||se!==i)&&(Th=null,Dl(e,i)),i=!1;var S=He;t:do try{if(Re!==0&&Xt!==null){var C=Xt,M=Pi;switch(Re){case 8:om(),S=6;break t;case 3:case 2:case 6:Zi.current===null&&(i=!0);var Z=Re;if(Re=0,Pi=null,Nl(e,C,M,Z),o&&Ll){S=0;break t}break;default:Z=Re,Re=0,Pi=null,Nl(e,C,M,Z)}}xb(),S=He;break}catch(st){bv(e,st)}while(!0);return i&&e.shellSuspendCounter++,bs=Vo=null,Me=c,P.H=m,P.A=_,Xt===null&&(Ae=null,se=0,ci()),S}function xb(){for(;Xt!==null;)Rv(Xt)}function Pb(e,i){var o=Me;Me|=2;var c=Sv(),m=Av();Ae!==e||se!==i?(Th=null,Eh=Nn()+500,Dl(e,i)):Ll=Cr(e,i);t:do try{if(Re!==0&&Xt!==null){i=Xt;var _=Pi;e:switch(Re){case 1:Re=0,Pi=null,Nl(e,i,_,1);break;case 2:if($c(_)){Re=0,Pi=null,Cv(i);break}i=function(){Re===2&&Ae===e&&(Re=7),Zr(e)},_.then(i,i);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:$c(_)?(Re=0,Pi=null,Cv(i)):(Re=0,Pi=null,Nl(e,i,_,7));break;case 5:var S=null;switch(Xt.tag){case 26:S=Xt.memoizedState;case 5:case 27:var C=Xt;if(!S||ny(S)){Re=0,Pi=null;var M=C.sibling;if(M!==null)Xt=M;else{var Z=C.return;Z!==null?(Xt=Z,Sh(Z)):Xt=null}break e}}Re=0,Pi=null,Nl(e,i,_,5);break;case 6:Re=0,Pi=null,Nl(e,i,_,6);break;case 8:om(),He=6;break t;default:throw Error(a(462))}}Lb();break}catch(st){bv(e,st)}while(!0);return bs=Vo=null,P.H=c,P.A=m,Me=o,Xt!==null?0:(Ae=null,se=0,ci(),He)}function Lb(){for(;Xt!==null&&!il();)Rv(Xt)}function Rv(e){var i=Qg(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,i===null?Sh(e):Xt=i}function Cv(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Hg(o,i,i.pendingProps,i.type,void 0,se);break;case 11:i=Hg(o,i,i.pendingProps,i.type.render,i.ref,se);break;case 5:dd(i);default:yv(o,i),i=Xt=_v(i,Ps),i=Qg(o,i,Ps)}e.memoizedProps=e.pendingProps,i===null?Sh(e):Xt=i}function Nl(e,i,o,c){bs=Vo=null,dd(i),vs=null,Se=0;var m=i.return;try{if(yb(e,m,i,o,se)){He=1,dh(e,ti(o,e.current)),Xt=null;return}}catch(_){if(m!==null)throw Xt=m,_;He=1,dh(e,ti(o,e.current)),Xt=null;return}i.flags&32768?(A||c===1?e=!0:Ll||(se&536870912)!==0?e=!1:(xs=e=!0,(c===2||c===3||c===6)&&(c=Zi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Iv(i,e)):Sh(i)}function Sh(e){var i=e;do{if((i.flags&32768)!==0){Iv(i,xs);return}e=i.return;var o=Sb(i.alternate,i,Ps);if(o!==null){Xt=o;return}if(i=i.sibling,i!==null){Xt=i;return}Xt=i=e}while(i!==null);He===0&&(He=5)}function Iv(e,i){do{var o=Ab(e.alternate,e);if(o!==null){o.flags&=32767,Xt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Xt=e;return}Xt=e=o}while(e!==null);He=6,Xt=null}function xv(e,i,o,c,m,_,S,C,M,Z){var st=P.T,ft=_t.p;try{_t.p=2,P.T=null,Ob(e,i,o,c,ft,m,_,S,C,M,Z)}finally{P.T=st,_t.p=ft}}function Ob(e,i,o,c,m,_,S,C){do Ml();while(Ho!==null);if((Me&6)!==0)throw Error(a(327));var M=e.finishedWork;if(c=e.finishedLanes,M===null)return null;if(e.finishedWork=null,e.finishedLanes=0,M===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var Z=M.lanes|M.childLanes;if(Z|=Au,ll(e,c,Z,_,S,C),e===Ae&&(Xt=Ae=null,se=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||wh||(wh=!0,im=Z,rm=o,kb(Mi,function(){return Ml(),null})),o=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||o?(o=P.T,P.T=null,_=_t.p,_t.p=2,S=Me,Me|=4,Tb(e,M),uv(M,e),_l(Tm,e.containerInfo),kh=!!Em,Tm=Em=null,e.current=M,sv(e,M.alternate,M),Ys(),Me=S,_t.p=_,P.T=o):e.current=M,wh?(wh=!1,Ho=e,qu=c):Pv(e,Z),Z=e.pendingLanes,Z===0&&(Na=null),Ws(M.stateNode),Zr(e),i!==null)for(m=e.onRecoverableError,M=0;M<i.length;M++)Z=i[M],m(Z.value,{componentStack:Z.stack});return(qu&3)!==0&&Ml(),Z=e.pendingLanes,(c&4194218)!==0&&(Z&42)!==0?e===sm?Fu++:(Fu=0,sm=e):Fu=0,Gu(0),null}function Pv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Cu(i)))}function Ml(){if(Ho!==null){var e=Ho,i=im;im=0;var o=Qn(qu),c=P.T,m=_t.p;try{if(_t.p=32>o?32:o,P.T=null,Ho===null)var _=!1;else{o=rm,rm=null;var S=Ho,C=qu;if(Ho=null,qu=0,(Me&6)!==0)throw Error(a(331));var M=Me;if(Me|=4,mv(S.current),hv(S,S.current,C,o),Me=M,Gu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(nr,S)}catch{}_=!0}return _}finally{_t.p=m,P.T=c,Pv(e,i)}}return!1}function Lv(e,i,o){i=ti(o,i),i=Cd(e.stateNode,i,2),e=Ia(e,i,2),e!==null&&(De(e,2),Zr(e))}function we(e,i,o){if(e.tag===3)Lv(e,e,o);else for(;i!==null;){if(i.tag===3){Lv(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Na===null||!Na.has(c))){e=ti(o,e),o=Ng(2),c=Ia(i,o,2),c!==null&&(Mg(o,c,i,e),De(c,2),Zr(c));break}}i=i.return}}function cm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Cb;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(Jd=!0,m.add(o),e=Db.bind(null,e,i,o),i.then(e,e))}function Db(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ae===e&&(se&o)===o&&(He===4||He===3&&(se&62914560)===se&&300>Nn()-nm?(Me&2)===0&&Dl(e,0):tm|=o,Ol===se&&(Ol=0)),Zr(e)}function Ov(e,i){i===0&&(i=Ir()),e=hi(e,i),e!==null&&(De(e,i),Zr(e))}function Nb(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Ov(e,o)}function Mb(e,i){var o=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Ov(e,o)}function kb(e,i){return Ar(e,i)}var Ah=null,kl=null,hm=!1,Rh=!1,fm=!1,qo=0;function Zr(e){e!==kl&&e.next===null&&(kl===null?Ah=kl=e:kl=kl.next=e),Rh=!0,hm||(hm=!0,Ub(Vb))}function Gu(e,i){if(!fm&&Rh){fm=!0;do for(var o=!1,c=Ah;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var _=0;else{var S=c.suspendedLanes,C=c.pingedLanes;_=(1<<31-Ge(42|e)+1)-1,_&=m&~(S&~C),_=_&201326677?_&201326677|1:_?_|2:0}_!==0&&(o=!0,Mv(c,_))}else _=se,_=ri(c,c===Ae?_:0),(_&3)===0||Cr(c,_)||(o=!0,Mv(c,_));c=c.next}while(o);fm=!1}}function Vb(){Rh=hm=!1;var e=0;qo!==0&&(Zb()&&(e=qo),qo=0);for(var i=Nn(),o=null,c=Ah;c!==null;){var m=c.next,_=Dv(c,i);_===0?(c.next=null,o===null?Ah=m:o.next=m,m===null&&(kl=o)):(o=c,(e!==0||(_&3)!==0)&&(Rh=!0)),c=m}Gu(e)}function Dv(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var S=31-Ge(_),C=1<<S,M=m[S];M===-1?((C&o)===0||(C&c)!==0)&&(m[S]=Xs(C,i)):M<=i&&(e.expiredLanes|=C),_&=~C}if(i=Ae,o=se,o=ri(e,e===i?o:0),c=e.callbackNode,o===0||e===i&&Re===2||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Rr(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Cr(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Rr(c),Qn(o)){case 2:case 8:o=Fe;break;case 32:o=Mi;break;case 268435456:o=$s;break;default:o=Mi}return c=Nv.bind(null,e),o=Ar(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Rr(c),e.callbackPriority=2,e.callbackNode=null,2}function Nv(e,i){var o=e.callbackNode;if(Ml()&&e.callbackNode!==o)return null;var c=se;return c=ri(e,e===Ae?c:0),c===0?null:(Tv(e,c,i),Dv(e,Nn()),e.callbackNode!=null&&e.callbackNode===o?Nv.bind(null,e):null)}function Mv(e,i){if(Ml())return null;Tv(e,i,!0)}function Ub(e){Qb(function(){(Me&6)!==0?Ar(Oe,e):e()})}function dm(){return qo===0&&(qo=co()),qo}function kv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:li(""+e)}function Vv(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function zb(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var _=kv((m[Ue]||null).action),S=c.submitter;S&&(i=(i=S[Ue]||null)?kv(i.formAction):S.getAttribute("formAction"),i!==null&&(_=i,S=null));var C=new as("action","action",null,c,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qo!==0){var M=S?Vv(m,S):new FormData(m);wd(o,{pending:!0,data:M,method:m.method,action:_},null,M)}}else typeof _=="function"&&(C.preventDefault(),M=S?Vv(m,S):new FormData(m),wd(o,{pending:!0,data:M,method:m.method,action:_},_,M))},currentTarget:m}]})}}for(var mm=0;mm<Qc.length;mm++){var pm=Qc[mm],Bb=pm.toLowerCase(),jb=pm[0].toUpperCase()+pm.slice(1);pn(Bb,"on"+jb)}pn(Ci,"onAnimationEnd"),pn(Co,"onAnimationIteration"),pn(Gc,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(gl,"onTransitionRun"),pn(id,"onTransitionStart"),pn(Zc,"onTransitionCancel"),pn(Kc,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function Uv(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var _=void 0;if(i)for(var S=c.length-1;0<=S;S--){var C=c[S],M=C.instance,Z=C.currentTarget;if(C=C.listener,M!==_&&m.isPropagationStopped())break t;_=C,m.currentTarget=Z;try{_(m)}catch(st){fh(st)}m.currentTarget=null,_=M}else for(S=0;S<c.length;S++){if(C=c[S],M=C.instance,Z=C.currentTarget,C=C.listener,M!==_&&m.isPropagationStopped())break t;_=C,m.currentTarget=Z;try{_(m)}catch(st){fh(st)}m.currentTarget=null,_=M}}}}function re(e,i){var o=i[Or];o===void 0&&(o=i[Or]=new Set);var c=e+"__bubble";o.has(c)||(zv(i,e,2,!1),o.add(c))}function _m(e,i,o){var c=0;i&&(c|=4),zv(o,e,c,i)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function gm(e){if(!e[Ch]){e[Ch]=!0,fo.forEach(function(o){o!=="selectionchange"&&(Hb.has(o)||_m(o,!1,e),_m(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ch]||(i[Ch]=!0,_m("selectionchange",!1,i))}}function zv(e,i,o,c){switch(ly(i)){case 2:var m=mS;break;case 8:m=pS;break;default:m=Pm}o=m.bind(null,i,o,e),m=void 0,!Vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function vm(e,i,o,c,m){var _=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var C=c.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(S===4)for(S=c.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;S=S.return}for(;C!==null;){if(S=wi(C),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){c=_=S;continue t}C=C.parentNode}}c=c.return}fe(function(){var Z=_,st=ss(o),ft=[];t:{var tt=va.get(e);if(tt!==void 0){var rt=as,It=e;switch(e){case"keypress":if(ge(o)===0)break t;case"keydown":case"keyup":rt=ca;break;case"focusin":It="focus",rt=sa;break;case"focusout":It="blur",rt=sa;break;case"beforeblur":case"afterblur":rt=sa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=hl;break;case Ci:case Co:case Gc:rt=oa;break;case Kc:rt=fl;break;case"scroll":case"scrollend":rt=ul;break;case"wheel":rt=us;break;case"copy":case"cut":case"paste":rt=zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=ha;break;case"toggle":case"beforetoggle":rt=Bi}var qt=(i&4)!==0,qe=!qt&&(e==="scroll"||e==="scrollend"),Y=qt?tt!==null?tt+"Capture":null:tt;qt=[];for(var G=Z,W;G!==null;){var ct=G;if(W=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||W===null||Y===null||(ct=Ur(G,Y),ct!=null&&qt.push(Ku(G,ct,W))),qe)break;G=G.return}0<qt.length&&(tt=new rt(tt,It,null,o,st),ft.push({event:tt,listeners:qt}))}}if((i&7)===0){t:{if(tt=e==="mouseover"||e==="pointerover",rt=e==="mouseout"||e==="pointerout",tt&&o!==bn&&(It=o.relatedTarget||o.fromElement)&&(wi(It)||It[yi]))break t;if((rt||tt)&&(tt=st.window===st?st:(tt=st.ownerDocument)?tt.defaultView||tt.parentWindow:window,rt?(It=o.relatedTarget||o.toElement,rt=Z,It=It?wi(It):null,It!==null&&(qe=mt(It),qt=It.tag,It!==qe||qt!==5&&qt!==27&&qt!==6)&&(It=null)):(rt=null,It=Z),rt!==It)){if(qt=mn,ct="onMouseLeave",Y="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(qt=ha,ct="onPointerLeave",Y="onPointerEnter",G="pointer"),qe=rt==null?tt:Nr(rt),W=It==null?tt:Nr(It),tt=new qt(ct,G+"leave",rt,o,st),tt.target=qe,tt.relatedTarget=W,ct=null,wi(st)===Z&&(qt=new qt(Y,G+"enter",It,o,st),qt.target=W,qt.relatedTarget=qe,ct=qt),qe=ct,rt&&It)e:{for(qt=rt,Y=It,G=0,W=qt;W;W=Vl(W))G++;for(W=0,ct=Y;ct;ct=Vl(ct))W++;for(;0<G-W;)qt=Vl(qt),G--;for(;0<W-G;)Y=Vl(Y),W--;for(;G--;){if(qt===Y||Y!==null&&qt===Y.alternate)break e;qt=Vl(qt),Y=Vl(Y)}qt=null}else qt=null;rt!==null&&Bv(ft,tt,rt,qt,!1),It!==null&&qe!==null&&Bv(ft,qe,It,qt,!0)}}t:{if(tt=Z?Nr(Z):window,rt=tt.nodeName&&tt.nodeName.toLowerCase(),rt==="select"||rt==="input"&&tt.type==="file")var Rt=da;else if(be(tt))if(vu)Rt=nd;else{Rt=ed;var Wt=Eu}else rt=tt.nodeName,!rt||rt.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Z&&rs(Z.elementType)&&(Rt=da):Rt=pr;if(Rt&&(Rt=Rt(e,Z))){dr(ft,Rt,o,st);break t}Wt&&Wt(e,tt,Z),e==="focusout"&&Z&&tt.type==="number"&&Z.memoizedProps.value!=null&&ai(tt,"number",tt.value)}switch(Wt=Z?Nr(Z):window,e){case"focusin":(be(Wt)||Wt.contentEditable==="true")&&(_r=Wt,Ao=Z,ga=null);break;case"focusout":ga=Ao=_r=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,Ro(ft,o,st);break;case"selectionchange":if(_a)break;case"keydown":case"keyup":Ro(ft,o,st)}var Pt;if(Bn)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Jt?nt(e,o)&&(kt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(b&&o.locale!=="ko"&&(Jt||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Jt&&(Pt=ur()):(ui=st,Un="value"in ui?ui.value:ui.textContent,Jt=!0)),Wt=Ih(Z,kt),0<Wt.length&&(kt=new zn(kt,e,null,o,st),ft.push({event:kt,listeners:Wt}),Pt?kt.data=Pt:(Pt=gt(o),Pt!==null&&(kt.data=Pt)))),(Pt=T?Be(e,o):te(e,o))&&(kt=Ih(Z,"onBeforeInput"),0<kt.length&&(Wt=new zn("onBeforeInput","beforeinput",null,o,st),ft.push({event:Wt,listeners:kt}),Wt.data=Pt)),zb(ft,e,Z,o,st)}Uv(ft,i)})}function Ku(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Ih(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,_=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=Ur(e,o),m!=null&&c.unshift(Ku(e,m,_)),m=Ur(e,i),m!=null&&c.push(Ku(e,m,_))),e=e.return}return c}function Vl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bv(e,i,o,c,m){for(var _=i._reactName,S=[];o!==null&&o!==c;){var C=o,M=C.alternate,Z=C.stateNode;if(C=C.tag,M!==null&&M===c)break;C!==5&&C!==26&&C!==27||Z===null||(M=Z,m?(Z=Ur(o,_),Z!=null&&S.unshift(Ku(o,Z,M))):m||(Z=Ur(o,_),Z!=null&&S.push(Ku(o,Z,M)))),o=o.return}S.length!==0&&e.push({event:i,listeners:S})}var qb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function jv(e){return(typeof e=="string"?e:""+e).replace(qb,`
`).replace(Fb,"")}function Hv(e,i){return i=jv(i),jv(e)===i}function xh(){}function ye(e,i,o,c,m,_){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||fn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&fn(e,""+c);break;case"className":ue(e,"class",c);break;case"tabIndex":ue(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ue(e,o,c);break;case"style":na(e,c,_);break;case"data":if(i!=="object"){ue(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=li(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(i!=="input"&&ye(e,i,"name",m.name,m,null),ye(e,i,"formEncType",m.formEncType,m,null),ye(e,i,"formMethod",m.formMethod,m,null),ye(e,i,"formTarget",m.formTarget,m,null)):(ye(e,i,"encType",m.encType,m,null),ye(e,i,"method",m.method,m,null),ye(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=li(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=xh);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=li(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":re("beforetoggle",e),re("toggle",e),Zt(e,"popover",c);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ia.get(o)||o,Zt(e,o,c))}}function ym(e,i,o,c,m,_){switch(o){case"style":na(e,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?fn(e,c):(typeof c=="number"||typeof c=="bigint")&&fn(e,""+c);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"onClick":c!=null&&(e.onclick=xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Js.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),_=e[Ue]||null,_=_!=null?_[o]:null,typeof _=="function"&&e.removeEventListener(i,_,m),typeof c=="function")){typeof _!="function"&&_!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Zt(e,o,c)}}}function Rn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var c=!1,m=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var S=o[_];if(S!=null)switch(_){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ye(e,i,_,S,o,null)}}m&&ye(e,i,"srcSet",o.srcSet,o,null),c&&ye(e,i,"src",o.src,o,null);return;case"input":re("invalid",e);var C=_=S=m=null,M=null,Z=null;for(c in o)if(o.hasOwnProperty(c)){var st=o[c];if(st!=null)switch(c){case"name":m=st;break;case"type":S=st;break;case"checked":M=st;break;case"defaultChecked":Z=st;break;case"value":_=st;break;case"defaultValue":C=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(a(137,i));break;default:ye(e,i,c,st,o,null)}}Ui(e,_,C,M,Z,S,m,!1),Ut(e);return;case"select":re("invalid",e),c=S=_=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":_=C;break;case"defaultValue":S=C;break;case"multiple":c=C;default:ye(e,i,m,C,o,null)}i=_,o=S,e.multiple=!!c,i!=null?Dt(e,!!c,i,!1):o!=null&&Dt(e,!!c,o,!0);return;case"textarea":re("invalid",e),_=m=c=null;for(S in o)if(o.hasOwnProperty(S)&&(C=o[S],C!=null))switch(S){case"value":c=C;break;case"defaultValue":m=C;break;case"children":_=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:ye(e,i,S,C,o,null)}oi(e,c,m,_),Ut(e);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(c=o[M],c!=null))switch(M){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ye(e,i,M,c,o,null)}return;case"dialog":re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(c=0;c<Zu.length;c++)re(Zu[c],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(c=o[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ye(e,i,Z,c,o,null)}return;default:if(rs(i)){for(st in o)o.hasOwnProperty(st)&&(c=o[st],c!==void 0&&ym(e,i,st,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&ye(e,i,C,c,o,null))}function Gb(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,S=null,C=null,M=null,Z=null,st=null;for(rt in o){var ft=o[rt];if(o.hasOwnProperty(rt)&&ft!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":M=ft;default:c.hasOwnProperty(rt)||ye(e,i,rt,null,c,ft)}}for(var tt in c){var rt=c[tt];if(ft=o[tt],c.hasOwnProperty(tt)&&(rt!=null||ft!=null))switch(tt){case"type":_=rt;break;case"name":m=rt;break;case"checked":Z=rt;break;case"defaultChecked":st=rt;break;case"value":S=rt;break;case"defaultValue":C=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(a(137,i));break;default:rt!==ft&&ye(e,i,tt,rt,c,ft)}}Vr(e,S,C,M,Z,st,_,m);return;case"select":rt=S=C=tt=null;for(_ in o)if(M=o[_],o.hasOwnProperty(_)&&M!=null)switch(_){case"value":break;case"multiple":rt=M;default:c.hasOwnProperty(_)||ye(e,i,_,null,c,M)}for(m in c)if(_=c[m],M=o[m],c.hasOwnProperty(m)&&(_!=null||M!=null))switch(m){case"value":tt=_;break;case"defaultValue":C=_;break;case"multiple":S=_;default:_!==M&&ye(e,i,m,_,c,M)}i=C,o=S,c=rt,tt!=null?Dt(e,!!o,tt,!1):!!c!=!!o&&(i!=null?Dt(e,!!o,i,!0):Dt(e,!!o,o?[]:"",!1));return;case"textarea":rt=tt=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ye(e,i,C,null,c,m)}for(S in c)if(m=c[S],_=o[S],c.hasOwnProperty(S)&&(m!=null||_!=null))switch(S){case"value":tt=m;break;case"defaultValue":rt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==_&&ye(e,i,S,m,c,_)}$n(e,tt,rt);return;case"option":for(var It in o)if(tt=o[It],o.hasOwnProperty(It)&&tt!=null&&!c.hasOwnProperty(It))switch(It){case"selected":e.selected=!1;break;default:ye(e,i,It,null,c,tt)}for(M in c)if(tt=c[M],rt=o[M],c.hasOwnProperty(M)&&tt!==rt&&(tt!=null||rt!=null))switch(M){case"selected":e.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:ye(e,i,M,tt,c,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in o)tt=o[qt],o.hasOwnProperty(qt)&&tt!=null&&!c.hasOwnProperty(qt)&&ye(e,i,qt,null,c,tt);for(Z in c)if(tt=c[Z],rt=o[Z],c.hasOwnProperty(Z)&&tt!==rt&&(tt!=null||rt!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,i));break;default:ye(e,i,Z,tt,c,rt)}return;default:if(rs(i)){for(var qe in o)tt=o[qe],o.hasOwnProperty(qe)&&tt!==void 0&&!c.hasOwnProperty(qe)&&ym(e,i,qe,void 0,c,tt);for(st in c)tt=c[st],rt=o[st],!c.hasOwnProperty(st)||tt===rt||tt===void 0&&rt===void 0||ym(e,i,st,tt,c,rt);return}}for(var Y in o)tt=o[Y],o.hasOwnProperty(Y)&&tt!=null&&!c.hasOwnProperty(Y)&&ye(e,i,Y,null,c,tt);for(ft in c)tt=c[ft],rt=o[ft],!c.hasOwnProperty(ft)||tt===rt||tt==null&&rt==null||ye(e,i,ft,tt,c,rt)}var Em=null,Tm=null;function Ph(e){return e.nodeType===9?e:e.ownerDocument}function qv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function wm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bm=null;function Zb(){var e=window.event;return e&&e.type==="popstate"?e===bm?!1:(bm=e,!0):(bm=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,Kb=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(e){return Zv.resolve(null).then(e).catch(Yb)}:Gv;function Yb(e){setTimeout(function(){throw e})}function Sm(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){e.removeChild(m),ec(i);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);ec(i)}function Am(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Am(o),ns(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function $b(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Dr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==m.rel||e.getAttribute("href")!==(m.href==null?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=vr(e.nextSibling),e===null)break}return null}function Wb(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=vr(e.nextSibling),e===null))return null;return e}function vr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Kv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return e;i--}else o==="/$"&&i++}e=e.previousSibling}return null}function Qv(e,i,o){switch(i=Ph(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var Wi=new Map,Yv=new Set;function Lh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Os=_t.d;_t.d={f:Xb,r:Jb,D:tS,C:eS,L:nS,m:iS,X:sS,S:rS,M:aS};function Xb(){var e=Os.f(),i=bh();return e||i}function Jb(e){var i=Vi(e);i!==null&&i.tag===5&&i.type==="form"?wg(i):Os.r(e)}var Ul=typeof document>"u"?null:document;function $v(e,i,o){var c=Ul;if(c&&typeof i=="string"&&i){var m=ie(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Yv.has(m)||(Yv.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),Rn(i,"link",e),Ie(i),c.head.appendChild(i)))}}function tS(e){Os.D(e),$v("dns-prefetch",e,null)}function eS(e,i){Os.C(e,i),$v("preconnect",e,i)}function nS(e,i,o){Os.L(e,i,o);var c=Ul;if(c&&e&&i){var m='link[rel="preload"][as="'+ie(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+ie(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+ie(o.imageSizes)+'"]')):m+='[href="'+ie(e)+'"]';var _=m;switch(i){case"style":_=zl(e);break;case"script":_=Bl(e)}Wi.has(_)||(e=U({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Wi.set(_,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Qu(_))||i==="script"&&c.querySelector(Yu(_))||(i=c.createElement("link"),Rn(i,"link",e),Ie(i),c.head.appendChild(i)))}}function iS(e,i){Os.m(e,i);var o=Ul;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+ie(c)+'"][href="'+ie(e)+'"]',_=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Bl(e)}if(!Wi.has(_)&&(e=U({rel:"modulepreload",href:e},i),Wi.set(_,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yu(_)))return}c=o.createElement("link"),Rn(c,"link",e),Ie(c),o.head.appendChild(c)}}}function rS(e,i,o){Os.S(e,i,o);var c=Ul;if(c&&e){var m=bi(c).hoistableStyles,_=zl(e);i=i||"default";var S=m.get(_);if(!S){var C={loading:0,preload:null};if(S=c.querySelector(Qu(_)))C.loading=5;else{e=U({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Wi.get(_))&&Rm(e,o);var M=S=c.createElement("link");Ie(M),Rn(M,"link",e),M._p=new Promise(function(Z,st){M.onload=Z,M.onerror=st}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Oh(S,i,c)}S={type:"stylesheet",instance:S,count:1,state:C},m.set(_,S)}}}function sS(e,i){Os.X(e,i);var o=Ul;if(o&&e){var c=bi(o).hoistableScripts,m=Bl(e),_=c.get(m);_||(_=o.querySelector(Yu(m)),_||(e=U({src:e,async:!0},i),(i=Wi.get(m))&&Cm(e,i),_=o.createElement("script"),Ie(_),Rn(_,"link",e),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function aS(e,i){Os.M(e,i);var o=Ul;if(o&&e){var c=bi(o).hoistableScripts,m=Bl(e),_=c.get(m);_||(_=o.querySelector(Yu(m)),_||(e=U({src:e,async:!0,type:"module"},i),(i=Wi.get(m))&&Cm(e,i),_=o.createElement("script"),Ie(_),Rn(_,"link",e),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function Wv(e,i,o,c){var m=(m=Dn.current)?Lh(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=zl(o.href),o=bi(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=zl(o.href);var _=bi(m).hoistableStyles,S=_.get(e);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,S),(_=m.querySelector(Qu(e)))&&!_._p&&(S.instance=_,S.state.loading=5),Wi.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wi.set(e,o),_||oS(m,e,o,S.state))),i&&c===null)throw Error(a(528,""));return S}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Bl(o),o=bi(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function zl(e){return'href="'+ie(e)+'"'}function Qu(e){return'link[rel="stylesheet"]['+e+"]"}function Xv(e){return U({},e,{"data-precedence":e.precedence,precedence:null})}function oS(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Rn(i,"link",o),Ie(i),e.head.appendChild(i))}function Bl(e){return'[src="'+ie(e)+'"]'}function Yu(e){return"script[async]"+e}function Jv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+ie(o.href)+'"]');if(c)return i.instance=c,Ie(c),c;var m=U({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ie(c),Rn(c,"style",m),Oh(c,o.precedence,e),i.instance=c;case"stylesheet":m=zl(o.href);var _=e.querySelector(Qu(m));if(_)return i.state.loading|=4,i.instance=_,Ie(_),_;c=Xv(o),(m=Wi.get(m))&&Rm(c,m),_=(e.ownerDocument||e).createElement("link"),Ie(_);var S=_;return S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Rn(_,"link",c),i.state.loading|=4,Oh(_,o.precedence,e),i.instance=_;case"script":return _=Bl(o.src),(m=e.querySelector(Yu(_)))?(i.instance=m,Ie(m),m):(c=o,(m=Wi.get(_))&&(c=U({},o),Cm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ie(m),Rn(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Oh(c,o.precedence,e));return i.instance}function Oh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,_=m,S=0;S<c.length;S++){var C=c[S];if(C.dataset.precedence===i)_=C;else if(_!==m)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Rm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Cm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Dh=null;function ty(e,i,o){if(Dh===null){var c=new Map,m=Dh=new Map;m.set(o,c)}else m=Dh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var _=o[m];if(!(_[Dr]||_[Ze]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(i)||"";S=e+S;var C=c.get(S);C?C.push(_):c.set(S,[_])}}return c}function ey(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function lS(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ny(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var $u=null;function uS(){}function cS(e,i,o){if($u===null)throw Error(a(475));var c=$u;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=zl(o.href),_=e.querySelector(Qu(m));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Nh.bind(c),e.then(c,c)),i.state.loading|=4,i.instance=_,Ie(_);return}_=e.ownerDocument||e,o=Xv(o),(m=Wi.get(m))&&Rm(o,m),_=_.createElement("link"),Ie(_);var S=_;S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Rn(_,"link",o),i.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Nh.bind(c),e.addEventListener("load",i),e.addEventListener("error",i))}}function hS(){if($u===null)throw Error(a(475));var e=$u;return e.stylesheets&&e.count===0&&Im(e,e.stylesheets),0<e.count?function(i){var o=setTimeout(function(){if(e.stylesheets&&Im(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o)}}:null}function Nh(){if(this.count--,this.count===0){if(this.stylesheets)Im(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mh=null;function Im(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mh=new Map,i.forEach(fS,e),Mh=null,Nh.call(e))}function fS(e,i){if(!(i.state.loading&4)){var o=Mh.get(e);if(o)var c=o.get(null);else{o=new Map,Mh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var S=m[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}m=i.instance,S=m.getAttribute("data-precedence"),_=o.get(S)||c,_===c&&o.set(null,m),o.set(S,m),this.count++,c=Nh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),_?_.parentNode.insertBefore(m,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Wu={$$typeof:j,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function dS(e,i,o,c,m,_,S,C){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function iy(e,i,o,c,m,_,S,C,M,Z,st,ft){return e=new dS(e,i,o,S,C,M,Z,ft),i=1,_===!0&&(i|=24),_=Yi(3,null,null,i),e.current=_,_.stateNode=e,i=ad(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:c,isDehydrated:o,cache:i},Bd(_),e}function ry(e){return e?(e=qi,e):qi}function sy(e,i,o,c,m,_){m=ry(m),c.context===null?c.context=m:c.pendingContext=m,c=Ca(i),c.payload={element:o},_=_===void 0?null:_,_!==null&&(c.callback=_),o=Ia(e,c,i),o!==null&&(ii(o,e,i),Nu(o,e,i))}function ay(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function xm(e,i){ay(e,i),(e=e.alternate)&&ay(e,i)}function oy(e){if(e.tag===13){var i=hi(e,67108864);i!==null&&ii(i,e,67108864),xm(e,67108864)}}var kh=!0;function mS(e,i,o,c){var m=P.T;P.T=null;var _=_t.p;try{_t.p=2,Pm(e,i,o,c)}finally{_t.p=_,P.T=m}}function pS(e,i,o,c){var m=P.T;P.T=null;var _=_t.p;try{_t.p=8,Pm(e,i,o,c)}finally{_t.p=_,P.T=m}}function Pm(e,i,o,c){if(kh){var m=Lm(c);if(m===null)vm(e,i,c,Vh,o),uy(e,c);else if(gS(m,e,i,o,c))c.stopPropagation();else if(uy(e,c),i&4&&-1<_S.indexOf(e)){for(;m!==null;){var _=Vi(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=gi(_.pendingLanes);if(S!==0){var C=_;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var M=1<<31-Ge(S);C.entanglements[1]|=M,S&=~M}Zr(_),(Me&6)===0&&(Eh=Nn()+500,Gu(0))}}break;case 13:C=hi(_,2),C!==null&&ii(C,_,2),bh(),xm(_,2)}if(_=Lm(c),_===null&&vm(e,i,c,Vh,o),_===m)break;m=_}m!==null&&c.stopPropagation()}else vm(e,i,c,null,o)}}function Lm(e){return e=ss(e),Om(e)}var Vh=null;function Om(e){if(Vh=null,e=wi(e),e!==null){var i=mt(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=oe(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Vh=e,null}function ly(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rl()){case Oe:return 2;case Fe:return 8;case Mi:case sl:return 32;case $s:return 268435456;default:return 32}default:return 32}}var Dm=!1,Ma=null,ka=null,Va=null,Xu=new Map,Ju=new Map,Ua=[],_S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(e,i){switch(e){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Xu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(i.pointerId)}}function tc(e,i,o,c,m,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:_,targetContainers:[m]},i!==null&&(i=Vi(i),i!==null&&oy(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function gS(e,i,o,c,m){switch(i){case"focusin":return Ma=tc(Ma,e,i,o,c,m),!0;case"dragenter":return ka=tc(ka,e,i,o,c,m),!0;case"mouseover":return Va=tc(Va,e,i,o,c,m),!0;case"pointerover":var _=m.pointerId;return Xu.set(_,tc(Xu.get(_)||null,e,i,o,c,m)),!0;case"gotpointercapture":return _=m.pointerId,Ju.set(_,tc(Ju.get(_)||null,e,i,o,c,m)),!0}return!1}function cy(e){var i=wi(e.target);if(i!==null){var o=mt(i);if(o!==null){if(i=o.tag,i===13){if(i=oe(o),i!==null){e.blockedOn=i,rr(e.priority,function(){if(o.tag===13){var c=Li(),m=hi(o,c);m!==null&&ii(m,o,c),xm(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Lm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);bn=c,o.target.dispatchEvent(c),bn=null}else return i=Vi(o),i!==null&&oy(i),e.blockedOn=o,!1;i.shift()}return!0}function hy(e,i,o){Uh(e)&&o.delete(i)}function vS(){Dm=!1,Ma!==null&&Uh(Ma)&&(Ma=null),ka!==null&&Uh(ka)&&(ka=null),Va!==null&&Uh(Va)&&(Va=null),Xu.forEach(hy),Ju.forEach(hy)}function zh(e,i){e.blockedOn===i&&(e.blockedOn=null,Dm||(Dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vS)))}var Bh=null;function fy(e){Bh!==e&&(Bh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bh===e&&(Bh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Om(c||o)===null)continue;break}var _=Vi(o);_!==null&&(e.splice(i,3),i-=3,wd(_,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function ec(e){function i(M){return zh(M,e)}Ma!==null&&zh(Ma,e),ka!==null&&zh(ka,e),Va!==null&&zh(Va,e),Xu.forEach(i),Ju.forEach(i);for(var o=0;o<Ua.length;o++){var c=Ua[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ua.length&&(o=Ua[0],o.blockedOn===null);)cy(o),o.blockedOn===null&&Ua.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],_=o[c+1],S=m[Ue]||null;if(typeof _=="function")S||fy(o);else if(S){var C=null;if(_&&_.hasAttribute("formAction")){if(m=_,S=_[Ue]||null)C=S.formAction;else if(Om(m)!==null)continue}else C=S.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),fy(o)}}}function Nm(e){this._internalRoot=e}jh.prototype.render=Nm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Li();sy(o,c,e,i,null,null)},jh.prototype.unmount=Nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Ml(),sy(e.current,2,null,e,null,null),bh(),i[yi]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ct();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ua.length&&i!==0&&i<Ua[o].priority;o++);Ua.splice(o,0,e),o===0&&cy(e)}};var dy=t.version;if(dy!=="19.0.0")throw Error(a(527,dy,"19.0.0"));_t.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=at(i),e=e!==null?Et(e):null,e=e===null?null:e.stateNode,e};var yS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:wi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{nr=Hh.inject(yS),We=Hh}catch{}}return ic.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=Pg,_=Lg,S=Og,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=iy(e,1,!1,null,null,o,c,m,_,S,C,null),e[yi]=i.current,gm(e.nodeType===8?e.parentNode:e),new Nm(i)},ic.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",_=Pg,S=Lg,C=Og,M=null,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(Z=o.formState)),i=iy(e,1,!0,i,o??null,c,m,_,S,C,M,Z),i.context=ry(null),o=i.current,c=Li(),m=Ca(c),m.callback=null,Ia(o,m,c),i.current.lanes=c,De(i,c),Zr(i),e[yi]=i.current,gm(e),new jh(i)},ic.version="19.0.0",ic}var by;function IS(){if(by)return Vm.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vm.exports=CS(),Vm.exports}var xS=IS();const PS=a0(xS);var rc={},Sy;function LS(){if(Sy)return rc;Sy=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.parse=p,rc.serialize=E;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,h=(()=>{const O=function(){};return O.prototype=Object.create(null),O})();function p(O,j){const B=new h,X=O.length;if(X<2)return B;const J=(j==null?void 0:j.decode)||R;let it=0;do{const dt=O.indexOf("=",it);if(dt===-1)break;const ot=O.indexOf(";",it),xt=ot===-1?X:ot;if(dt>xt){it=O.lastIndexOf(";",dt-1)+1;continue}const At=g(O,it,dt),Bt=y(O,dt,At),F=O.slice(At,Bt);if(B[F]===void 0){let N=g(O,dt+1,xt),P=y(O,xt,N);const U=J(O.slice(N,P));B[F]=U}it=xt+1}while(it<X);return B}function g(O,j,B){do{const X=O.charCodeAt(j);if(X!==32&&X!==9)return j}while(++j<B);return B}function y(O,j,B){for(;j>B;){const X=O.charCodeAt(--j);if(X!==32&&X!==9)return j+1}return B}function E(O,j,B){const X=(B==null?void 0:B.encode)||encodeURIComponent;if(!r.test(O))throw new TypeError(`argument name is invalid: ${O}`);const J=X(j);if(!t.test(J))throw new TypeError(`argument val is invalid: ${j}`);let it=O+"="+J;if(!B)return it;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);it+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);it+="; Domain="+B.domain}if(B.path){if(!a.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);it+="; Path="+B.path}if(B.expires){if(!I(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);it+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(it+="; HttpOnly"),B.secure&&(it+="; Secure"),B.partitioned&&(it+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":it+="; Priority=Low";break;case"medium":it+="; Priority=Medium";break;case"high":it+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":it+="; SameSite=Strict";break;case"lax":it+="; SameSite=Lax";break;case"none":it+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return it}function R(O){if(O.indexOf("%")===-1)return O;try{return decodeURIComponent(O)}catch{return O}}function I(O){return l.call(O)==="[object Date]"}return rc}LS();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ay="popstate";function OS(r={}){function t(a,l){let{pathname:h,search:p,hash:g}=a.location;return tp("",{pathname:h,search:p,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:yc(l)}return NS(t,n,null,r)}function Le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Er(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DS(){return Math.random().toString(36).substring(2,10)}function Ry(r,t){return{usr:r.state,key:r.key,idx:t}}function tp(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?su(t):t,state:n,key:t&&t.key||a||DS()}}function yc({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function su(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function NS(r,t,n,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,p=l.history,g="POP",y=null,E=R();E==null&&(E=0,p.replaceState({...p.state,idx:E},""));function R(){return(p.state||{idx:null}).idx}function I(){g="POP";let J=R(),it=J==null?null:J-E;E=J,y&&y({action:g,location:X.location,delta:it})}function O(J,it){g="PUSH";let dt=tp(X.location,J,it);E=R()+1;let ot=Ry(dt,E),xt=X.createHref(dt);try{p.pushState(ot,"",xt)}catch(At){if(At instanceof DOMException&&At.name==="DataCloneError")throw At;l.location.assign(xt)}h&&y&&y({action:g,location:X.location,delta:1})}function j(J,it){g="REPLACE";let dt=tp(X.location,J,it);E=R();let ot=Ry(dt,E),xt=X.createHref(dt);p.replaceState(ot,"",xt),h&&y&&y({action:g,location:X.location,delta:0})}function B(J){let it=l.location.origin!=="null"?l.location.origin:l.location.href,dt=typeof J=="string"?J:yc(J);return dt=dt.replace(/ $/,"%20"),Le(it,`No window.location.(origin|href) available to create URL for href: ${dt}`),new URL(dt,it)}let X={get action(){return g},get location(){return r(l,p)},listen(J){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(Ay,I),y=J,()=>{l.removeEventListener(Ay,I),y=null}},createHref(J){return t(l,J)},createURL:B,encodeLocation(J){let it=B(J);return{pathname:it.pathname,search:it.search,hash:it.hash}},push:O,replace:j,go(J){return p.go(J)}};return X}function l0(r,t,n="/"){return MS(r,t,n,!1)}function MS(r,t,n,a){let l=typeof t=="string"?su(t):t,h=zs(l.pathname||"/",n);if(h==null)return null;let p=u0(r);kS(p);let g=null;for(let y=0;g==null&&y<p.length;++y){let E=KS(h);g=GS(p[y],E,a)}return g}function u0(r,t=[],n=[],a=""){let l=(h,p,g)=>{let y={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};y.relativePath.startsWith("/")&&(Le(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length));let E=ks([a,y.relativePath]),R=n.concat(y);h.children&&h.children.length>0&&(Le(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),u0(h.children,t,R,E)),!(h.path==null&&!h.index)&&t.push({path:E,score:qS(E,h.index),routesMeta:R})};return r.forEach((h,p)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))l(h,p);else for(let y of c0(h.path))l(h,p,y)}),t}function c0(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let p=c0(a.join("/")),g=[];return g.push(...p.map(y=>y===""?h:[h,y].join("/"))),l&&g.push(...p),g.map(y=>r.startsWith("/")&&y===""?"/":y)}function kS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:FS(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var VS=/^:[\w-]+$/,US=3,zS=2,BS=1,jS=10,HS=-2,Cy=r=>r==="*";function qS(r,t){let n=r.split("/"),a=n.length;return n.some(Cy)&&(a+=HS),t&&(a+=zS),n.filter(l=>!Cy(l)).reduce((l,h)=>l+(VS.test(h)?US:h===""?BS:jS),a)}function FS(r,t){return r.length===t.length&&r.slice(0,-1).every((a,l)=>a===t[l])?r[r.length-1]-t[t.length-1]:0}function GS(r,t,n=!1){let{routesMeta:a}=r,l={},h="/",p=[];for(let g=0;g<a.length;++g){let y=a[g],E=g===a.length-1,R=h==="/"?t:t.slice(h.length)||"/",I=cf({path:y.relativePath,caseSensitive:y.caseSensitive,end:E},R),O=y.route;if(!I&&E&&n&&!a[a.length-1].route.index&&(I=cf({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},R)),!I)return null;Object.assign(l,I.params),p.push({params:l,pathname:ks([h,I.pathname]),pathnameBase:WS(ks([h,I.pathnameBase])),route:O}),I.pathnameBase!=="/"&&(h=ks([h,I.pathnameBase]))}return p}function cf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=ZS(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let h=l[0],p=h.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:a.reduce((E,{paramName:R,isOptional:I},O)=>{if(R==="*"){let B=g[O]||"";p=h.slice(0,h.length-B.length).replace(/(.)\/+$/,"$1")}const j=g[O];return I&&!j?E[R]=void 0:E[R]=(j||"").replace(/%2F/g,"/"),E},{}),pathname:h,pathnameBase:p,pattern:r}}function ZS(r,t=!1,n=!0){Er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,y)=>(a.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function KS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function zs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function QS(r,t="/"){let{pathname:n,search:a="",hash:l=""}=typeof r=="string"?su(r):r;return{pathname:n?n.startsWith("/")?n:YS(n,t):t,search:XS(a),hash:JS(l)}}function YS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function jm(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $S(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Lp(r){let t=$S(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Op(r,t,n,a=!1){let l;typeof r=="string"?l=su(r):(l={...r},Le(!l.pathname||!l.pathname.includes("?"),jm("?","pathname","search",l)),Le(!l.pathname||!l.pathname.includes("#"),jm("#","pathname","hash",l)),Le(!l.search||!l.search.includes("#"),jm("#","search","hash",l)));let h=r===""||l.pathname==="",p=h?"/":l.pathname,g;if(p==null)g=n;else{let I=t.length-1;if(!a&&p.startsWith("..")){let O=p.split("/");for(;O[0]==="..";)O.shift(),I-=1;l.pathname=O.join("/")}g=I>=0?t[I]:"/"}let y=QS(l,g),E=p&&p!=="/"&&p.endsWith("/"),R=(h||p===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(E||R)&&(y.pathname+="/"),y}var ks=r=>r.join("/").replace(/\/\/+/g,"/"),WS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),XS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,JS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var h0=["POST","PUT","PATCH","DELETE"];new Set(h0);var eA=["GET",...h0];new Set(eA);var au=q.createContext(null);au.displayName="DataRouter";var Pf=q.createContext(null);Pf.displayName="DataRouterState";var f0=q.createContext({isTransitioning:!1});f0.displayName="ViewTransition";var nA=q.createContext(new Map);nA.displayName="Fetchers";var iA=q.createContext(null);iA.displayName="Await";var br=q.createContext(null);br.displayName="Navigation";var Lc=q.createContext(null);Lc.displayName="Location";var Ji=q.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var Dp=q.createContext(null);Dp.displayName="RouteError";function rA(r,{relative:t}={}){Le(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=q.useContext(br),{hash:l,pathname:h,search:p}=Oc(r,{relative:t}),g=h;return n!=="/"&&(g=h==="/"?n:ks([n,h])),a.createHref({pathname:g,search:p,hash:l})}function ou(){return q.useContext(Lc)!=null}function io(){return Le(ou(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Lc).location}var d0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m0(r){q.useContext(br).static||q.useLayoutEffect(r)}function Gs(){let{isDataRoute:r}=q.useContext(Ji);return r?yA():sA()}function sA(){Le(ou(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(au),{basename:t,navigator:n}=q.useContext(br),{matches:a}=q.useContext(Ji),{pathname:l}=io(),h=JSON.stringify(Lp(a)),p=q.useRef(!1);return m0(()=>{p.current=!0}),q.useCallback((y,E={})=>{if(Er(p.current,d0),!p.current)return;if(typeof y=="number"){n.go(y);return}let R=Op(y,JSON.parse(h),l,E.relative==="path");r==null&&t!=="/"&&(R.pathname=R.pathname==="/"?t:ks([t,R.pathname])),(E.replace?n.replace:n.push)(R,E.state,E)},[t,n,h,l,r])}var aA=q.createContext(null);function oA(r){let t=q.useContext(Ji).outlet;return t&&q.createElement(aA.Provider,{value:r},t)}function Np(){let{matches:r}=q.useContext(Ji),t=r[r.length-1];return t?t.params:{}}function Oc(r,{relative:t}={}){let{matches:n}=q.useContext(Ji),{pathname:a}=io(),l=JSON.stringify(Lp(n));return q.useMemo(()=>Op(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function lA(r,t){return p0(r,t)}function p0(r,t,n,a){var dt;Le(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:h}=q.useContext(br),{matches:p}=q.useContext(Ji),g=p[p.length-1],y=g?g.params:{},E=g?g.pathname:"/",R=g?g.pathnameBase:"/",I=g&&g.route;{let ot=I&&I.path||"";_0(E,!I||ot.endsWith("*")||ot.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${E}" (under <Route path="${ot}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ot}"> to <Route path="${ot==="/"?"*":`${ot}/*`}">.`)}let O=io(),j;if(t){let ot=typeof t=="string"?su(t):t;Le(R==="/"||((dt=ot.pathname)==null?void 0:dt.startsWith(R)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${R}" but pathname "${ot.pathname}" was given in the \`location\` prop.`),j=ot}else j=O;let B=j.pathname||"/",X=B;if(R!=="/"){let ot=R.replace(/^\//,"").split("/");X="/"+B.replace(/^\//,"").split("/").slice(ot.length).join("/")}let J=!h&&n&&n.matches&&n.matches.length>0?n.matches:l0(r,{pathname:X});Er(I||J!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Er(J==null||J[J.length-1].route.element!==void 0||J[J.length-1].route.Component!==void 0||J[J.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let it=dA(J&&J.map(ot=>Object.assign({},ot,{params:Object.assign({},y,ot.params),pathname:ks([R,l.encodeLocation?l.encodeLocation(ot.pathname).pathname:ot.pathname]),pathnameBase:ot.pathnameBase==="/"?R:ks([R,l.encodeLocation?l.encodeLocation(ot.pathnameBase).pathname:ot.pathnameBase])})),p,n,a);return t&&it?q.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},it):it}function uA(){let r=vA(),t=tA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},p=null;return console.error("Error handled by React Router default ErrorBoundary:",r),p=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:h},"ErrorBoundary")," or"," ",q.createElement("code",{style:h},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:l},n):null,p)}var cA=q.createElement(uA,null),hA=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?q.createElement(Ji.Provider,{value:this.props.routeContext},q.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fA({routeContext:r,match:t,children:n}){let a=q.useContext(au);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(Ji.Provider,{value:r},n)}function dA(r,t=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,h=n==null?void 0:n.errors;if(h!=null){let y=l.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);Le(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<l.length;y++){let E=l[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:R,errors:I}=n,O=E.route.loader&&!R.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||O){p=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((y,E,R)=>{let I,O=!1,j=null,B=null;n&&(I=h&&E.route.id?h[E.route.id]:void 0,j=E.route.errorElement||cA,p&&(g<0&&R===0?(_0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,B=null):g===R&&(O=!0,B=E.route.hydrateFallbackElement||null)));let X=t.concat(l.slice(0,R+1)),J=()=>{let it;return I?it=j:O?it=B:E.route.Component?it=q.createElement(E.route.Component,null):E.route.element?it=E.route.element:it=y,q.createElement(fA,{match:E,routeContext:{outlet:y,matches:X,isDataRoute:n!=null},children:it})};return n&&(E.route.ErrorBoundary||E.route.errorElement||R===0)?q.createElement(hA,{location:n.location,revalidation:n.revalidation,component:j,error:I,children:J(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):J()},null)}function Mp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mA(r){let t=q.useContext(au);return Le(t,Mp(r)),t}function pA(r){let t=q.useContext(Pf);return Le(t,Mp(r)),t}function _A(r){let t=q.useContext(Ji);return Le(t,Mp(r)),t}function kp(r){let t=_A(r),n=t.matches[t.matches.length-1];return Le(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function gA(){return kp("useRouteId")}function vA(){var a;let r=q.useContext(Dp),t=pA("useRouteError"),n=kp("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[n]}function yA(){let{router:r}=mA("useNavigate"),t=kp("useNavigate"),n=q.useRef(!1);return m0(()=>{n.current=!0}),q.useCallback(async(l,h={})=>{Er(n.current,d0),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...h}))},[r,t])}var Iy={};function _0(r,t,n){!t&&!Iy[r]&&(Iy[r]=!0,Er(!1,n))}q.memo(EA);function EA({routes:r,future:t,state:n}){return p0(r,void 0,n,t)}function g0({to:r,replace:t,state:n,relative:a}){Le(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=q.useContext(br);Er(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=q.useContext(Ji),{pathname:p}=io(),g=Gs(),y=Op(r,Lp(h),p,a==="path"),E=JSON.stringify(y);return q.useEffect(()=>{g(JSON.parse(E),{replace:t,state:n,relative:a})},[g,E,a,t,n]),null}function v0(r){return oA(r.context)}function Cn(r){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TA({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:l,static:h=!1}){Le(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:p,navigator:l,static:h,future:{}}),[p,l,h]);typeof n=="string"&&(n=su(n));let{pathname:y="/",search:E="",hash:R="",state:I=null,key:O="default"}=n,j=q.useMemo(()=>{let B=zs(y,p);return B==null?null:{location:{pathname:B,search:E,hash:R,state:I,key:O},navigationType:a}},[p,y,E,R,I,O,a]);return Er(j!=null,`<Router basename="${p}"> is not able to match the URL "${y}${E}${R}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:q.createElement(br.Provider,{value:g},q.createElement(Lc.Provider,{children:t,value:j}))}function wA({children:r,location:t}){return lA(ep(r),t)}function ep(r,t=[]){let n=[];return q.Children.forEach(r,(a,l)=>{if(!q.isValidElement(a))return;let h=[...t,l];if(a.type===q.Fragment){n.push.apply(n,ep(a.props.children,h));return}Le(a.type===Cn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!a.props.index||!a.props.children,"An index route cannot have child routes.");let p={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(p.children=ep(a.props.children,h)),n.push(p)}),n}var $h="get",Wh="application/x-www-form-urlencoded";function Lf(r){return r!=null&&typeof r.tagName=="string"}function bA(r){return Lf(r)&&r.tagName.toLowerCase()==="button"}function SA(r){return Lf(r)&&r.tagName.toLowerCase()==="form"}function AA(r){return Lf(r)&&r.tagName.toLowerCase()==="input"}function RA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function CA(r,t){return r.button===0&&(!t||t==="_self")&&!RA(r)}var qh=null;function IA(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var xA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(r){return r!=null&&!xA.has(r)?(Er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):r}function PA(r,t){let n,a,l,h,p;if(SA(r)){let g=r.getAttribute("action");a=g?zs(g,t):null,n=r.getAttribute("method")||$h,l=Hm(r.getAttribute("enctype"))||Wh,h=new FormData(r)}else if(bA(r)||AA(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||g.getAttribute("action");if(a=y?zs(y,t):null,n=r.getAttribute("formmethod")||g.getAttribute("method")||$h,l=Hm(r.getAttribute("formenctype"))||Hm(g.getAttribute("enctype"))||Wh,h=new FormData(g,r),!IA()){let{name:E,type:R,value:I}=r;if(R==="image"){let O=E?`${E}.`:"";h.append(`${O}x`,"0"),h.append(`${O}y`,"0")}else E&&h.append(E,I)}}else{if(Lf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$h,a=null,l=Wh,p=r}return h&&l==="text/plain"&&(p=h,h=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:h,body:p}}function Vp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function LA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function DA(r,t,n){let a=await Promise.all(r.map(async l=>{let h=t.routes[l.route.id];if(h){let p=await LA(h,n);return p.links?p.links():[]}return[]}));return VA(a.flat(1).filter(OA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function xy(r,t,n,a,l,h){let p=(y,E)=>n[E]?y.route.id!==n[E].route.id:!0,g=(y,E)=>{var R;return n[E].pathname!==y.pathname||((R=n[E].route.path)==null?void 0:R.endsWith("*"))&&n[E].params["*"]!==y.params["*"]};return h==="assets"?t.filter((y,E)=>p(y,E)||g(y,E)):h==="data"?t.filter((y,E)=>{var I;let R=a.routes[y.route.id];if(!R||!R.hasLoader)return!1;if(p(y,E)||g(y,E))return!0;if(y.route.shouldRevalidate){let O=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((I=n[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof O=="boolean")return O}return!0}):[]}function NA(r,t,{includeHydrateFallback:n}={}){return MA(r.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function MA(r){return[...new Set(r)]}function kA(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function VA(r,t){let n=new Set;return new Set(t),r.reduce((a,l)=>{let h=JSON.stringify(kA(l));return n.has(h)||(n.add(h),a.push({key:h,link:l})),a},[])}function UA(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&zs(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function y0(){let r=q.useContext(au);return Vp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zA(){let r=q.useContext(Pf);return Vp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Up=q.createContext(void 0);Up.displayName="FrameworkContext";function E0(){let r=q.useContext(Up);return Vp(r,"You must render this element inside a <HydratedRouter> element"),r}function BA(r,t){let n=q.useContext(Up),[a,l]=q.useState(!1),[h,p]=q.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:E,onMouseLeave:R,onTouchStart:I}=t,O=q.useRef(null);q.useEffect(()=>{if(r==="render"&&p(!0),r==="viewport"){let X=it=>{it.forEach(dt=>{p(dt.isIntersecting)})},J=new IntersectionObserver(X,{threshold:.5});return O.current&&J.observe(O.current),()=>{J.disconnect()}}},[r]),q.useEffect(()=>{if(a){let X=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(X)}}},[a]);let j=()=>{l(!0)},B=()=>{l(!1),p(!1)};return n?r!=="intent"?[h,O,{}]:[h,O,{onFocus:sc(g,j),onBlur:sc(y,B),onMouseEnter:sc(E,j),onMouseLeave:sc(R,B),onTouchStart:sc(I,j)}]:[!1,O,{}]}function sc(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function jA({page:r,...t}){let{router:n}=y0(),a=q.useMemo(()=>l0(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?q.createElement(qA,{page:r,matches:a,...t}):null}function HA(r){let{manifest:t,routeModules:n}=E0(),[a,l]=q.useState([]);return q.useEffect(()=>{let h=!1;return DA(r,t,n).then(p=>{h||l(p)}),()=>{h=!0}},[r,t,n]),a}function qA({page:r,matches:t,...n}){let a=io(),{manifest:l,routeModules:h}=E0(),{basename:p}=y0(),{loaderData:g,matches:y}=zA(),E=q.useMemo(()=>xy(r,t,y,l,a,"data"),[r,t,y,l,a]),R=q.useMemo(()=>xy(r,t,y,l,a,"assets"),[r,t,y,l,a]),I=q.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let B=new Set,X=!1;if(t.forEach(it=>{var ot;let dt=l.routes[it.route.id];!dt||!dt.hasLoader||(!E.some(xt=>xt.route.id===it.route.id)&&it.route.id in g&&((ot=h[it.route.id])!=null&&ot.shouldRevalidate)||dt.hasClientLoader?X=!0:B.add(it.route.id))}),B.size===0)return[];let J=UA(r,p);return X&&B.size>0&&J.searchParams.set("_routes",t.filter(it=>B.has(it.route.id)).map(it=>it.route.id).join(",")),[J.pathname+J.search]},[p,g,a,l,E,t,r,h]),O=q.useMemo(()=>NA(R,l),[R,l]),j=HA(R);return q.createElement(q.Fragment,null,I.map(B=>q.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),O.map(B=>q.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),j.map(({key:B,link:X})=>q.createElement("link",{key:B,...X})))}function FA(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var T0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T0&&(window.__reactRouterVersion="7.4.0")}catch{}function GA({basename:r,children:t,window:n}){let a=q.useRef();a.current==null&&(a.current=OS({window:n,v5Compat:!0}));let l=a.current,[h,p]=q.useState({action:l.action,location:l.location}),g=q.useCallback(y=>{q.startTransition(()=>p(y))},[p]);return q.useLayoutEffect(()=>l.listen(g),[l,g]),q.createElement(TA,{basename:r,children:t,location:h.location,navigationType:h.action,navigator:l})}var w0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,In=q.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:l,reloadDocument:h,replace:p,state:g,target:y,to:E,preventScrollReset:R,viewTransition:I,...O},j){let{basename:B}=q.useContext(br),X=typeof E=="string"&&w0.test(E),J,it=!1;if(typeof E=="string"&&X&&(J=E,T0))try{let P=new URL(window.location.href),U=E.startsWith("//")?new URL(P.protocol+E):new URL(E),H=zs(U.pathname,B);U.origin===P.origin&&H!=null?E=H+U.search+U.hash:it=!0}catch{Er(!1,`<Link to="${E}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let dt=rA(E,{relative:l}),[ot,xt,At]=BA(a,O),Bt=YA(E,{replace:p,state:g,target:y,preventScrollReset:R,relative:l,viewTransition:I});function F(P){t&&t(P),P.defaultPrevented||Bt(P)}let N=q.createElement("a",{...O,...At,href:J||dt,onClick:it||h?t:F,ref:FA(j,xt),target:y,"data-discover":!X&&n==="render"?"true":void 0});return ot&&!X?q.createElement(q.Fragment,null,N,q.createElement(jA,{page:dt})):N});In.displayName="Link";var ZA=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:l=!1,style:h,to:p,viewTransition:g,children:y,...E},R){let I=Oc(p,{relative:E.relative}),O=io(),j=q.useContext(Pf),{navigator:B,basename:X}=q.useContext(br),J=j!=null&&tR(I)&&g===!0,it=B.encodeLocation?B.encodeLocation(I).pathname:I.pathname,dt=O.pathname,ot=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(dt=dt.toLowerCase(),ot=ot?ot.toLowerCase():null,it=it.toLowerCase()),ot&&X&&(ot=zs(ot,X)||ot);const xt=it!=="/"&&it.endsWith("/")?it.length-1:it.length;let At=dt===it||!l&&dt.startsWith(it)&&dt.charAt(xt)==="/",Bt=ot!=null&&(ot===it||!l&&ot.startsWith(it)&&ot.charAt(it.length)==="/"),F={isActive:At,isPending:Bt,isTransitioning:J},N=At?t:void 0,P;typeof a=="function"?P=a(F):P=[a,At?"active":null,Bt?"pending":null,J?"transitioning":null].filter(Boolean).join(" ");let U=typeof h=="function"?h(F):h;return q.createElement(In,{...E,"aria-current":N,className:P,ref:R,style:U,to:p,viewTransition:g},typeof y=="function"?y(F):y)});ZA.displayName="NavLink";var KA=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:l,state:h,method:p=$h,action:g,onSubmit:y,relative:E,preventScrollReset:R,viewTransition:I,...O},j)=>{let B=XA(),X=JA(g,{relative:E}),J=p.toLowerCase()==="get"?"get":"post",it=typeof g=="string"&&w0.test(g),dt=ot=>{if(y&&y(ot),ot.defaultPrevented)return;ot.preventDefault();let xt=ot.nativeEvent.submitter,At=(xt==null?void 0:xt.getAttribute("formmethod"))||p;B(xt||ot.currentTarget,{fetcherKey:t,method:At,navigate:n,replace:l,state:h,relative:E,preventScrollReset:R,viewTransition:I})};return q.createElement("form",{ref:j,method:J,action:X,onSubmit:a?y:dt,...O,"data-discover":!it&&r==="render"?"true":void 0})});KA.displayName="Form";function QA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b0(r){let t=q.useContext(au);return Le(t,QA(r)),t}function YA(r,{target:t,replace:n,state:a,preventScrollReset:l,relative:h,viewTransition:p}={}){let g=Gs(),y=io(),E=Oc(r,{relative:h});return q.useCallback(R=>{if(CA(R,t)){R.preventDefault();let I=n!==void 0?n:yc(y)===yc(E);g(r,{replace:I,state:a,preventScrollReset:l,relative:h,viewTransition:p})}},[y,g,E,n,a,t,r,l,h,p])}var $A=0,WA=()=>`__${String(++$A)}__`;function XA(){let{router:r}=b0("useSubmit"),{basename:t}=q.useContext(br),n=gA();return q.useCallback(async(a,l={})=>{let{action:h,method:p,encType:g,formData:y,body:E}=PA(a,t);if(l.navigate===!1){let R=l.fetcherKey||WA();await r.fetch(R,n,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:E,formMethod:l.method||p,formEncType:l.encType||g,flushSync:l.flushSync})}else await r.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:E,formMethod:l.method||p,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function JA(r,{relative:t}={}){let{basename:n}=q.useContext(br),a=q.useContext(Ji);Le(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...Oc(r||".",{relative:t})},p=io();if(r==null){h.search=p.search;let g=new URLSearchParams(h.search),y=g.getAll("index");if(y.some(R=>R==="")){g.delete("index"),y.filter(I=>I).forEach(I=>g.append("index",I));let R=g.toString();h.search=R?`?${R}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:ks([n,h.pathname])),yc(h)}function tR(r,t={}){let n=q.useContext(f0);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=b0("useViewTransitionState"),l=Oc(r,{relative:t.relative});if(!n.isTransitioning)return!1;let h=zs(n.currentLocation.pathname,a)||n.currentLocation.pathname,p=zs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return cf(l.pathname,p)!=null||cf(l.pathname,h)!=null}new TextEncoder;var eR=o0();const nR=()=>{};var Py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},iR=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],p=r[n++],g=r[n++],y=((l&7)<<18|(h&63)<<12|(p&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const h=r[n++],p=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|p&63)}}return t.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],p=l+1<r.length,g=p?r[l+1]:0,y=l+2<r.length,E=y?r[l+2]:0,R=h>>2,I=(h&3)<<4|g>>4;let O=(g&15)<<2|E>>6,j=E&63;y||(j=64,p||(O=64)),a.push(n[R],n[I],n[O],n[j])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(S0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const E=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||g==null||E==null||I==null)throw new rR;const O=h<<2|g>>4;if(a.push(O),E!==64){const j=g<<4&240|E>>2;if(a.push(j),I!==64){const B=E<<6&192|I;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sR=function(r){const t=S0(r);return A0.encodeByteArray(t,!0)},hf=function(r){return sR(r).replace(/\./g,"")},R0=function(r){try{return A0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>aR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof Py>"u")return;const r=Py.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&R0(r[1]);return t&&JSON.parse(t)},Of=()=>{try{return nR()||oR()||lR()||uR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C0=r=>{var t,n;return(n=(t=Of())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},cR=r=>{const t=C0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},I0=()=>{var r;return(r=Of())===null||r===void 0?void 0:r.config},x0=r=>{var t;return(t=Of())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[hf(JSON.stringify(n)),hf(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function mR(){var r;const t=(r=Of())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _R(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){const r=Zn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yR(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ER(){try{return typeof indexedDB=="object"}catch{return!1}}function TR(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="FirebaseError";class Zs extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=wR,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],p=h?bR(h,a):"Error",g=`${this.serviceName}: ${p} (${l}).`;return new Zs(l,g,a)}}function bR(r,t){return r.replace(SR,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const SR=/\{\$([^}]+)}/g;function AR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ko(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],p=t[l];if(Ly(h)&&Ly(p)){if(!Ko(h,p))return!1}else if(h!==p)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Ly(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ac(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,h]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function oc(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function RR(r,t){const n=new CR(r,t);return n.subscribe.bind(n)}class CR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");IR(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=qm),l.error===void 0&&(l.error=qm),l.complete===void 0&&(l.complete=qm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(r){return r&&r._delegate?r._delegate:r}class Qo{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new hR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LR(t))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Fo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fo){return this.instances.has(t)}getOptions(t=Fo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&p.resolve(l)}return l}onInit(t,n){var a;const l=this.normalizeInstanceIdentifier(n),h=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;h.add(t),this.onInitCallbacks.set(l,h);const p=this.instances.get(l);return p&&t(p,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:PR(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fo){return this.component?this.component.multipleInstances?t:Fo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PR(r){return r===Fo?void 0:r}function LR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new xR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ee||(ee={}));const DR={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},NR=ee.INFO,MR={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},kR=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=MR[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zp{constructor(t){this.name=t,this._logLevel=NR,this._logHandler=kR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}}const VR=(r,t)=>t.some(n=>r instanceof n);let Oy,Dy;function UR(){return Oy||(Oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zR(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P0=new WeakMap,np=new WeakMap,L0=new WeakMap,Fm=new WeakMap,Bp=new WeakMap;function BR(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",p)},h=()=>{n(Za(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",p)});return t.then(n=>{n instanceof IDBCursor&&P0.set(n,r)}).catch(()=>{}),Bp.set(t,r),t}function jR(r){if(np.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",p),r.removeEventListener("abort",p)},h=()=>{n(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",p),r.addEventListener("abort",p)});np.set(r,t)}let ip={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return np.get(r);if(t==="objectStoreNames")return r.objectStoreNames||L0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Za(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function HR(r){ip=r(ip)}function qR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Gm(this),t,...n);return L0.set(a,t.sort?t.sort():[t]),Za(a)}:zR().includes(r)?function(...t){return r.apply(Gm(this),t),Za(P0.get(this))}:function(...t){return Za(r.apply(Gm(this),t))}}function FR(r){return typeof r=="function"?qR(r):(r instanceof IDBTransaction&&jR(r),VR(r,UR())?new Proxy(r,ip):r)}function Za(r){if(r instanceof IDBRequest)return BR(r);if(Fm.has(r))return Fm.get(r);const t=FR(r);return t!==r&&(Fm.set(r,t),Bp.set(t,r)),t}const Gm=r=>Bp.get(r);function GR(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const p=indexedDB.open(r,t),g=Za(p);return a&&p.addEventListener("upgradeneeded",y=>{a(Za(p.result),y.oldVersion,y.newVersion,Za(p.transaction),y)}),n&&p.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const ZR=["get","getKey","getAll","getAllKeys","count"],KR=["put","add","delete","clear"],Zm=new Map;function Ny(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Zm.get(t))return Zm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=KR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ZR.includes(n)))return;const h=async function(p,...g){const y=this.transaction(p,l?"readwrite":"readonly");let E=y.store;return a&&(E=E.index(g.shift())),(await Promise.all([E[n](...g),l&&y.done]))[0]};return Zm.set(t,h),h}HR(r=>({...r,get:(t,n,a)=>Ny(t,n)||r.get(t,n,a),has:(t,n)=>!!Ny(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function YR(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rp="@firebase/app",My="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new zp("@firebase/app"),$R="@firebase/app-compat",WR="@firebase/analytics-compat",XR="@firebase/analytics",JR="@firebase/app-check-compat",tC="@firebase/app-check",eC="@firebase/auth",nC="@firebase/auth-compat",iC="@firebase/database",rC="@firebase/data-connect",sC="@firebase/database-compat",aC="@firebase/functions",oC="@firebase/functions-compat",lC="@firebase/installations",uC="@firebase/installations-compat",cC="@firebase/messaging",hC="@firebase/messaging-compat",fC="@firebase/performance",dC="@firebase/performance-compat",mC="@firebase/remote-config",pC="@firebase/remote-config-compat",_C="@firebase/storage",gC="@firebase/storage-compat",vC="@firebase/firestore",yC="@firebase/vertexai",EC="@firebase/firestore-compat",TC="firebase",wC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",bC={[rp]:"fire-core",[$R]:"fire-core-compat",[XR]:"fire-analytics",[WR]:"fire-analytics-compat",[tC]:"fire-app-check",[JR]:"fire-app-check-compat",[eC]:"fire-auth",[nC]:"fire-auth-compat",[iC]:"fire-rtdb",[rC]:"fire-data-connect",[sC]:"fire-rtdb-compat",[aC]:"fire-fn",[oC]:"fire-fn-compat",[lC]:"fire-iid",[uC]:"fire-iid-compat",[cC]:"fire-fcm",[hC]:"fire-fcm-compat",[fC]:"fire-perf",[dC]:"fire-perf-compat",[mC]:"fire-rc",[pC]:"fire-rc-compat",[_C]:"fire-gcs",[gC]:"fire-gcs-compat",[vC]:"fire-fst",[EC]:"fire-fst-compat",[yC]:"fire-vertex","fire-js":"fire-js",[TC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Map,SC=new Map,ap=new Map;function ky(r,t){try{r.container.addComponent(t)}catch(n){Bs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function $l(r){const t=r.name;if(ap.has(t))return Bs.debug(`There were multiple attempts to register component ${t}.`),!1;ap.set(t,r);for(const n of ff.values())ky(n,r);for(const n of SC.values())ky(n,r);return!0}function jp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Xi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new Dc("app","Firebase",AC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t,n,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=wC;function O0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:sp,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw Ka.create("bad-app-name",{appName:String(l)});if(n||(n=I0()),!n)throw Ka.create("no-options");const h=ff.get(l);if(h){if(Ko(n,h.options)&&Ko(a,h.config))return h;throw Ka.create("duplicate-app",{appName:l})}const p=new OR(l);for(const y of ap.values())p.addComponent(y);const g=new RC(n,a,p);return ff.set(l,g),g}function D0(r=sp){const t=ff.get(r);if(!t&&r===sp&&I0())return O0();if(!t)throw Ka.create("no-app",{appName:r});return t}function Qa(r,t,n){var a;let l=(a=bC[r])!==null&&a!==void 0?a:r;n&&(l+=`-${n}`);const h=l.match(/\s|\//),p=t.match(/\s|\//);if(h||p){const g=[`Unable to register library "${l}" with version "${t}":`];h&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&p&&g.push("and"),p&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bs.warn(g.join(" "));return}$l(new Qo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-heartbeat-database",IC=1,Ec="firebase-heartbeat-store";let Km=null;function N0(){return Km||(Km=GR(CC,IC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ka.create("idb-open",{originalErrorMessage:r.message})})),Km}async function xC(r){try{const n=(await N0()).transaction(Ec),a=await n.objectStore(Ec).get(M0(r));return await n.done,a}catch(t){if(t instanceof Zs)Bs.warn(t.message);else{const n=Ka.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bs.warn(n.message)}}}async function Vy(r,t){try{const a=(await N0()).transaction(Ec,"readwrite");await a.objectStore(Ec).put(t,M0(r)),await a.done}catch(n){if(n instanceof Zs)Bs.warn(n.message);else{const a=Ka.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bs.warn(a.message)}}}function M0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=1024,LC=30;class OC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Uy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(p=>p.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>LC){const p=MC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(p,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Bs.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Uy(),{heartbeatsToSend:a,unsentEntries:l}=DC(this._heartbeatsCache.heartbeats),h=hf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(n){return Bs.warn(n),""}}}function Uy(){return new Date().toISOString().substring(0,10)}function DC(r,t=PC){const n=[];let a=r.slice();for(const l of r){const h=n.find(p=>p.agent===l.agent);if(h){if(h.dates.push(l.date),zy(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),zy(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class NC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ER()?TR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function zy(r){return hf(JSON.stringify({version:2,heartbeats:r})).length}function MC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r){$l(new Qo("platform-logger",t=>new QR(t),"PRIVATE")),$l(new Qo("heartbeat",t=>new OC(t),"PRIVATE")),Qa(rp,My,r),Qa(rp,My,"esm2017"),Qa("fire-js","")}kC("");var VC="firebase",UC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa(VC,UC,"app");function Hp(r,t){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(n[a[l]]=r[a[l]]);return n}function k0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zC=k0,V0=new Dc("auth","Firebase",k0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new zp("@firebase/auth");function BC(r,...t){df.logLevel<=ee.WARN&&df.warn(`Auth (${lu}): ${r}`,...t)}function Xh(r,...t){df.logLevel<=ee.ERROR&&df.error(`Auth (${lu}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(r,...t){throw qp(r,...t)}function Qr(r,...t){return qp(r,...t)}function U0(r,t,n){const a=Object.assign(Object.assign({},zC()),{[t]:n});return new Dc("auth","Firebase",a).create(t,{appName:r.name})}function Vs(r){return U0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return V0.create(r,...t)}function Vt(r,t,...n){if(!r)throw qp(t,...n)}function Ds(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Xh(t),new Error(t)}function js(r,t){r||Ds(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function jC(){return By()==="http:"||By()==="https:"}function By(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jC()||_R()||"connection"in navigator)?navigator.onLine:!0}function qC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n){this.shortDelay=t,this.longDelay=n,js(n>t,"Short delay should be less than long delay!"),this.isMobile=dR()||gR()}get(){return HC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(r,t){js(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new Mc(3e4,6e4);function ro(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ks(r,t,n,a,l={}){return B0(r,l,async()=>{let h={},p={};a&&(t==="GET"?p=a:h={body:JSON.stringify(a)});const g=Nc(Object.assign({key:r.config.apiKey},p)).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const E=Object.assign({method:t,headers:y},h);return pR()||(E.referrerPolicy="no-referrer"),z0.fetch()(j0(r,r.config.apiHost,n,g),E)})}async function B0(r,t,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},FC),t);try{const l=new KC(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw Fh(r,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const g=h.ok?p.errorMessage:p.error.message,[y,E]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(r,"credential-already-in-use",p);if(y==="EMAIL_EXISTS")throw Fh(r,"email-already-in-use",p);if(y==="USER_DISABLED")throw Fh(r,"user-disabled",p);const R=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw U0(r,R,E);Tr(r,R)}}catch(l){if(l instanceof Zs)throw l;Tr(r,"network-request-failed",{message:String(l)})}}async function kc(r,t,n,a,l={}){const h=await Ks(r,t,n,a,l);return"mfaPendingCredential"in h&&Tr(r,"multi-factor-auth-required",{_serverResponse:h}),h}function j0(r,t,n,a){const l=`${t}${n}?${a}`;return r.config.emulator?Fp(r.config,l):`${r.config.apiScheme}://${l}`}function ZC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Qr(this.auth,"network-request-failed")),GC.get())})}}function Fh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Qr(r,t,a);return l.customData._tokenResponse=n,l}function jy(r){return r!==void 0&&r.enterprise!==void 0}class QC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return ZC(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YC(r,t){return Ks(r,"GET","/v2/recaptchaConfig",ro(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(r,t){return Ks(r,"POST","/v1/accounts:delete",t)}async function H0(r,t){return Ks(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WC(r,t=!1){const n=hn(r),a=await n.getIdToken(t),l=Gp(a);Vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,p=h==null?void 0:h.sign_in_provider;return{claims:l,token:a,authTime:dc(Qm(l.auth_time)),issuedAtTime:dc(Qm(l.iat)),expirationTime:dc(Qm(l.exp)),signInProvider:p||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function Qm(r){return Number(r)*1e3}function Gp(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const l=R0(n);return l?JSON.parse(l):(Xh("Failed to decode base64 JWT payload"),null)}catch(l){return Xh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Hy(r){const t=Gp(r);return Vt(t,"internal-error"),Vt(typeof t.exp<"u","internal-error"),Vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Zs&&XC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function XC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(r){var t;const n=r.auth,a=await r.getIdToken(),l=await Wl(r,H0(n,{idToken:a}));Vt(l==null?void 0:l.users.length,n,"internal-error");const h=l.users[0];r._notifyReloadListener(h);const p=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?q0(h.providerUserInfo):[],g=eI(r.providerData,p),y=r.isAnonymous,E=!(r.email&&h.passwordHash)&&!(g!=null&&g.length),R=y?E:!1,I={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:g,metadata:new lp(h.createdAt,h.lastLoginAt),isAnonymous:R};Object.assign(r,I)}async function tI(r){const t=hn(r);await mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eI(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function q0(r){return r.map(t=>{var{providerId:n}=t,a=Hp(t,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,t){const n=await B0(r,{},async()=>{const a=Nc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,p=j0(r,l,"/v1/token",`key=${h}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",z0.fetch()(p,{method:"POST",headers:g,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iI(r,t){return Ks(r,"POST","/v2/accounts:revokeToken",ro(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Vt(t.idToken,"internal-error"),Vt(typeof t.idToken<"u","internal-error"),Vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Hy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Vt(t.length!==0,"internal-error");const n=Hy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await nI(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,p=new Zl;return a&&(Vt(typeof a=="string","internal-error",{appName:t}),p.refreshToken=a),l&&(Vt(typeof l=="string","internal-error",{appName:t}),p.accessToken=l),h&&(Vt(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(r,t){Vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ns{constructor(t){var{uid:n,auth:a,stsTokenManager:l}=t,h=Hp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new lp(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,t));return Vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return WC(this,t)}reload(){return tI(this)}_assign(t){this!==t&&(Vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ns(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await mf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xi(this.auth.app))return Promise.reject(Vs(this.auth));const t=await this.getIdToken();return await Wl(this,$C(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var a,l,h,p,g,y,E,R;const I=(a=n.displayName)!==null&&a!==void 0?a:void 0,O=(l=n.email)!==null&&l!==void 0?l:void 0,j=(h=n.phoneNumber)!==null&&h!==void 0?h:void 0,B=(p=n.photoURL)!==null&&p!==void 0?p:void 0,X=(g=n.tenantId)!==null&&g!==void 0?g:void 0,J=(y=n._redirectEventId)!==null&&y!==void 0?y:void 0,it=(E=n.createdAt)!==null&&E!==void 0?E:void 0,dt=(R=n.lastLoginAt)!==null&&R!==void 0?R:void 0,{uid:ot,emailVerified:xt,isAnonymous:At,providerData:Bt,stsTokenManager:F}=n;Vt(ot&&F,t,"internal-error");const N=Zl.fromJSON(this.name,F);Vt(typeof ot=="string",t,"internal-error"),Ba(I,t.name),Ba(O,t.name),Vt(typeof xt=="boolean",t,"internal-error"),Vt(typeof At=="boolean",t,"internal-error"),Ba(j,t.name),Ba(B,t.name),Ba(X,t.name),Ba(J,t.name),Ba(it,t.name),Ba(dt,t.name);const P=new Ns({uid:ot,auth:t,email:O,emailVerified:xt,displayName:I,isAnonymous:At,photoURL:B,phoneNumber:j,tenantId:X,stsTokenManager:N,createdAt:it,lastLoginAt:dt});return Bt&&Array.isArray(Bt)&&(P.providerData=Bt.map(U=>Object.assign({},U))),J&&(P._redirectEventId=J),P}static async _fromIdTokenResponse(t,n,a=!1){const l=new Zl;l.updateFromServerResponse(n);const h=new Ns({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await mf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];Vt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?q0(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),g=new Zl;g.updateFromIdToken(a);const y=new Ns({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new lp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(y,E),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map;function Ms(r){js(r instanceof Function,"Expected a class definition");let t=qy.get(r);return t?(js(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,qy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}F0.type="NONE";const Fy=F0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(r,t,n){return`firebase:${r}:${t}:${n}`}class Kl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Jh(this.userKey,l.apiKey,h),this.fullPersistenceKey=Jh("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ns._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Kl(Ms(Fy),t,a);const l=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=l[0]||Ms(Fy);const p=Jh(a,t.config.apiKey,t.name);let g=null;for(const E of n)try{const R=await E._get(p);if(R){const I=Ns._fromJSON(t,R);E!==h&&(g=I),h=E;break}}catch{}const y=l.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Kl(h,t,a):(h=y[0],g&&await h._set(p,g.toJSON()),await Promise.all(n.map(async E=>{if(E!==h)try{await E._remove(p)}catch{}})),new Kl(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Q0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(G0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($0(t))return"Blackberry";if(W0(t))return"Webos";if(Z0(t))return"Safari";if((t.includes("chrome/")||K0(t))&&!t.includes("edge/"))return"Chrome";if(Y0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function G0(r=Zn()){return/firefox\//i.test(r)}function Z0(r=Zn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function K0(r=Zn()){return/crios\//i.test(r)}function Q0(r=Zn()){return/iemobile/i.test(r)}function Y0(r=Zn()){return/android/i.test(r)}function $0(r=Zn()){return/blackberry/i.test(r)}function W0(r=Zn()){return/webos/i.test(r)}function Zp(r=Zn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rI(r=Zn()){var t;return Zp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function sI(){return vR()&&document.documentMode===10}function X0(r=Zn()){return Zp(r)||Y0(r)||W0(r)||$0(r)||/windows phone/i.test(r)||Q0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(r,t=[]){let n;switch(r){case"Browser":n=Gy(Zn());break;case"Worker":n=`${Gy(Zn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lu}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((p,g)=>{try{const y=t(h);p(y)}catch(y){g(y)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(r,t={}){return Ks(r,"GET","/v2/passwordPolicy",ro(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=6;class uI{constructor(t){var n,a,l,h;const p=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=p.minPasswordLength)!==null&&n!==void 0?n:lI,p.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=p.maxPasswordLength),p.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=p.containsLowercaseCharacter),p.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=p.containsUppercaseCharacter),p.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=p.containsNumericCharacter),p.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=p.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,a,l,h,p,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(n=y.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),y.isValid&&(y.isValid=(a=y.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsUppercaseLetter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(p=y.containsNumericCharacter)!==null&&p!==void 0?p:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zy(this),this.idTokenSubscription=new Zy(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await H0(this,{idToken:t}),a=await Ns._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Xi(this.app)){const p=this.app.settings.authIdToken;return p?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(p).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const p=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!p||p===g)&&(y!=null&&y.user)&&(l=y.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(p){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(p))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xi(this.app))return Promise.reject(Vs(this));const n=t?hn(t):null;return n&&Vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xi(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xi(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oI(this),n=new uI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Dc("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await iI(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ms(t)||this._popupRedirectResolver;Vt(n,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[Ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let p=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(g,this,"internal-error"),g.then(()=>{p||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,a,l);return()=>{p=!0,y()}}else{const y=t.addObserver(n);return()=>{p=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=J0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(Xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&BC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jo(r){return hn(r)}class Zy{constructor(t){this.auth=t,this.observer=null,this.addObserver=RR(n=>this.observer=n)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(r){Df=r}function tT(r){return Df.loadJS(r)}function fI(){return Df.recaptchaEnterpriseScript}function dI(){return Df.gapiScript}function mI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class pI{constructor(){this.enterprise=new _I}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class _I{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const gI="recaptcha-enterprise",eT="NO_RECAPTCHA";class vI{constructor(t){this.type=gI,this.auth=Jo(t)}async verify(t="verify",n=!1){async function a(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(p,g)=>{YC(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const E=new QC(y);return h.tenantId==null?h._agentRecaptchaConfig=E:h._tenantRecaptchaConfigs[h.tenantId]=E,p(E.siteKey)}}).catch(y=>{g(y)})})}function l(h,p,g){const y=window.grecaptcha;jy(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:t}).then(E=>{p(E)}).catch(()=>{p(eT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pI().execute("siteKey",{action:"verify"}):new Promise((h,p)=>{a(this.auth).then(g=>{if(!n&&jy(window.grecaptcha))l(g,h,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}let y=fI();y.length!==0&&(y+=g),tT(y).then(()=>{l(g,h,p)}).catch(E=>{p(E)})}}).catch(g=>{p(g)})})}}async function Ky(r,t,n,a=!1,l=!1){const h=new vI(r);let p;if(l)p=eT;else try{p=await h.verify(n)}catch{p=await h.verify(n,!0)}const g=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,E=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:E,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:p}):Object.assign(g,{captchaResponse:p}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function up(r,t,n,a,l){var h;if(!((h=r._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const p=await Ky(r,t,n,n==="getOobCode");return a(r,p)}else return a(r,t).catch(async p=>{if(p.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Ky(r,t,n,n==="getOobCode");return a(r,g)}else return Promise.reject(p)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(r,t){const n=jp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Ko(h,t??{}))return l;Tr(l,"already-initialized")}return n.initialize({options:t})}function EI(r,t){const n=(t==null?void 0:t.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Ms);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function TI(r,t,n){const a=Jo(r);Vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=nT(t),{host:p,port:g}=wI(t),y=g===null?"":`:${g}`,E={url:`${h}//${p}${y}/`},R=Object.freeze({host:p,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Vt(Ko(E,a.config.emulator)&&Ko(R,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=R,a.settings.appVerificationDisabledForTesting=!0,bI()}function nT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function wI(r){const t=nT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:Qy(a.substr(h.length+1))}}else{const[h,p]=a.split(":");return{host:h,port:Qy(p)}}}function Qy(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function bI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(t){return Ds("not implemented")}_linkToIdToken(t,n){return Ds("not implemented")}_getReauthenticationResolver(t){return Ds("not implemented")}}async function SI(r,t){return Ks(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,t){return kc(r,"POST","/v1/accounts:signInWithPassword",ro(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(r,t){return kc(r,"POST","/v1/accounts:signInWithEmailLink",ro(r,t))}async function CI(r,t){return kc(r,"POST","/v1/accounts:signInWithEmailLink",ro(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Kp{constructor(t,n,a,l=null){super("password",a),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Tc(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new Tc(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(t,n,"signInWithPassword",AI);case"emailLink":return RI(t,{email:this._email,oobCode:this._password});default:Tr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(t,a,"signUpPassword",SI);case"emailLink":return CI(t,{idToken:n,email:this._email,oobCode:this._password});default:Tr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(r,t){return kc(r,"POST","/v1/accounts:signInWithIdp",ro(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="http://localhost";class Yo extends Kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Yo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=n,h=Hp(n,["providerId","signInMethod"]);if(!a||!l)return null;const p=new Yo(a,l);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const n=this.buildRequest();return Ql(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Ql(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ql(t,n)}buildRequest(){const t={requestUri:II,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Nc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PI(r){const t=ac(oc(r)).link,n=t?ac(oc(t)).deep_link_id:null,a=ac(oc(r)).deep_link_id;return(a?ac(oc(a)).link:null)||a||n||t||r}class Qp{constructor(t){var n,a,l,h,p,g;const y=ac(oc(t)),E=(n=y.apiKey)!==null&&n!==void 0?n:null,R=(a=y.oobCode)!==null&&a!==void 0?a:null,I=xI((l=y.mode)!==null&&l!==void 0?l:null);Vt(E&&R&&I,"argument-error"),this.apiKey=E,this.operation=I,this.code=R,this.continueUrl=(h=y.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(p=y.languageCode)!==null&&p!==void 0?p:null,this.tenantId=(g=y.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const n=PI(t);try{return new Qp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.providerId=uu.PROVIDER_ID}static credential(t,n){return Tc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=Qp.parseLink(n);return Vt(a,"argument-error"),Tc._fromEmailAndCode(t,a.code,a.tenantId)}}uu.PROVIDER_ID="password";uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends iT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Vc{constructor(){super("facebook.com")}static credential(t){return Yo._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ja.credentialFromTaggedObject(t)}static credentialFromError(t){return ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ja.credential(t.oauthAccessToken)}catch{return null}}}ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";ja.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Yo._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Ha.credential(n,a)}catch{return null}}}Ha.GOOGLE_SIGN_IN_METHOD="google.com";Ha.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Vc{constructor(){super("github.com")}static credential(t){return Yo._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qa.credentialFromTaggedObject(t)}static credentialFromError(t){return qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qa.credential(t.oauthAccessToken)}catch{return null}}}qa.GITHUB_SIGN_IN_METHOD="github.com";qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Vc{constructor(){super("twitter.com")}static credential(t,n){return Yo._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Fa.credential(n,a)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,t){return kc(r,"POST","/v1/accounts:signUp",ro(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await Ns._fromIdTokenResponse(t,a,l),p=Yy(a);return new $o({user:h,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=Yy(a);return new $o({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function Yy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends Zs{constructor(t,n,a,l){var h;super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,pf.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new pf(t,n,a,l)}}function rT(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?pf._fromErrorAndOperation(r,h,t,a):h})}async function OI(r,t,n=!1){const a=await Wl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return $o._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,t,n=!1){const{auth:a}=r;if(Xi(a.app))return Promise.reject(Vs(a));const l="reauthenticate";try{const h=await Wl(r,rT(a,l,t,r),n);Vt(h.idToken,a,"internal-error");const p=Gp(h.idToken);Vt(p,a,"internal-error");const{sub:g}=p;return Vt(r.uid===g,a,"user-mismatch"),$o._forOperation(r,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Tr(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(r,t,n=!1){if(Xi(r.app))return Promise.reject(Vs(r));const a="signIn",l=await rT(r,a,t),h=await $o._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}async function NI(r,t){return sT(Jo(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(r){const t=Jo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function MI(r,t,n){if(Xi(r.app))return Promise.reject(Vs(r));const a=Jo(r),p=await up(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LI).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&aT(r),y}),g=await $o._fromIdTokenResponse(a,"signIn",p);return await a._updateCurrentUser(g.user),g}function kI(r,t,n){return Xi(r.app)?Promise.reject(Vs(r)):NI(hn(r),uu.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&aT(r),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(r,t){return Ks(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const a=hn(r),h={idToken:await a.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},p=await Wl(a,VI(a.auth,h));a.displayName=p.displayName||null,a.photoURL=p.photoUrl||null;const g=a.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=a.displayName,g.photoURL=a.photoURL),await a._updateTokensIfNecessary(p)}function zI(r,t,n,a){return hn(r).onIdTokenChanged(t,n,a)}function BI(r,t,n){return hn(r).beforeAuthStateChanged(t,n)}function jI(r,t,n,a){return hn(r).onAuthStateChanged(t,n,a)}function HI(r){return hn(r).signOut()}const _f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=1e3,FI=10;class lT extends oT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((p,g,y)=>{this.notifyListeners(p,y)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},h=this.storage.getItem(a);sI()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,FI):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},qI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}lT.type="LOCAL";const GI=lT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends oT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}uT.type="SESSION";const cT=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Nf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,p=this.handlersMap[l];if(!(p!=null&&p.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(p).map(async E=>E(n.origin,h)),y=await ZI(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,p;return new Promise((g,y)=>{const E=Yp("",20);l.port1.start();const R=setTimeout(()=>{y(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(I){const O=I;if(O.data.eventId===E)switch(O.data.status){case"ack":clearTimeout(R),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(O.data.response);break;default:clearTimeout(R),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function QI(r){Yr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function YI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $I(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function WI(){return hT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firebaseLocalStorageDb",XI=1,gf="firebaseLocalStorage",dT="fbase_key";class Uc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(r,t){return r.transaction([gf],t?"readwrite":"readonly").objectStore(gf)}function JI(){const r=indexedDB.deleteDatabase(fT);return new Uc(r).toPromise()}function cp(){const r=indexedDB.open(fT,XI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(gf,{keyPath:dT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(gf)?t(a):(a.close(),await JI(),t(await cp()))})})}async function $y(r,t,n){const a=Mf(r,!0).put({[dT]:t,value:n});return new Uc(a).toPromise()}async function tx(r,t){const n=Mf(r,!1).get(t),a=await new Uc(n).toPromise();return a===void 0?null:a.value}function Wy(r,t){const n=Mf(r,!0).delete(t);return new Uc(n).toPromise()}const ex=800,nx=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>nx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(WI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await YI(),!this.activeServiceWorker)return;this.sender=new KI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cp();return await $y(t,_f,"1"),await Wy(t,_f),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>$y(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>tx(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Mf(l,!1).getAll();return new Uc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const ix=mT;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(r,t){return t?Ms(t):(Vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends Kp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ql(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ql(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ql(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sx(r){return sT(r.auth,new $p(r),r.bypassAuthState)}function ax(r){const{auth:t,user:n}=r;return Vt(n,t,"internal-error"),DI(n,new $p(r),r.bypassAuthState)}async function ox(r){const{auth:t,user:n}=r;return Vt(n,t,"internal-error"),OI(n,new $p(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:p,type:g}=t;if(p){this.reject(p);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sx;case"linkViaPopup":case"linkViaRedirect":return ox;case"reauthViaPopup":case"reauthViaRedirect":return ax;default:Tr(this.auth,"internal-error")}}resolve(t){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=new Mc(2e3,1e4);class Gl extends pT{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Gl.currentPopupAction&&Gl.currentPopupAction.cancel(),Gl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Vt(t,this.auth,"internal-error"),t}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const t=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lx.get())};t()}}Gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="pendingRedirect",tf=new Map;class cx extends pT{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=tf.get(this.auth._key());if(!t){try{const a=await hx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}tf.set(this.auth._key(),t)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hx(r,t){const n=mx(t),a=dx(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function fx(r,t){tf.set(r._key(),t)}function dx(r){return Ms(r._redirectPersistence)}function mx(r){return Jh(ux,r.config.apiKey,r.name)}async function px(r,t,n=!1){if(Xi(r.app))return Promise.reject(Vs(r));const a=Jo(r),l=rx(a,t),p=await new cx(a,l,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,t)),p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=10*60*1e3;class gx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vx(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var a;if(t.error&&!_T(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_x&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xy(t))}saveEventToCache(t){this.cachedEventUids.add(Xy(t)),this.lastProcessedEventTime=Date.now()}}function Xy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function _T({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function vx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _T(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(r,t={}){return Ks(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tx=/^https?/;async function wx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await yx(r);for(const n of t)try{if(bx(n))return}catch{}Tr(r,"unauthorized-domain")}function bx(r){const t=op(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!Tx.test(n))return!1;if(Ex.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new Mc(3e4,6e4);function Jy(){const r=Yr().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ax(r){return new Promise((t,n)=>{var a,l,h;function p(){Jy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jy(),n(Qr(r,"network-request-failed"))},timeout:Sx.get()})}if(!((l=(a=Yr().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=Yr().gapi)===null||h===void 0)&&h.load)p();else{const g=mI("iframefcb");return Yr()[g]=()=>{gapi.load?p():n(Qr(r,"network-request-failed"))},tT(`${dI()}?onload=${g}`).catch(y=>n(y))}}).catch(t=>{throw ef=null,t})}let ef=null;function Rx(r){return ef=ef||Ax(r),ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new Mc(5e3,15e3),Ix="__/auth/iframe",xx="emulator/auth/iframe",Px={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ox(r){const t=r.config;Vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Fp(t,xx):`https://${r.config.authDomain}/${Ix}`,a={apiKey:t.apiKey,appName:r.name,v:lu},l=Lx.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Nc(a).slice(1)}`}async function Dx(r){const t=await Rx(r),n=Yr().gapi;return Vt(n,r,"internal-error"),t.open({where:document.body,url:Ox(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Px,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const p=Qr(r,"network-request-failed"),g=Yr().setTimeout(()=>{h(p)},Cx.get());function y(){Yr().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{h(p)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mx=500,kx=600,Vx="_blank",Ux="http://localhost";class tE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zx(r,t,n,a=Mx,l=kx){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y=Object.assign(Object.assign({},Nx),{width:a.toString(),height:l.toString(),top:h,left:p}),E=Zn().toLowerCase();n&&(g=K0(E)?Vx:n),G0(E)&&(t=t||Ux,y.scrollbars="yes");const R=Object.entries(y).reduce((O,[j,B])=>`${O}${j}=${B},`,"");if(rI(E)&&g!=="_self")return Bx(t||"",g),new tE(null);const I=window.open(t||"",g,R);Vt(I,r,"popup-blocked");try{I.focus()}catch{}return new tE(I)}function Bx(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="__/auth/handler",Hx="emulator/auth/handler",qx=encodeURIComponent("fac");async function eE(r,t,n,a,l,h){Vt(r.config.authDomain,r,"auth-domain-config-required"),Vt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:lu,eventId:l};if(t instanceof iT){t.setDefaultLanguage(r.languageCode),p.providerId=t.providerId||"",AR(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[R,I]of Object.entries({}))p[R]=I}if(t instanceof Vc){const R=t.getScopes().filter(I=>I!=="");R.length>0&&(p.scopes=R.join(","))}r.tenantId&&(p.tid=r.tenantId);const g=p;for(const R of Object.keys(g))g[R]===void 0&&delete g[R];const y=await r._getAppCheckToken(),E=y?`#${qx}=${encodeURIComponent(y)}`:"";return`${Fx(r)}?${Nc(g).slice(1)}${E}`}function Fx({config:r}){return r.emulator?Fp(r,Hx):`https://${r.authDomain}/${jx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class Gx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cT,this._completeRedirectFn=px,this._overrideRedirectResult=fx}async _openPopup(t,n,a,l){var h;js((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const p=await eE(t,n,a,op(),l);return zx(t,p,Yp())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await eE(t,n,a,op(),l);return QI(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(js(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await Dx(t),a=new gx(t);return n.register("authEvent",l=>(Vt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ym,{type:Ym},l=>{var h;const p=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[Ym];p!==void 0&&n(!!p),Tr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wx(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return X0()||Z0()||Zp()}}const Zx=Gx;var nE="@firebase/auth",iE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yx(r){$l(new Qo("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:g}=a.options;Vt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:p,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J0(r)},E=new cI(a,l,h,y);return EI(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),$l(new Qo("auth-internal",t=>{const n=Jo(t.getProvider("auth").getImmediate());return(a=>new Kx(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qa(nE,iE,Qx(r)),Qa(nE,iE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=5*60,Wx=x0("authIdTokenMaxAge")||$x;let rE=null;const Xx=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Wx)return;const l=n==null?void 0:n.token;rE!==l&&(rE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Jx(r=D0()){const t=jp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=yI(r,{popupRedirectResolver:Zx,persistence:[ix,GI,cT]}),a=x0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const p=Xx(h.toString());BI(n,p,()=>p(n.currentUser)),zI(n,g=>p(g))}}const l=C0("auth");return l&&TI(n,`http://${l}`),n}function t1(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}hI({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=Qr("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",t1().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yx("Browser");var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ya,gT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(F,N){function P(){}P.prototype=N.prototype,F.D=N.prototype,F.prototype=new P,F.prototype.constructor=F,F.C=function(U,H,K){for(var z=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)z[_e-2]=arguments[_e];return N.prototype[H].apply(U,z)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(F,N,P){P||(P=0);var U=Array(16);if(typeof N=="string")for(var H=0;16>H;++H)U[H]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(H=0;16>H;++H)U[H]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=F.g[0],P=F.g[1],H=F.g[2];var K=F.g[3],z=N+(K^P&(H^K))+U[0]+3614090360&4294967295;N=P+(z<<7&4294967295|z>>>25),z=K+(H^N&(P^H))+U[1]+3905402710&4294967295,K=N+(z<<12&4294967295|z>>>20),z=H+(P^K&(N^P))+U[2]+606105819&4294967295,H=K+(z<<17&4294967295|z>>>15),z=P+(N^H&(K^N))+U[3]+3250441966&4294967295,P=H+(z<<22&4294967295|z>>>10),z=N+(K^P&(H^K))+U[4]+4118548399&4294967295,N=P+(z<<7&4294967295|z>>>25),z=K+(H^N&(P^H))+U[5]+1200080426&4294967295,K=N+(z<<12&4294967295|z>>>20),z=H+(P^K&(N^P))+U[6]+2821735955&4294967295,H=K+(z<<17&4294967295|z>>>15),z=P+(N^H&(K^N))+U[7]+4249261313&4294967295,P=H+(z<<22&4294967295|z>>>10),z=N+(K^P&(H^K))+U[8]+1770035416&4294967295,N=P+(z<<7&4294967295|z>>>25),z=K+(H^N&(P^H))+U[9]+2336552879&4294967295,K=N+(z<<12&4294967295|z>>>20),z=H+(P^K&(N^P))+U[10]+4294925233&4294967295,H=K+(z<<17&4294967295|z>>>15),z=P+(N^H&(K^N))+U[11]+2304563134&4294967295,P=H+(z<<22&4294967295|z>>>10),z=N+(K^P&(H^K))+U[12]+1804603682&4294967295,N=P+(z<<7&4294967295|z>>>25),z=K+(H^N&(P^H))+U[13]+4254626195&4294967295,K=N+(z<<12&4294967295|z>>>20),z=H+(P^K&(N^P))+U[14]+2792965006&4294967295,H=K+(z<<17&4294967295|z>>>15),z=P+(N^H&(K^N))+U[15]+1236535329&4294967295,P=H+(z<<22&4294967295|z>>>10),z=N+(H^K&(P^H))+U[1]+4129170786&4294967295,N=P+(z<<5&4294967295|z>>>27),z=K+(P^H&(N^P))+U[6]+3225465664&4294967295,K=N+(z<<9&4294967295|z>>>23),z=H+(N^P&(K^N))+U[11]+643717713&4294967295,H=K+(z<<14&4294967295|z>>>18),z=P+(K^N&(H^K))+U[0]+3921069994&4294967295,P=H+(z<<20&4294967295|z>>>12),z=N+(H^K&(P^H))+U[5]+3593408605&4294967295,N=P+(z<<5&4294967295|z>>>27),z=K+(P^H&(N^P))+U[10]+38016083&4294967295,K=N+(z<<9&4294967295|z>>>23),z=H+(N^P&(K^N))+U[15]+3634488961&4294967295,H=K+(z<<14&4294967295|z>>>18),z=P+(K^N&(H^K))+U[4]+3889429448&4294967295,P=H+(z<<20&4294967295|z>>>12),z=N+(H^K&(P^H))+U[9]+568446438&4294967295,N=P+(z<<5&4294967295|z>>>27),z=K+(P^H&(N^P))+U[14]+3275163606&4294967295,K=N+(z<<9&4294967295|z>>>23),z=H+(N^P&(K^N))+U[3]+4107603335&4294967295,H=K+(z<<14&4294967295|z>>>18),z=P+(K^N&(H^K))+U[8]+1163531501&4294967295,P=H+(z<<20&4294967295|z>>>12),z=N+(H^K&(P^H))+U[13]+2850285829&4294967295,N=P+(z<<5&4294967295|z>>>27),z=K+(P^H&(N^P))+U[2]+4243563512&4294967295,K=N+(z<<9&4294967295|z>>>23),z=H+(N^P&(K^N))+U[7]+1735328473&4294967295,H=K+(z<<14&4294967295|z>>>18),z=P+(K^N&(H^K))+U[12]+2368359562&4294967295,P=H+(z<<20&4294967295|z>>>12),z=N+(P^H^K)+U[5]+4294588738&4294967295,N=P+(z<<4&4294967295|z>>>28),z=K+(N^P^H)+U[8]+2272392833&4294967295,K=N+(z<<11&4294967295|z>>>21),z=H+(K^N^P)+U[11]+1839030562&4294967295,H=K+(z<<16&4294967295|z>>>16),z=P+(H^K^N)+U[14]+4259657740&4294967295,P=H+(z<<23&4294967295|z>>>9),z=N+(P^H^K)+U[1]+2763975236&4294967295,N=P+(z<<4&4294967295|z>>>28),z=K+(N^P^H)+U[4]+1272893353&4294967295,K=N+(z<<11&4294967295|z>>>21),z=H+(K^N^P)+U[7]+4139469664&4294967295,H=K+(z<<16&4294967295|z>>>16),z=P+(H^K^N)+U[10]+3200236656&4294967295,P=H+(z<<23&4294967295|z>>>9),z=N+(P^H^K)+U[13]+681279174&4294967295,N=P+(z<<4&4294967295|z>>>28),z=K+(N^P^H)+U[0]+3936430074&4294967295,K=N+(z<<11&4294967295|z>>>21),z=H+(K^N^P)+U[3]+3572445317&4294967295,H=K+(z<<16&4294967295|z>>>16),z=P+(H^K^N)+U[6]+76029189&4294967295,P=H+(z<<23&4294967295|z>>>9),z=N+(P^H^K)+U[9]+3654602809&4294967295,N=P+(z<<4&4294967295|z>>>28),z=K+(N^P^H)+U[12]+3873151461&4294967295,K=N+(z<<11&4294967295|z>>>21),z=H+(K^N^P)+U[15]+530742520&4294967295,H=K+(z<<16&4294967295|z>>>16),z=P+(H^K^N)+U[2]+3299628645&4294967295,P=H+(z<<23&4294967295|z>>>9),z=N+(H^(P|~K))+U[0]+4096336452&4294967295,N=P+(z<<6&4294967295|z>>>26),z=K+(P^(N|~H))+U[7]+1126891415&4294967295,K=N+(z<<10&4294967295|z>>>22),z=H+(N^(K|~P))+U[14]+2878612391&4294967295,H=K+(z<<15&4294967295|z>>>17),z=P+(K^(H|~N))+U[5]+4237533241&4294967295,P=H+(z<<21&4294967295|z>>>11),z=N+(H^(P|~K))+U[12]+1700485571&4294967295,N=P+(z<<6&4294967295|z>>>26),z=K+(P^(N|~H))+U[3]+2399980690&4294967295,K=N+(z<<10&4294967295|z>>>22),z=H+(N^(K|~P))+U[10]+4293915773&4294967295,H=K+(z<<15&4294967295|z>>>17),z=P+(K^(H|~N))+U[1]+2240044497&4294967295,P=H+(z<<21&4294967295|z>>>11),z=N+(H^(P|~K))+U[8]+1873313359&4294967295,N=P+(z<<6&4294967295|z>>>26),z=K+(P^(N|~H))+U[15]+4264355552&4294967295,K=N+(z<<10&4294967295|z>>>22),z=H+(N^(K|~P))+U[6]+2734768916&4294967295,H=K+(z<<15&4294967295|z>>>17),z=P+(K^(H|~N))+U[13]+1309151649&4294967295,P=H+(z<<21&4294967295|z>>>11),z=N+(H^(P|~K))+U[4]+4149444226&4294967295,N=P+(z<<6&4294967295|z>>>26),z=K+(P^(N|~H))+U[11]+3174756917&4294967295,K=N+(z<<10&4294967295|z>>>22),z=H+(N^(K|~P))+U[2]+718787259&4294967295,H=K+(z<<15&4294967295|z>>>17),z=P+(K^(H|~N))+U[9]+3951481745&4294967295,F.g[0]=F.g[0]+N&4294967295,F.g[1]=F.g[1]+(H+(z<<21&4294967295|z>>>11))&4294967295,F.g[2]=F.g[2]+H&4294967295,F.g[3]=F.g[3]+K&4294967295}a.prototype.u=function(F,N){N===void 0&&(N=F.length);for(var P=N-this.blockSize,U=this.B,H=this.h,K=0;K<N;){if(H==0)for(;K<=P;)l(this,F,K),K+=this.blockSize;if(typeof F=="string"){for(;K<N;)if(U[H++]=F.charCodeAt(K++),H==this.blockSize){l(this,U),H=0;break}}else for(;K<N;)if(U[H++]=F[K++],H==this.blockSize){l(this,U),H=0;break}}this.h=H,this.o+=N},a.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var N=1;N<F.length-8;++N)F[N]=0;var P=8*this.o;for(N=F.length-8;N<F.length;++N)F[N]=P&255,P/=256;for(this.u(F),F=Array(16),N=P=0;4>N;++N)for(var U=0;32>U;U+=8)F[P++]=this.g[N]>>>U&255;return F};function h(F,N){var P=g;return Object.prototype.hasOwnProperty.call(P,F)?P[F]:P[F]=N(F)}function p(F,N){this.h=N;for(var P=[],U=!0,H=F.length-1;0<=H;H--){var K=F[H]|0;U&&K==N||(P[H]=K,U=!1)}this.g=P}var g={};function y(F){return-128<=F&&128>F?h(F,function(N){return new p([N|0],0>N?-1:0)}):new p([F|0],0>F?-1:0)}function E(F){if(isNaN(F)||!isFinite(F))return I;if(0>F)return J(E(-F));for(var N=[],P=1,U=0;F>=P;U++)N[U]=F/P|0,P*=4294967296;return new p(N,0)}function R(F,N){if(F.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(F.charAt(0)=="-")return J(R(F.substring(1),N));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=E(Math.pow(N,8)),U=I,H=0;H<F.length;H+=8){var K=Math.min(8,F.length-H),z=parseInt(F.substring(H,H+K),N);8>K?(K=E(Math.pow(N,K)),U=U.j(K).add(E(z))):(U=U.j(P),U=U.add(E(z)))}return U}var I=y(0),O=y(1),j=y(16777216);r=p.prototype,r.m=function(){if(X(this))return-J(this).m();for(var F=0,N=1,P=0;P<this.g.length;P++){var U=this.i(P);F+=(0<=U?U:4294967296+U)*N,N*=4294967296}return F},r.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(B(this))return"0";if(X(this))return"-"+J(this).toString(F);for(var N=E(Math.pow(F,6)),P=this,U="";;){var H=xt(P,N).g;P=it(P,H.j(N));var K=((0<P.g.length?P.g[0]:P.h)>>>0).toString(F);if(P=H,B(P))return K+U;for(;6>K.length;)K="0"+K;U=K+U}},r.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function B(F){if(F.h!=0)return!1;for(var N=0;N<F.g.length;N++)if(F.g[N]!=0)return!1;return!0}function X(F){return F.h==-1}r.l=function(F){return F=it(this,F),X(F)?-1:B(F)?0:1};function J(F){for(var N=F.g.length,P=[],U=0;U<N;U++)P[U]=~F.g[U];return new p(P,~F.h).add(O)}r.abs=function(){return X(this)?J(this):this},r.add=function(F){for(var N=Math.max(this.g.length,F.g.length),P=[],U=0,H=0;H<=N;H++){var K=U+(this.i(H)&65535)+(F.i(H)&65535),z=(K>>>16)+(this.i(H)>>>16)+(F.i(H)>>>16);U=z>>>16,K&=65535,z&=65535,P[H]=z<<16|K}return new p(P,P[P.length-1]&-2147483648?-1:0)};function it(F,N){return F.add(J(N))}r.j=function(F){if(B(this)||B(F))return I;if(X(this))return X(F)?J(this).j(J(F)):J(J(this).j(F));if(X(F))return J(this.j(J(F)));if(0>this.l(j)&&0>F.l(j))return E(this.m()*F.m());for(var N=this.g.length+F.g.length,P=[],U=0;U<2*N;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(var H=0;H<F.g.length;H++){var K=this.i(U)>>>16,z=this.i(U)&65535,_e=F.i(H)>>>16,Ve=F.i(H)&65535;P[2*U+2*H]+=z*Ve,dt(P,2*U+2*H),P[2*U+2*H+1]+=K*Ve,dt(P,2*U+2*H+1),P[2*U+2*H+1]+=z*_e,dt(P,2*U+2*H+1),P[2*U+2*H+2]+=K*_e,dt(P,2*U+2*H+2)}for(U=0;U<N;U++)P[U]=P[2*U+1]<<16|P[2*U];for(U=N;U<2*N;U++)P[U]=0;return new p(P,0)};function dt(F,N){for(;(F[N]&65535)!=F[N];)F[N+1]+=F[N]>>>16,F[N]&=65535,N++}function ot(F,N){this.g=F,this.h=N}function xt(F,N){if(B(N))throw Error("division by zero");if(B(F))return new ot(I,I);if(X(F))return N=xt(J(F),N),new ot(J(N.g),J(N.h));if(X(N))return N=xt(F,J(N)),new ot(J(N.g),N.h);if(30<F.g.length){if(X(F)||X(N))throw Error("slowDivide_ only works with positive integers.");for(var P=O,U=N;0>=U.l(F);)P=At(P),U=At(U);var H=Bt(P,1),K=Bt(U,1);for(U=Bt(U,2),P=Bt(P,2);!B(U);){var z=K.add(U);0>=z.l(F)&&(H=H.add(P),K=z),U=Bt(U,1),P=Bt(P,1)}return N=it(F,H.j(N)),new ot(H,N)}for(H=I;0<=F.l(N);){for(P=Math.max(1,Math.floor(F.m()/N.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),K=E(P),z=K.j(N);X(z)||0<z.l(F);)P-=U,K=E(P),z=K.j(N);B(K)&&(K=O),H=H.add(K),F=it(F,z)}return new ot(H,F)}r.A=function(F){return xt(this,F).h},r.and=function(F){for(var N=Math.max(this.g.length,F.g.length),P=[],U=0;U<N;U++)P[U]=this.i(U)&F.i(U);return new p(P,this.h&F.h)},r.or=function(F){for(var N=Math.max(this.g.length,F.g.length),P=[],U=0;U<N;U++)P[U]=this.i(U)|F.i(U);return new p(P,this.h|F.h)},r.xor=function(F){for(var N=Math.max(this.g.length,F.g.length),P=[],U=0;U<N;U++)P[U]=this.i(U)^F.i(U);return new p(P,this.h^F.h)};function At(F){for(var N=F.g.length+1,P=[],U=0;U<N;U++)P[U]=F.i(U)<<1|F.i(U-1)>>>31;return new p(P,F.h)}function Bt(F,N){var P=N>>5;N%=32;for(var U=F.g.length-P,H=[],K=0;K<U;K++)H[K]=0<N?F.i(K+P)>>>N|F.i(K+P+1)<<32-N:F.i(K+P);return new p(H,F.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,gT=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=R,Ya=p}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vT,lc,yT,nf,hp,ET,TT,wT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,T,b){return f==Array.prototype||f==Object.prototype||(f[T]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var T=0;T<f.length;++T){var b=f[T];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function l(f,T){if(T)t:{var b=a;f=f.split(".");for(var x=0;x<f.length-1;x++){var $=f[x];if(!($ in b))break t;b=b[$]}f=f[f.length-1],x=b[f],T=T(x),T!=x&&T!=null&&t(b,f,{configurable:!0,writable:!0,value:T})}}function h(f,T){f instanceof String&&(f+="");var b=0,x=!1,$={next:function(){if(!x&&b<f.length){var nt=b++;return{value:T(nt,f[nt]),done:!1}}return x=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}l("Array.prototype.values",function(f){return f||function(){return h(this,function(T,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function y(f){var T=typeof f;return T=T!="object"?T:f?Array.isArray(f)?"array":T:"null",T=="array"||T=="object"&&typeof f.length=="number"}function E(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function R(f,T,b){return f.call.apply(f.bind,arguments)}function I(f,T,b){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,x),f.apply(T,$)}}return function(){return f.apply(T,arguments)}}function O(f,T,b){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:I,O.apply(null,arguments)}function j(f,T){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function B(f,T){function b(){}b.prototype=T.prototype,f.aa=T.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(x,$,nt){for(var gt=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)gt[Jt-2]=arguments[Jt];return T.prototype[$].apply(x,gt)}}function X(f){const T=f.length;if(0<T){const b=Array(T);for(let x=0;x<T;x++)b[x]=f[x];return b}return[]}function J(f,T){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(y(x)){const $=f.length||0,nt=x.length||0;f.length=$+nt;for(let gt=0;gt<nt;gt++)f[$+gt]=x[gt]}else f.push(x)}}class it{constructor(T,b){this.i=T,this.j=b,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function dt(f){return/^[\s\xa0]*$/.test(f)}function ot(){var f=g.navigator;return f&&(f=f.userAgent)?f:""}function xt(f){return xt[" "](f),f}xt[" "]=function(){};var At=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function Bt(f,T,b){for(const x in f)T.call(b,f[x],x,f)}function F(f,T){for(const b in f)T.call(void 0,f[b],b,f)}function N(f){const T={};for(const b in f)T[b]=f[b];return T}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,T){let b,x;for(let $=1;$<arguments.length;$++){x=arguments[$];for(b in x)f[b]=x[b];for(let nt=0;nt<P.length;nt++)b=P[nt],Object.prototype.hasOwnProperty.call(x,b)&&(f[b]=x[b])}}function H(f){var T=1;f=f.split(":");const b=[];for(;0<T&&f.length;)b.push(f.shift()),T--;return f.length&&b.push(f.join(":")),b}function K(f){g.setTimeout(()=>{throw f},0)}function z(){var f=oe;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class _e{constructor(){this.h=this.g=null}add(T,b){const x=Ve.get();x.set(T,b),this.h?this.h.next=x:this.g=x,this.h=x}}var Ve=new it(()=>new pt,f=>f.reset());class pt{constructor(){this.next=this.g=this.h=null}set(T,b){this.h=T,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,mt=!1,oe=new _e,k=()=>{const f=g.Promise.resolve(void 0);Lt=()=>{f.then(at)}};var at=()=>{for(var f;f=z();){try{f.h.call(f.g)}catch(b){K(b)}var T=Ve;T.j(f),100>T.h&&(T.h++,f.next=T.g,T.g=f)}mt=!1};function Et(){this.s=this.s,this.C=this.C}Et.prototype.s=!1,Et.prototype.ma=function(){this.s||(this.s=!0,this.N())},Et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};g.addEventListener("test",b,T),g.removeEventListener("test",b,T)}catch{}return f}();function wt(f,T){if(vt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget){if(At){t:{try{xt(T.nodeName);var $=!0;break t}catch{}$=!1}$||(T=null)}}else b=="mouseover"?T=f.fromElement:b=="mouseout"&&(T=f.toElement);this.relatedTarget=T,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:yt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&wt.aa.h.call(this)}}B(wt,vt);var yt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function Ce(f,T,b,x,$){this.listener=f,this.proxy=null,this.src=T,this.type=b,this.capture=!!x,this.ha=$,this.key=++Gt,this.da=this.fa=!1}function le(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function sn(f){this.src=f,this.g={},this.h=0}sn.prototype.add=function(f,T,b,x,$){var nt=f.toString();f=this.g[nt],f||(f=this.g[nt]=[],this.h++);var gt=Dn(f,T,x,$);return-1<gt?(T=f[gt],b||(T.fa=!1)):(T=new Ce(T,this.src,nt,!!x,$),T.fa=b,f.push(T)),T};function Kn(f,T){var b=T.type;if(b in f.g){var x=f.g[b],$=Array.prototype.indexOf.call(x,T,void 0),nt;(nt=0<=$)&&Array.prototype.splice.call(x,$,1),nt&&(le(T),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Dn(f,T,b,x){for(var $=0;$<f.length;++$){var nt=f[$];if(!nt.da&&nt.listener==T&&nt.capture==!!b&&nt.ha==x)return $}return-1}var Sr="closure_lm_"+(1e6*Math.random()|0),tr={};function Ni(f,T,b,x,$){if(Array.isArray(T)){for(var nt=0;nt<T.length;nt++)Ni(f,T[nt],b,x,$);return null}return b=rl(b),f&&f[de]?f.K(T,b,E(x)?!!x.capture:!1,$):ts(f,T,b,!1,x,$)}function ts(f,T,b,x,$,nt){if(!T)throw Error("Invalid event type");var gt=E($)?!!$.capture:!!$,Jt=Ys(f);if(Jt||(f[Sr]=Jt=new sn(f)),b=Jt.add(T,b,x,gt,nt),b.proxy)return b;if(x=er(),b.proxy=x,x.src=f,x.listener=b,f.addEventListener)_t||($=gt),$===void 0&&($=!1),f.addEventListener(T.toString(),x,$);else if(f.attachEvent)f.attachEvent(Rr(T.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function er(){function f(b){return T.call(f.src,f.listener,b)}const T=il;return f}function Qs(f,T,b,x,$){if(Array.isArray(T))for(var nt=0;nt<T.length;nt++)Qs(f,T[nt],b,x,$);else x=E(x)?!!x.capture:!!x,b=rl(b),f&&f[de]?(f=f.i,T=String(T).toString(),T in f.g&&(nt=f.g[T],b=Dn(nt,b,x,$),-1<b&&(le(nt[b]),Array.prototype.splice.call(nt,b,1),nt.length==0&&(delete f.g[T],f.h--)))):f&&(f=Ys(f))&&(T=f.g[T.toString()],f=-1,T&&(f=Dn(T,b,x,$)),(b=-1<f?T[f]:null)&&Ar(b))}function Ar(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[de])Kn(T.i,f);else{var b=f.type,x=f.proxy;T.removeEventListener?T.removeEventListener(b,x,f.capture):T.detachEvent?T.detachEvent(Rr(b),x):T.addListener&&T.removeListener&&T.removeListener(x),(b=Ys(T))?(Kn(b,f),b.h==0&&(b.src=null,T[Sr]=null)):le(f)}}}function Rr(f){return f in tr?tr[f]:tr[f]="on"+f}function il(f,T){if(f.da)f=!0;else{T=new wt(T,this);var b=f.listener,x=f.ha||f.src;f.fa&&Ar(f),f=b.call(x,T)}return f}function Ys(f){return f=f[Sr],f instanceof sn?f:null}var Nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rl(f){return typeof f=="function"?f:(f[Nn]||(f[Nn]=function(T){return f.handleEvent(T)}),f[Nn])}function Oe(){Et.call(this),this.i=new sn(this),this.M=this,this.F=null}B(Oe,Et),Oe.prototype[de]=!0,Oe.prototype.removeEventListener=function(f,T,b,x){Qs(this,f,T,b,x)};function Fe(f,T){var b,x=f.F;if(x)for(b=[];x;x=x.F)b.push(x);if(f=f.M,x=T.type||T,typeof T=="string")T=new vt(T,f);else if(T instanceof vt)T.target=T.target||f;else{var $=T;T=new vt(x,f),U(T,$)}if($=!0,b)for(var nt=b.length-1;0<=nt;nt--){var gt=T.g=b[nt];$=Mi(gt,x,!0,T)&&$}if(gt=T.g=f,$=Mi(gt,x,!0,T)&&$,$=Mi(gt,x,!1,T)&&$,b)for(nt=0;nt<b.length;nt++)gt=T.g=b[nt],$=Mi(gt,x,!1,T)&&$}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var f=this.i,T;for(T in f.g){for(var b=f.g[T],x=0;x<b.length;x++)le(b[x]);delete f.g[T],f.h--}}this.F=null},Oe.prototype.K=function(f,T,b,x){return this.i.add(String(f),T,!1,b,x)},Oe.prototype.L=function(f,T,b,x){return this.i.add(String(f),T,!0,b,x)};function Mi(f,T,b,x){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();for(var $=!0,nt=0;nt<T.length;++nt){var gt=T[nt];if(gt&&!gt.da&&gt.capture==b){var Jt=gt.listener,Be=gt.ha||gt.src;gt.fa&&Kn(f.i,gt),$=Jt.call(Be,x)!==!1&&$}}return $&&!x.defaultPrevented}function sl(f,T,b){if(typeof f=="function")b&&(f=O(f,b));else if(f&&typeof f.handleEvent=="function")f=O(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:g.setTimeout(f,T||0)}function $s(f){f.g=sl(()=>{f.g=null,f.i&&(f.i=!1,$s(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class al extends Et{constructor(T,b){super(),this.m=T,this.l=b,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:$s(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(f){Et.call(this),this.h=f,this.g={}}B(es,Et);var nr=[];function We(f){Bt(f.g,function(T,b){this.g.hasOwnProperty(b)&&Ar(T)},f),f.g={}}es.prototype.N=function(){es.aa.N.call(this),We(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ws=g.JSON.stringify,ki=g.JSON.parse,Ge=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function lo(){}lo.prototype.h=null;function ol(f){return f.h||(f.h=f.i())}function uo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){vt.call(this,"d")}B(ir,vt);function gi(){vt.call(this,"c")}B(gi,vt);var ri={},Cr=null;function Xs(){return Cr=Cr||new Oe}ri.La="serverreachability";function co(f){vt.call(this,ri.La,f)}B(co,vt);function Ir(f){const T=Xs();Fe(T,new co(T))}ri.STAT_EVENT="statevent";function xr(f,T){vt.call(this,ri.STAT_EVENT,f),this.stat=T}B(xr,vt);function De(f){const T=Xs();Fe(T,new xr(T,f))}ri.Ma="timingevent";function ll(f,T){vt.call(this,ri.Ma,f),this.size=T}B(ll,vt);function Pr(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},T)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function Qn(f,T,b,x,$,nt){f.info(function(){if(f.g)if(nt)for(var gt="",Jt=nt.split("&"),Be=0;Be<Jt.length;Be++){var te=Jt[Be].split("=");if(1<te.length){var me=te[0];te=te[1];var be=me.split("_");gt=2<=be.length&&be[1]=="type"?gt+(me+"="+te+"&"):gt+(me+"=redacted&")}}else gt=null;else gt=nt;return"XMLHTTP REQ ("+x+") [attempt "+$+"]: "+T+`
`+b+`
`+gt})}function Ct(f,T,b,x,$,nt,gt){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+$+"]: "+T+`
`+b+`
`+nt+" "+gt})}function rr(f,T,b,x){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+Ze(f,b)+(x?" "+x:"")})}function vi(f,T){f.info(function(){return"TIMEOUT: "+T})}Lr.prototype.info=function(){};function Ze(f,T){if(!f.g)return T;if(!T)return null;try{var b=JSON.parse(T);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var x=b[f];if(!(2>x.length)){var $=x[1];if(Array.isArray($)&&!(1>$.length)){var nt=$[0];if(nt!="noop"&&nt!="stop"&&nt!="close")for(var gt=1;gt<$.length;gt++)$[gt]=""}}}}return Ws(b)}catch{return T}}var Ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function Ei(){}B(Ei,lo),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},Or=new Ei;function Ti(f,T,b,x){this.j=f,this.i=T,this.l=b,this.R=x||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ho}function ho(){this.i=null,this.g="",this.h=!1}var Dr={},ns={};function wi(f,T,b){f.L=1,f.v=$n(ie(T)),f.m=b,f.P=!0,Vi(f,null)}function Vi(f,T){f.F=Date.now(),Ie(f),f.A=ie(f.v);var b=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),or(b.i,"t",x),f.C=0,b=f.j.J,f.h=new ho,f.g=fl(f.j,b?T:null,!f.m),0<f.O&&(f.M=new al(O(f.Y,f,f.g),f.O)),T=f.U,b=f.g,x=f.ca;var $="readystatechange";Array.isArray($)||($&&(nr[0]=$.toString()),$=nr);for(var nt=0;nt<$.length;nt++){var gt=Ni(b,$[nt],x||T.handleEvent,!1,T.h||T);if(!gt)break;T.g[gt.key]=gt}T=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,T)):(f.u="GET",f.g.ea(f.A,f.u,null,T)),Ir(),Qn(f.i,f.u,f.A,f.l,f.R,f.m)}Ti.prototype.ca=function(f){f=f.target;const T=this.M;T&&mn(f)==3?T.j():this.Y(f)},Ti.prototype.Y=function(f){try{if(f==this.g)t:{const be=mn(this.g);var T=this.g.Ba();const dr=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||go(this.g)))){this.J||be!=4||T==7||(T==8||0>=dr?Ir(3):Ir(2)),Js(this);var b=this.g.Z();this.X=b;e:if(Nr(this)){var x=go(this.g);f="";var $=x.length,nt=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Yn(this);var gt="";break e}this.h.i=new g.TextDecoder}for(T=0;T<$;T++)this.h.h=!0,f+=this.h.i.decode(x[T],{stream:!(nt&&T==$-1)});x.length=0,this.h.g+=f,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=b==200,Ct(this.i,this.u,this.A,this.l,this.R,be,b),this.o){if(this.T&&!this.K){e:{if(this.g){var Jt,Be=this.g;if((Jt=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Jt)){var te=Jt;break e}}te=null}if(b=te)rr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tn(this,b);else{this.o=!1,this.s=3,De(12),Mn(this),Yn(this);break t}}if(this.P){b=!0;let Te;for(;!this.J&&this.C<gt.length;)if(Te=bi(this,gt),Te==ns){be==4&&(this.s=4,De(14),b=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Te==Dr){this.s=4,De(15),rr(this.i,this.l,gt,"[Invalid Chunk]"),b=!1;break}else rr(this.i,this.l,Te,null),Tn(this,Te);if(Nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||gt.length!=0||this.h.h||(this.s=1,De(16),b=!1),this.o=this.o&&b,!b)rr(this.i,this.l,gt,"[Invalid Chunked Response]"),Mn(this),Yn(this);else if(0<gt.length&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.ba&&!me.M&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),Br(me),me.M=!0,De(11))}}else rr(this.i,this.l,gt,null),Tn(this,gt);be==4&&Mn(this),this.o&&!this.J&&(be==4?yo(this.j,this):(this.o=!1,Ie(this)))}else _u(this.g),b==400&&0<gt.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),Mn(this),Yn(this)}}}catch{}finally{}};function Nr(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function bi(f,T){var b=f.C,x=T.indexOf(`
`,b);return x==-1?ns:(b=Number(T.substring(b,x)),isNaN(b)?Dr:(x+=1,x+b>T.length?ns:(T=T.slice(x,x+b),f.C=x+b,T)))}Ti.prototype.cancel=function(){this.J=!0,Mn(this)};function Ie(f){f.S=Date.now()+f.I,fo(f,f.I)}function fo(f,T){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Pr(O(f.ba,f),T)}function Js(f){f.B&&(g.clearTimeout(f.B),f.B=null)}Ti.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(vi(this.i,this.A),this.L!=2&&(Ir(),De(17)),Mn(this),this.s=2,Yn(this)):fo(this,this.S-f)};function Yn(f){f.j.G==0||f.J||yo(f.j,f)}function Mn(f){Js(f);var T=f.M;T&&typeof T.ma=="function"&&T.ma(),f.M=null,We(f.U),f.g&&(T=f.g,f.g=null,T.abort(),T.ma())}function Tn(f,T){try{var b=f.j;if(b.G!=0&&(b.g==f||Zt(b.h,f))){if(!f.K&&Zt(b.h,f)&&b.G==3){try{var x=b.Da.g.parse(T)}catch{x=null}if(Array.isArray(x)&&x.length==3){var $=x;if($[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)ca(b),oa(b);else break t;la(b),De(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=Pr(O(b.Za,b),6e3));if(1>=Mr(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else fr(b,11)}else if((f.K||b.g==f)&&ca(b),!dt(T))for($=b.Da.g.parse(T),T=0;T<$.length;T++){let te=$[T];if(b.T=te[0],te=te[1],b.G==2)if(te[0]=="c"){b.K=te[1],b.ia=te[2];const me=te[3];me!=null&&(b.la=me,b.j.info("VER="+b.la));const be=te[4];be!=null&&(b.Aa=be,b.j.info("SVER="+b.Aa));const dr=te[5];dr!=null&&typeof dr=="number"&&0<dr&&(x=1.5*dr,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Te=f.g;if(Te){const ji=Te.g?Te.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var nt=x.h;nt.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(ue(nt,nt.h),nt.h=null))}if(x.D){const Hi=Te.g?Te.g.getResponseHeader("X-HTTP-Session-Id"):null;Hi&&(x.ya=Hi,Dt(x.I,x.D,Hi))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var gt=f;if(x.qa=fa(x,x.J?x.ia:null,x.W),gt.K){wn(x.h,gt);var Jt=gt,Be=x.L;Be&&(Jt.I=Be),Jt.B&&(Js(Jt),Ie(Jt)),x.g=gt}else Ri(x);0<b.i.length&&zr(b)}else te[0]!="stop"&&te[0]!="close"||fr(b,7);else b.G==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?fr(b,7):aa(b):te[0]!="noop"&&b.l&&b.l.ta(te),b.v=0)}}Ir(4)}catch{}}var is=class{constructor(f,T){this.g=f,this.map=T}};function ta(f){this.l=f||10,g.PerformanceNavigationTiming?(f=g.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ea(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Mr(f){return f.h?1:f.g?f.g.size:0}function Zt(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function ue(f,T){f.g?f.g.add(T):f.h=T}function wn(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}ta.prototype.cancel=function(){if(this.i=ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ze(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const b of f.g.values())T=T.concat(b.D);return T}return X(f.i)}function sr(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var T=[],b=f.length,x=0;x<b;x++)T.push(f[x]);return T}T=[],b=0;for(x in f)T[b++]=f[x];return T}function mo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var T=[];f=f.length;for(var b=0;b<f;b++)T.push(b);return T}T=[],b=0;for(const x in f)T[b++]=x;return T}}}function Ut(f,T){if(f.forEach&&typeof f.forEach=="function")f.forEach(T,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,T,void 0);else for(var b=mo(f),x=sr(f),$=x.length,nt=0;nt<$;nt++)T.call(void 0,x[nt],b&&b[nt],f)}var Ee=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kr(f,T){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var x=f[b].indexOf("="),$=null;if(0<=x){var nt=f[b].substring(0,x);$=f[b].substring(x+1)}else nt=f[b];T(nt,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function si(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof si){this.h=f.h,Vr(this,f.j),this.o=f.o,this.g=f.g,Ui(this,f.s),this.l=f.l;var T=f.i,b=new li;b.i=T.i,T.g&&(b.g=new Map(T.g),b.h=T.h),ai(this,b),this.m=f.m}else f&&(T=String(f).match(Ee))?(this.h=!1,Vr(this,T[1]||"",!0),this.o=oi(T[2]||""),this.g=oi(T[3]||"",!0),Ui(this,T[4]),this.l=oi(T[5]||"",!0),ai(this,T[6]||"",!0),this.m=oi(T[7]||"")):(this.h=!1,this.i=new li(null,this.h))}si.prototype.toString=function(){var f=[],T=this.j;T&&f.push(fn(T,ar,!0),":");var b=this.g;return(b||T=="file")&&(f.push("//"),(T=this.o)&&f.push(fn(T,ar,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(fn(b,b.charAt(0)=="/"?rs:na,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",fn(b,_o)),f.join("")};function ie(f){return new si(f)}function Vr(f,T,b){f.j=b?oi(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function Ui(f,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);f.s=T}else f.s=null}function ai(f,T,b){T instanceof li?(f.i=T,kn(f.i,f.h)):(b||(T=fn(T,ia)),f.i=new li(T,f.h))}function Dt(f,T,b){f.i.set(T,b)}function $n(f){return Dt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function oi(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fn(f,T,b){return typeof f=="string"?(f=encodeURI(f).replace(T,po),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function po(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ar=/[#\/\?@]/g,na=/[#\?:]/g,rs=/[#\?]/g,ia=/[#\?@]/g,_o=/#/g;function li(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function bn(f){f.g||(f.g=new Map,f.h=0,f.i&&kr(f.i,function(T,b){f.add(decodeURIComponent(T.replace(/\+/g," ")),b)}))}r=li.prototype,r.add=function(f,T){bn(this),this.i=null,f=Nt(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(T),this.h+=1,this};function ss(f,T){bn(f),T=Nt(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function Si(f,T){return bn(f),T=Nt(f,T),f.g.has(T)}r.forEach=function(f,T){bn(this),this.g.forEach(function(b,x){b.forEach(function($){f.call(T,$,x,this)},this)},this)},r.na=function(){bn(this);const f=Array.from(this.g.values()),T=Array.from(this.g.keys()),b=[];for(let x=0;x<T.length;x++){const $=f[x];for(let nt=0;nt<$.length;nt++)b.push(T[x])}return b},r.V=function(f){bn(this);let T=[];if(typeof f=="string")Si(this,f)&&(T=T.concat(this.g.get(Nt(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)T=T.concat(f[b])}return T},r.set=function(f,T){return bn(this),this.i=null,f=Nt(this,f),Si(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},r.get=function(f,T){return f?(f=this.V(f),0<f.length?String(f[0]):T):T};function or(f,T,b){ss(f,T),0<b.length&&(f.i=null,f.g.set(Nt(f,T),X(b)),f.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(var b=0;b<T.length;b++){var x=T[b];const nt=encodeURIComponent(String(x)),gt=this.V(x);for(x=0;x<gt.length;x++){var $=nt;gt[x]!==""&&($+="="+encodeURIComponent(String(gt[x]))),f.push($)}}return this.i=f.join("&")};function Nt(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function kn(f,T){T&&!f.j&&(bn(f),f.i=null,f.g.forEach(function(b,x){var $=x.toLowerCase();x!=$&&(ss(this,x),or(this,$,b))},f)),f.j=T}function fe(f,T){const b=new Lr;if(g.Image){const x=new Image;x.onload=j(Vn,b,"TestLoadImage: loaded",!0,T,x),x.onerror=j(Vn,b,"TestLoadImage: error",!1,T,x),x.onabort=j(Vn,b,"TestLoadImage: abort",!1,T,x),x.ontimeout=j(Vn,b,"TestLoadImage: timeout",!1,T,x),g.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else T(!1)}function Ur(f,T){const b=new Lr,x=new AbortController,$=setTimeout(()=>{x.abort(),Vn(b,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:x.signal}).then(nt=>{clearTimeout($),nt.ok?Vn(b,"TestPingServer: ok",!0,T):Vn(b,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout($),Vn(b,"TestPingServer: error",!1,T)})}function Vn(f,T,b,x,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),x(b)}catch{}}function lr(){this.g=new Ge}function ui(f,T,b){const x=b||"";try{Ut(f,function($,nt){let gt=$;E($)&&(gt=Ws($)),T.push(x+nt+"="+encodeURIComponent(gt))})}catch($){throw T.push(x+"type="+encodeURIComponent("_badmap")),$}}function Un(f){this.l=f.Ub||null,this.j=f.eb||!1}B(Un,lo),Un.prototype.g=function(){return new Ai(this.l,this.j)},Un.prototype.i=function(f){return function(){return f}}({});function Ai(f,T){Oe.call(this),this.D=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ai,Oe),r=Ai.prototype,r.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=T,this.readyState=1,dn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(T.body=f),(this.D||g).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ge(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,dn(this)),this.g&&(this.readyState=3,dn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ur(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ur(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?ge(this):dn(this),this.readyState==3&&ur(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ge(this))},r.Qa=function(f){this.g&&(this.response=f,ge(this))},r.ga=function(){this.g&&ge(this)};function ge(f){f.readyState=4,f.l=null,f.j=null,f.v=null,dn(f)}r.setRequestHeader=function(f,T){this.u.append(f,T)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var b=T.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=T.next();return f.join(`\r
`)};function dn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ra(f){let T="";return Bt(f,function(b,x){T+=x,T+=":",T+=b,T+=`\r
`}),T}function Ke(f,T,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=ra(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):Dt(f,T,b))}function ce(f){Oe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(ce,Oe);var as=/^https?$/i,cr=["POST","PUT"];r=ce.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,T,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?ol(this.o):ol(Or),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(nt){ul(this,nt);return}if(f=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var $ in x)b.set($,x[$]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const nt of x.keys())b.set(nt,x.get(nt));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(nt=>nt.toLowerCase()=="content-type"),$=g.FormData&&f instanceof g.FormData,!(0<=Array.prototype.indexOf.call(cr,T,void 0))||x||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,gt]of b)this.g.setRequestHeader(nt,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(f),this.u=!1}catch(nt){ul(this,nt)}};function ul(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.m=5,os(f),zi(f)}function os(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Fe(this,"complete"),Fe(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),ce.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Kt(this):this.bb())},r.bb=function(){Kt(this)};function Kt(f){if(f.h&&typeof p<"u"&&(!f.v[1]||mn(f)!=4||f.Z()!=2)){if(f.u&&mn(f)==4)sl(f.Ea,0,f);else if(Fe(f,"readystatechange"),mn(f)==4){f.h=!1;try{const gt=f.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var b;if(!(b=T)){var x;if(x=gt===0){var $=String(f.D).match(Ee)[1]||null;!$&&g.self&&g.self.location&&($=g.self.location.protocol.slice(0,-1)),x=!as.test($?$.toLowerCase():"")}b=x}if(b)Fe(f,"complete"),Fe(f,"success");else{f.m=6;try{var nt=2<mn(f)?f.g.statusText:""}catch{nt=""}f.l=nt+" ["+f.Z()+"]",os(f)}}finally{zi(f)}}}}function zi(f,T){if(f.g){an(f);const b=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,T||Fe(f,"ready");try{b.onreadystatechange=x}catch{}}}function an(f){f.I&&(g.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function mn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),ki(T)}};function go(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _u(f){const T={};f=(f.g&&2<=mn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(dt(f[x]))continue;var b=H(f[x]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const nt=T[$]||[];T[$]=nt,nt.push(b)}F(T,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(f,T,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||T}function sa(f){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,f),this.cb=hr("retryDelaySeedMs",1e4,f),this.Wa=hr("forwardChannelMaxRetries",2,f),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ta(f&&f.concurrentRequestLimit),this.Da=new lr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sa.prototype,r.la=8,r.G=1,r.connect=function(f,T,b,x){De(0),this.W=f,this.H=T||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=fa(this,null,this.W),zr(this)};function aa(f){if(cl(f),f.G==3){var T=f.U++,b=ie(f.I);if(Dt(b,"SID",f.K),Dt(b,"RID",T),Dt(b,"TYPE","terminate"),ls(f,b),T=new Ti(f,f.j,T),T.L=2,T.v=$n(ie(b)),b=!1,g.navigator&&g.navigator.sendBeacon)try{b=g.navigator.sendBeacon(T.v.toString(),"")}catch{}!b&&g.Image&&(new Image().src=T.v,b=!0),b||(T.g=fl(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Ie(T)}hl(f)}function oa(f){f.g&&(Br(f),f.g.cancel(),f.g=null)}function cl(f){oa(f),f.u&&(g.clearTimeout(f.u),f.u=null),ca(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&g.clearTimeout(f.s),f.s=null)}function zr(f){if(!ea(f.h)&&!f.s){f.s=!0;var T=f.Ga;Lt||k(),mt||(Lt(),mt=!0),oe.add(T,f),f.B=0}}function gu(f,T){return Mr(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=T.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Pr(O(f.Ga,f,T),ha(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Ti(this,this.j,f);let nt=this.o;if(this.S&&(nt?(nt=N(nt),U(nt,this.S)):nt=this.S),this.m!==null||this.O||($.H=nt,nt=null),this.P)t:{for(var T=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(T+=x,4096<T){T=b;break t}if(T===4096||b===this.i.length-1){T=b+1;break t}}T=1e3}else T=1e3;T=vo(this,$,T),b=ie(this.I),Dt(b,"RID",f),Dt(b,"CVER",22),this.D&&Dt(b,"X-HTTP-Session-Id",this.D),ls(this,b),nt&&(this.O?T="headers="+encodeURIComponent(String(ra(nt)))+"&"+T:this.m&&Ke(b,this.m,nt)),ue(this.h,$),this.Ua&&Dt(b,"TYPE","init"),this.P?(Dt(b,"$req",T),Dt(b,"SID","null"),$.T=!0,wi($,b,null)):wi($,b,T),this.G=2}}else this.G==3&&(f?zn(this,f):this.i.length==0||ea(this.h)||zn(this))};function zn(f,T){var b;T?b=T.l:b=f.U++;const x=ie(f.I);Dt(x,"SID",f.K),Dt(x,"RID",b),Dt(x,"AID",f.T),ls(f,x),f.m&&f.o&&Ke(x,f.m,f.o),b=new Ti(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),T&&(f.i=T.D.concat(f.i)),T=vo(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ue(f.h,b),wi(b,x,T)}function ls(f,T){f.H&&Bt(f.H,function(b,x){Dt(T,x,b)}),f.l&&Ut({},function(b,x){Dt(T,x,b)})}function vo(f,T,b){b=Math.min(f.i.length,b);var x=f.l?O(f.l.Na,f.l,f):null;t:{var $=f.i;let nt=-1;for(;;){const gt=["count="+b];nt==-1?0<b?(nt=$[0].g,gt.push("ofs="+nt)):nt=0:gt.push("ofs="+nt);let Jt=!0;for(let Be=0;Be<b;Be++){let te=$[Be].g;const me=$[Be].map;if(te-=nt,0>te)nt=Math.max(0,$[Be].g-100),Jt=!1;else try{ui(me,gt,"req"+te+"_")}catch{x&&x(me)}}if(Jt){x=gt.join("&");break t}}}return f=f.i.splice(0,b),T.D=f,x}function Ri(f){if(!f.g&&!f.u){f.Y=1;var T=f.Fa;Lt||k(),mt||(Lt(),mt=!0),oe.add(T,f),f.v=0}}function la(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Pr(O(f.Fa,f),ha(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,ua(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Pr(O(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),oa(this),ua(this))};function Br(f){f.A!=null&&(g.clearTimeout(f.A),f.A=null)}function ua(f){f.g=new Ti(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var T=ie(f.qa);Dt(T,"RID","rpc"),Dt(T,"SID",f.K),Dt(T,"AID",f.T),Dt(T,"CI",f.F?"0":"1"),!f.F&&f.ja&&Dt(T,"TO",f.ja),Dt(T,"TYPE","xmlhttp"),ls(f,T),f.m&&f.o&&Ke(T,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=$n(ie(T)),b.m=null,b.P=!0,Vi(b,f)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),la(this),De(19))};function ca(f){f.C!=null&&(g.clearTimeout(f.C),f.C=null)}function yo(f,T){var b=null;if(f.g==T){ca(f),Br(f),f.g=null;var x=2}else if(Zt(f.h,T))b=T.D,wn(f.h,T),x=1;else return;if(f.G!=0){if(T.o)if(x==1){b=T.m?T.m.length:0,T=Date.now()-T.F;var $=f.B;x=Xs(),Fe(x,new ll(x,b)),zr(f)}else Ri(f);else if($=T.s,$==3||$==0&&0<T.X||!(x==1&&gu(f,T)||x==2&&la(f)))switch(b&&0<b.length&&(T=f.h,T.i=T.i.concat(b)),$){case 1:fr(f,5);break;case 4:fr(f,10);break;case 3:fr(f,6);break;default:fr(f,2)}}}function ha(f,T){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*T}function fr(f,T){if(f.j.info("Error code "+T),T==2){var b=O(f.fb,f),x=f.Xa;const $=!x;x=new si(x||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Vr(x,"https"),$n(x),$?fe(x.toString(),b):Ur(x.toString(),b)}else De(2);f.G=0,f.l&&f.l.sa(T),hl(f),cl(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function hl(f){if(f.G=0,f.ka=[],f.l){const T=ze(f.h);(T.length!=0||f.i.length!=0)&&(J(f.ka,T),J(f.ka,f.i),f.h.i.length=0,X(f.i),f.i.length=0),f.l.ra()}}function fa(f,T,b){var x=b instanceof si?ie(b):new si(b);if(x.g!="")T&&(x.g=T+"."+x.g),Ui(x,x.s);else{var $=g.location;x=$.protocol,T=T?T+"."+$.hostname:$.hostname,$=+$.port;var nt=new si(null);x&&Vr(nt,x),T&&(nt.g=T),$&&Ui(nt,$),b&&(nt.l=b),x=nt}return b=f.D,T=f.ya,b&&T&&Dt(x,b,T),Dt(x,"VER",f.la),ls(f,x),x}function fl(f,T,b){if(T&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Ca&&!f.pa?new ce(new Un({eb:b})):new ce(f.pa),T.Ha(f.J),T}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eo(){}r=Eo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function us(){}us.prototype.g=function(f,T){return new Xe(f,T)};function Xe(f,T){Oe.call(this),this.g=new sa(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(f?f["X-WebChannel-Client-Profile"]=T.va:f={"X-WebChannel-Client-Profile":T.va}),this.g.S=f,(f=T&&T.Sb)&&!dt(f)&&(this.g.m=f),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!dt(T)&&(this.g.D=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new Bn(this)}B(Xe,Oe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){aa(this.g)},Xe.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Ws(f),f=b);T.i.push(new is(T.Ya++,f)),T.G==3&&zr(T)},Xe.prototype.N=function(){this.g.l=null,delete this.j,aa(this.g),delete this.g,Xe.aa.N.call(this)};function Bi(f){ir.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){t:{for(const b in T){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}B(Bi,ir);function dl(){gi.call(this),this.status=1}B(dl,gi);function Bn(f){this.g=f}B(Bn,Eo),Bn.prototype.ua=function(){Fe(this.g,"a")},Bn.prototype.ta=function(f){Fe(this.g,new Bi(f))},Bn.prototype.sa=function(f){Fe(this.g,new dl)},Bn.prototype.ra=function(){Fe(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,wT=function(){return new us},TT=function(){return Xs()},ET=ri,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,nf=Ue,yi.COMPLETE="complete",yT=yi,uo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,lc=uo,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,vT=ce}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});const aE="@firebase/firestore",oE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new zp("@firebase/firestore");function jl(){return Wo.logLevel}function St(r,...t){if(Wo.logLevel<=ee.DEBUG){const n=t.map(Wp);Wo.debug(`Firestore (${cu}): ${r}`,...n)}}function Hs(r,...t){if(Wo.logLevel<=ee.ERROR){const n=t.map(Wp);Wo.error(`Firestore (${cu}): ${r}`,...n)}}function Xl(r,...t){if(Wo.logLevel<=ee.WARN){const n=t.map(Wp);Wo.warn(`Firestore (${cu}): ${r}`,...n)}}function Wp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r="Unexpected state"){const t=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+r;throw Hs(t),new Error(t)}function pe(r,t){r||zt()}function Ft(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends Zs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class e1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class n1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i1{constructor(t){this.t=t,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){pe(this.o===void 0);let a=this.i;const l=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let h=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Us,t.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},g=y=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Us)}},0),p()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(pe(typeof a.accessToken=="string"),new bT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pe(t===null||typeof t=="string"),new Fn(t)}}class r1{constructor(t,n,a){this.l=t,this.h=n,this.P=a,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class s1{constructor(t,n,a){this.l=t,this.h=n,this.P=a}getToken(){return Promise.resolve(new r1(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a1{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xi(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){pe(this.o===void 0);const a=h=>{h.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.R;return this.R=h.token,St("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>a(h))};const l=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?l(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lE(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new lE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=o1(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function $t(r,t){return r<t?-1:r>t?1:0}function fp(r,t){let n=0;for(;n<r.length&&n<t.length;){const a=r.codePointAt(n),l=t.codePointAt(n);if(a!==l){if(a<128&&l<128)return $t(a,l);{const h=ST(),p=l1(h.encode(uE(r,n)),h.encode(uE(t,n)));return p!==0?p:$t(a,l)}}n+=a>65535?2:1}return $t(r.length,t.length)}function uE(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function l1(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return $t(r[n],t[n]);return $t(r.length,t.length)}function Jl(r,t,n){return r.length===t.length&&r.every((a,l)=>n(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=-62135596800,hE=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(t){return un.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*hE);return new un(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new bt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<cE)throw new bt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-cE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new un(0,0))}static max(){return new jt(new un(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__name__";class Kr{constructor(t,n,a){n===void 0?n=0:n>t.length&&zt(),a===void 0?a=t.length-n:a>t.length-n&&zt(),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Kr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Kr?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=Kr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return $t(t.length,n.length)}static compareSegments(t,n){const a=Kr.isNumericId(t),l=Kr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Kr.extractNumericId(t).compare(Kr.extractNumericId(n)):fp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ya.fromString(t.substring(4,t.length-2))}}class xe extends Kr{construct(t,n,a){return new xe(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new bt(lt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const u1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Kr{construct(t,n,a){return new Pn(t,n,a)}static isValidIdentifier(t){return u1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new Pn([fE])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new bt(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let p=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new bt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new bt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else g==="`"?(p=!p,l++):g!=="."||p?(a+=g,l++):(h(),l++)}if(h(),p)throw new bt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(xe.fromString(t))}static fromName(t){return new Ot(xe.fromString(t).popFirst(5))}static empty(){return new Ot(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new xe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=-1;function c1(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(a===1e9?new un(n+1,0):new un(n,a));return new Wa(l,Ot.empty(),t)}function h1(r){return new Wa(r.readTime,r.key,wc)}class Wa{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Wa(jt.min(),Ot.empty(),wc)}static max(){return new Wa(jt.max(),Ot.empty(),wc)}}function f1(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(r.documentKey,t.documentKey),n!==0?n:$t(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r){if(r.code!==lt.FAILED_PRECONDITION||r.message!==d1)throw r;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ht((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ht.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ht.reject(n)}static resolve(t){return new ht((n,a)=>{n(t)})}static reject(t){return new ht((n,a)=>{a(t)})}static waitFor(t){return new ht((n,a)=>{let l=0,h=0,p=!1;t.forEach(g=>{++l,g.next(()=>{++h,p&&h===l&&n()},y=>a(y))}),p=!0,h===l&&n()})}static or(t){let n=ht.resolve(!1);for(const a of t)n=n.next(l=>l?ht.resolve(l):a());return n}static forEach(t,n){const a=[];return t.forEach((l,h)=>{a.push(n.call(this,l,h))}),this.waitFor(a)}static mapArray(t,n){return new ht((a,l)=>{const h=t.length,p=new Array(h);let g=0;for(let y=0;y<h;y++){const E=y;n(t[E]).next(R=>{p[E]=R,++g,g===h&&a(p)},R=>l(R))}})}static doWhile(t,n){return new ht((a,l)=>{const h=()=>{t()===!0?n().next(()=>{h()},l):a()};h()})}}function p1(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}kf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function Vf(r){return r==null}function vf(r){return r===0&&1/r==-1/0}function _1(r){return typeof r=="number"&&Number.isInteger(r)&&!vf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function g1(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=dE(t)),t=v1(r.get(n),t);return dE(t)}function v1(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case RT:n+="";break;default:n+=h}}return n}function dE(r){return r+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function so(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function CT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t,n){this.comparator=t,this.root=n||xn.EMPTY}insert(t,n){return new ke(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(t){return new ke(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zh(this.root,t,this.comparator,!0)}}class Zh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xn{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??xn.RED,this.left=l??xn.EMPTY,this.right=h??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new xn(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return xn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const t=this.left.check();if(t!==this.right.check())throw zt();return t+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(t,n,a,l,h){return this}insert(t,n,a){return new xn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.comparator=t,this.data=new ke(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(t){return new pE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof cn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new cn(this.comparator);return n.data=t,n}}class pE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this.fields=t,t.sort(Pn.comparator)}static empty(){return new Oi([])}unionWith(t){let n=new cn(Pn.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new Oi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Jl(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new IT("Invalid base64 string: "+h):h}}(t);return new On(n)}static fromUint8Array(t){const n=function(l){let h="";for(let p=0;p<l.length;++p)h+=String.fromCharCode(l[p]);return h}(t);return new On(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}On.EMPTY_BYTE_STRING=new On("");const y1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(r){if(pe(!!r),typeof r=="string"){let t=0;const n=y1.exec(r);if(pe(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:$e(r.seconds),nanos:$e(r.nanos)}}function $e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ja(r){return typeof r=="string"?On.fromBase64String(r):On.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",PT="__type__",LT="__previous_value__",OT="__local_write_time__";function Jp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[PT])===null||n===void 0?void 0:n.stringValue)===xT}function Uf(r){const t=r.mapValue.fields[LT];return Jp(t)?Uf(t):t}function bc(r){const t=Xa(r.mapValue.fields[OT].timestampValue);return new un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,n,a,l,h,p,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=E}}const yf="(default)";class Sc{constructor(t,n){this.projectId=t,this.database=n||yf}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===yf}isEqual(t){return t instanceof Sc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",T1="__max__",Kh={mapValue:{}},NT="__vector__",Ef="value";function to(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jp(r)?4:b1(r)?9007199254740991:w1(r)?10:11:zt()}function Jr(r,t){if(r===t)return!0;const n=to(r);if(n!==to(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return bc(r).isEqual(bc(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const p=Xa(l.timestampValue),g=Xa(h.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,h){return Ja(l.bytesValue).isEqual(Ja(h.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,h){return $e(l.geoPointValue.latitude)===$e(h.geoPointValue.latitude)&&$e(l.geoPointValue.longitude)===$e(h.geoPointValue.longitude)}(r,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return $e(l.integerValue)===$e(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const p=$e(l.doubleValue),g=$e(h.doubleValue);return p===g?vf(p)===vf(g):isNaN(p)&&isNaN(g)}return!1}(r,t);case 9:return Jl(r.arrayValue.values||[],t.arrayValue.values||[],Jr);case 10:case 11:return function(l,h){const p=l.mapValue.fields||{},g=h.mapValue.fields||{};if(mE(p)!==mE(g))return!1;for(const y in p)if(p.hasOwnProperty(y)&&(g[y]===void 0||!Jr(p[y],g[y])))return!1;return!0}(r,t);default:return zt()}}function Ac(r,t){return(r.values||[]).find(n=>Jr(n,t))!==void 0}function tu(r,t){if(r===t)return 0;const n=to(r),a=to(t);if(n!==a)return $t(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return $t(r.booleanValue,t.booleanValue);case 2:return function(h,p){const g=$e(h.integerValue||h.doubleValue),y=$e(p.integerValue||p.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,t);case 3:return _E(r.timestampValue,t.timestampValue);case 4:return _E(bc(r),bc(t));case 5:return fp(r.stringValue,t.stringValue);case 6:return function(h,p){const g=Ja(h),y=Ja(p);return g.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(h,p){const g=h.split("/"),y=p.split("/");for(let E=0;E<g.length&&E<y.length;E++){const R=$t(g[E],y[E]);if(R!==0)return R}return $t(g.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(h,p){const g=$t($e(h.latitude),$e(p.latitude));return g!==0?g:$t($e(h.longitude),$e(p.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return gE(r.arrayValue,t.arrayValue);case 10:return function(h,p){var g,y,E,R;const I=h.fields||{},O=p.fields||{},j=(g=I[Ef])===null||g===void 0?void 0:g.arrayValue,B=(y=O[Ef])===null||y===void 0?void 0:y.arrayValue,X=$t(((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0,((R=B==null?void 0:B.values)===null||R===void 0?void 0:R.length)||0);return X!==0?X:gE(j,B)}(r.mapValue,t.mapValue);case 11:return function(h,p){if(h===Kh.mapValue&&p===Kh.mapValue)return 0;if(h===Kh.mapValue)return 1;if(p===Kh.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),E=p.fields||{},R=Object.keys(E);y.sort(),R.sort();for(let I=0;I<y.length&&I<R.length;++I){const O=fp(y[I],R[I]);if(O!==0)return O;const j=tu(g[y[I]],E[R[I]]);if(j!==0)return j}return $t(y.length,R.length)}(r.mapValue,t.mapValue);default:throw zt()}}function _E(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return $t(r,t);const n=Xa(r),a=Xa(t),l=$t(n.seconds,a.seconds);return l!==0?l:$t(n.nanos,a.nanos)}function gE(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=tu(n[l],a[l]);if(h)return h}return $t(n.length,a.length)}function eu(r){return dp(r)}function dp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Xa(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ja(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ot.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=dp(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${dp(n.fields[p])}`;return l+"}"}(r.mapValue):zt()}function rf(r){switch(to(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uf(r);return t?16+rf(t):16;case 5:return 2*r.stringValue.length;case 6:return Ja(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,h)=>l+rf(h),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return so(a.fields,(h,p)=>{l+=h.length+rf(p)}),l}(r.mapValue);default:throw zt()}}function vE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function mp(r){return!!r&&"integerValue"in r}function t_(r){return!!r&&"arrayValue"in r}function yE(r){return!!r&&"nullValue"in r}function EE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sf(r){return!!r&&"mapValue"in r}function w1(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[DT])===null||n===void 0?void 0:n.stringValue)===NT}function mc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return so(r.mapValue.fields,(n,a)=>t.mapValue.fields[n]=mc(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mc(r.arrayValue.values[n]);return t}return Object.assign({},r)}function b1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===T1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.value=t}static empty(){return new mi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!sf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mc(n)}setAll(t){let n=Pn.emptyPath(),a={},l=[];t.forEach((p,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,a,l),a={},l=[],n=g.popLast()}p?a[g.lastSegment()]=mc(p):l.push(g.lastSegment())});const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Jr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];sf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){so(n,(l,h)=>t[l]=h);for(const l of a)delete t[l]}clone(){return new mi(mc(this.value))}}function MT(r){const t=[];return so(r.fields,(n,a)=>{const l=new Pn([n]);if(sf(a)){const h=MT(a.mapValue).fields;if(h.length===0)t.push(l);else for(const p of h)t.push(l.child(p))}else t.push(l)}),new Oi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t,n,a,l,h,p,g){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=p,this.documentState=g}static newInvalidDocument(t){return new Gn(t,0,jt.min(),jt.min(),jt.min(),mi.empty(),0)}static newFoundDocument(t,n,a,l){return new Gn(t,1,n,jt.min(),a,l,0)}static newNoDocument(t,n){return new Gn(t,2,n,jt.min(),jt.min(),mi.empty(),0)}static newUnknownDocument(t,n){return new Gn(t,3,n,jt.min(),jt.min(),mi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Gn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n){this.position=t,this.inclusive=n}}function TE(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],p=r.position[l];if(h.field.isKeyField()?a=Ot.comparator(Ot.fromName(p.referenceValue),n.key):a=tu(p,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function wE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Jr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n="asc"){this.field=t,this.dir=n}}function S1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{}class rn extends kT{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new R1(t,n,a):n==="array-contains"?new x1(t,a):n==="in"?new P1(t,a):n==="not-in"?new L1(t,a):n==="array-contains-any"?new O1(t,a):new rn(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new C1(t,a):new I1(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tu(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(tu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends kT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new wr(t,n)}matches(t){return VT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function VT(r){return r.op==="and"}function UT(r){return A1(r)&&VT(r)}function A1(r){for(const t of r.filters)if(t instanceof wr)return!1;return!0}function pp(r){if(r instanceof rn)return r.field.canonicalString()+r.op.toString()+eu(r.value);if(UT(r))return r.filters.map(t=>pp(t)).join(",");{const t=r.filters.map(n=>pp(n)).join(",");return`${r.op}(${t})`}}function zT(r,t){return r instanceof rn?function(a,l){return l instanceof rn&&a.op===l.op&&a.field.isEqual(l.field)&&Jr(a.value,l.value)}(r,t):r instanceof wr?function(a,l){return l instanceof wr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((h,p,g)=>h&&zT(p,l.filters[g]),!0):!1}(r,t):void zt()}function BT(r){return r instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${eu(n.value)}`}(r):r instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(BT).join(" ,")+"}"}(r):"Filter"}class R1 extends rn{constructor(t,n,a){super(t,n,a),this.key=Ot.fromName(a.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class C1 extends rn{constructor(t,n){super(t,"in",n),this.keys=jT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class I1 extends rn{constructor(t,n){super(t,"not-in",n),this.keys=jT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function jT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ot.fromName(a.referenceValue))}class x1 extends rn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return t_(n)&&Ac(n.arrayValue,this.value)}}class P1 extends rn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class L1 extends rn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ac(this.value.arrayValue,n)}}class O1 extends rn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!t_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Ac(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,n=null,a=[],l=[],h=null,p=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=p,this.endAt=g,this.le=null}}function bE(r,t=null,n=[],a=[],l=null,h=null,p=null){return new D1(r,t,n,a,l,h,p)}function e_(r){const t=Ft(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>pp(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Vf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>eu(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>eu(a)).join(",")),t.le=n}return t.le}function n_(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!S1(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!zT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!wE(r.startAt,t.startAt)&&wE(r.endAt,t.endAt)}function _p(r){return Ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n=null,a=[],l=[],h=null,p="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=p,this.startAt=g,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function N1(r,t,n,a,l,h,p,g){return new du(r,t,n,a,l,h,p,g)}function i_(r){return new du(r)}function SE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function HT(r){return r.collectionGroup!==null}function pc(r){const t=Ft(r);if(t.he===null){t.he=[];const n=new Set;for(const h of t.explicitOrderBy)t.he.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new cn(Pn.comparator);return p.filters.forEach(y=>{y.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(t).forEach(h=>{n.has(h.canonicalString())||h.isKeyField()||t.he.push(new Rc(h,a))}),n.has(Pn.keyField().canonicalString())||t.he.push(new Rc(Pn.keyField(),a))}return t.he}function $r(r){const t=Ft(r);return t.Pe||(t.Pe=M1(t,pc(r))),t.Pe}function M1(r,t){if(r.limitType==="F")return bE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Rc(l.field,h)});const n=r.endAt?new Tf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Tf(r.startAt.position,r.startAt.inclusive):null;return bE(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function gp(r,t){const n=r.filters.concat([t]);return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function wf(r,t,n){return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function zf(r,t){return n_($r(r),$r(t))&&r.limitType===t.limitType}function qT(r){return`${e_($r(r))}|lt:${r.limitType}`}function Hl(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>BT(l)).join(", ")}]`),Vf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>eu(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>eu(l)).join(",")),`Target(${a})`}($r(r))}; limitType=${r.limitType})`}function Bf(r,t){return t.isFoundDocument()&&function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(r,t)&&function(a,l){for(const h of pc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(r,t)&&function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0}(r,t)&&function(a,l){return!(a.startAt&&!function(p,g,y){const E=TE(p,g,y);return p.inclusive?E<=0:E<0}(a.startAt,pc(a),l)||a.endAt&&!function(p,g,y){const E=TE(p,g,y);return p.inclusive?E>=0:E>0}(a.endAt,pc(a),l))}(r,t)}function k1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function FT(r){return(t,n)=>{let a=!1;for(const l of pc(r)){const h=V1(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function V1(r,t,n){const a=r.field.isKeyField()?Ot.comparator(t.key,n.key):function(h,p,g){const y=p.data.field(h),E=g.data.field(h);return y!==null&&E!==null?tu(y,E):zt()}(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return zt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){so(this.inner,(n,a)=>{for(const[l,h]of a)t(l,h)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new ke(Ot.comparator);function qs(){return U1}const GT=new ke(Ot.comparator);function uc(...r){let t=GT;for(const n of r)t=t.insert(n.key,n);return t}function ZT(r){let t=GT;return r.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function Go(){return _c()}function KT(){return _c()}function _c(){return new tl(r=>r.toString(),(r,t)=>r.isEqual(t))}const z1=new ke(Ot.comparator),B1=new cn(Ot.comparator);function ne(...r){let t=B1;for(const n of r)t=t.add(n);return t}const j1=new cn($t);function H1(){return j1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(t)?"-0":t}}function QT(r){return{integerValue:""+r}}function q1(r,t){return _1(t)?QT(t):r_(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this._=void 0}}function F1(r,t,n){return r instanceof Cc?function(l,h){const p={fields:{[PT]:{stringValue:xT},[OT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Jp(h)&&(h=Uf(h)),h&&(p.fields[LT]=h),{mapValue:p}}(n,t):r instanceof Ic?$T(r,t):r instanceof xc?WT(r,t):function(l,h){const p=YT(l,h),g=AE(p)+AE(l.Ie);return mp(p)&&mp(l.Ie)?QT(g):r_(l.serializer,g)}(r,t)}function G1(r,t,n){return r instanceof Ic?$T(r,t):r instanceof xc?WT(r,t):n}function YT(r,t){return r instanceof bf?function(a){return mp(a)||function(h){return!!h&&"doubleValue"in h}(a)}(t)?t:{integerValue:0}:null}class Cc extends jf{}class Ic extends jf{constructor(t){super(),this.elements=t}}function $T(r,t){const n=XT(t);for(const a of r.elements)n.some(l=>Jr(l,a))||n.push(a);return{arrayValue:{values:n}}}class xc extends jf{constructor(t){super(),this.elements=t}}function WT(r,t){let n=XT(t);for(const a of r.elements)n=n.filter(l=>!Jr(l,a));return{arrayValue:{values:n}}}class bf extends jf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function AE(r){return $e(r.integerValue||r.doubleValue)}function XT(r){return t_(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,n){this.field=t,this.transform=n}}function K1(r,t){return r.field.isEqual(t.field)&&function(a,l){return a instanceof Ic&&l instanceof Ic||a instanceof xc&&l instanceof xc?Jl(a.elements,l.elements,Jr):a instanceof bf&&l instanceof bf?Jr(a.Ie,l.Ie):a instanceof Cc&&l instanceof Cc}(r.transform,t.transform)}class Q1{constructor(t,n){this.version=t,this.transformResults=n}}class yr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yr}static exists(t){return new yr(void 0,t)}static updateTime(t){return new yr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function af(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Hf{}function JT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new s_(r.key,yr.none()):new zc(r.key,r.data,yr.none());{const n=r.data,a=mi.empty();let l=new cn(Pn.comparator);for(let h of t.fields)if(!l.has(h)){let p=n.field(h);p===null&&h.length>1&&(h=h.popLast(),p=n.field(h)),p===null?a.delete(h):a.set(h,p),l=l.add(h)}return new ao(r.key,a,new Oi(l.toArray()),yr.none())}}function Y1(r,t,n){r instanceof zc?function(l,h,p){const g=l.value.clone(),y=CE(l.fieldTransforms,h,p.transformResults);g.setAll(y),h.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(r,t,n):r instanceof ao?function(l,h,p){if(!af(l.precondition,h))return void h.convertToUnknownDocument(p.version);const g=CE(l.fieldTransforms,h,p.transformResults),y=h.data;y.setAll(tw(l)),y.setAll(g),h.convertToFoundDocument(p.version,y).setHasCommittedMutations()}(r,t,n):function(l,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,n)}function gc(r,t,n,a){return r instanceof zc?function(h,p,g,y){if(!af(h.precondition,p))return g;const E=h.value.clone(),R=IE(h.fieldTransforms,y,p);return E.setAll(R),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(r,t,n,a):r instanceof ao?function(h,p,g,y){if(!af(h.precondition,p))return g;const E=IE(h.fieldTransforms,y,p),R=p.data;return R.setAll(tw(h)),R.setAll(E),p.convertToFoundDocument(p.version,R).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(r,t,n,a):function(h,p,g){return af(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(r,t,n)}function $1(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=YT(a.transform,l||null);h!=null&&(n===null&&(n=mi.empty()),n.set(a.field,h))}return n||null}function RE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Jl(a,l,(h,p)=>K1(h,p))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class zc extends Hf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ao extends Hf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function tw(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}}),t}function CE(r,t,n){const a=new Map;pe(r.length===n.length);for(let l=0;l<n.length;l++){const h=r[l],p=h.transform,g=t.data.field(h.field);a.set(h.field,G1(p,g,n[l]))}return a}function IE(r,t,n){const a=new Map;for(const l of r){const h=l.transform,p=n.data.field(l.field);a.set(l.field,F1(h,p,t))}return a}class s_ extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W1 extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&Y1(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=gc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=gc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=KT();return this.mutations.forEach(l=>{const h=t.get(l.key),p=h.overlayedDocument;let g=this.applyToLocalView(p,h.mutatedFields);g=n.has(l.key)?null:g;const y=JT(p,g);y!==null&&a.set(l.key,y),p.isValidDocument()||p.convertToNoDocument(jt.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ne())}isEqual(t){return this.batchId===t.batchId&&Jl(this.mutations,t.mutations,(n,a)=>RE(n,a))&&Jl(this.baseMutations,t.baseMutations,(n,a)=>RE(n,a))}}class a_{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){pe(t.mutations.length===a.length);let l=function(){return z1}();const h=t.mutations;for(let p=0;p<h.length;p++)l=l.insert(h[p].key,a[p].version);return new a_(t,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,ae;function eP(r){switch(r){case lt.OK:return zt();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return zt()}}function ew(r){if(r===void 0)return Hs("GRPC error has no .code"),lt.UNKNOWN;switch(r){case nn.OK:return lt.OK;case nn.CANCELLED:return lt.CANCELLED;case nn.UNKNOWN:return lt.UNKNOWN;case nn.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case nn.INTERNAL:return lt.INTERNAL;case nn.UNAVAILABLE:return lt.UNAVAILABLE;case nn.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case nn.NOT_FOUND:return lt.NOT_FOUND;case nn.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case nn.ABORTED:return lt.ABORTED;case nn.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case nn.DATA_LOSS:return lt.DATA_LOSS;default:return zt()}}(ae=nn||(nn={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Ya([4294967295,4294967295],0);function xE(r){const t=ST().encode(r),n=new gT;return n.update(t),new Uint8Array(n.digest())}function PE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ya([n,a],0),new Ya([l,h],0)]}class o_{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new cc(`Invalid padding: ${n}`);if(a<0)throw new cc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new cc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Ya.fromNumber(this.Ee)}Ae(t,n,a){let l=t.add(n.multiply(Ya.fromNumber(a)));return l.compare(nP)===1&&(l=new Ya([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=xE(t),[a,l]=PE(n);for(let h=0;h<this.hashCount;h++){const p=this.Ae(a,l,h);if(!this.Re(p))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new o_(h,l,n);return a.forEach(g=>p.insert(g)),p}insert(t){if(this.Ee===0)return;const n=xE(t),[a,l]=PE(n);for(let h=0;h<this.hashCount;h++){const p=this.Ae(a,l,h);this.Ve(p)}}Ve(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Bc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new qf(jt.min(),l,new ke($t),qs(),ne())}}class Bc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Bc(a,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n,a,l){this.me=t,this.removedTargetIds=n,this.key=a,this.fe=l}}class nw{constructor(t,n){this.targetId=t,this.ge=n}}class iw{constructor(t,n,a=On.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class LE{constructor(){this.pe=0,this.ye=OE(),this.we=On.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=ne(),n=ne(),a=ne();return this.ye.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:zt()}}),new Bc(this.we,this.Se,t,n,a)}Me(){this.be=!1,this.ye=OE()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,pe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class iP{constructor(t){this.ke=t,this.qe=new Map,this.Qe=qs(),this.$e=Qh(),this.Ue=Qh(),this.Ke=new ke($t)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const a=this.He(n);switch(t.state){case 0:this.Je(n)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(t.resumeToken));break;default:zt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((a,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,a=t.ge.count,l=this.Xe(n);if(l){const h=l.target;if(_p(h))if(a===0){const p=new Ot(h.path);this.ze(n,p,Gn.newNoDocument(p,jt.min()))}else pe(a===1);else{const p=this.et(n);if(p!==a){const g=this.tt(t),y=g?this.nt(g,t,p):1;if(y!==0){this.Ye(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,E)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let p,g;try{p=Ja(a).toUint8Array()}catch(y){if(y instanceof IT)return Xl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new o_(p,l,h)}catch(y){return Xl(y instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.Ee===0?null:g}nt(t,n,a){return n.ge.count===a-this.st(t,n.targetId)?0:2}st(t,n){const a=this.ke.getRemoteKeysForTarget(n);let l=0;return a.forEach(h=>{const p=this.ke.it(),g=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.ze(n,h,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((h,p)=>{const g=this.Xe(p);if(g){if(h.current&&_p(g.target)){const y=new Ot(g.target.path);this._t(y).has(p)||this.ut(p,y)||this.ze(p,y,Gn.newNoDocument(y,t))}h.ve&&(n.set(p,h.Fe()),h.Me())}});let a=ne();this.Ue.forEach((h,p)=>{let g=!0;p.forEachWhile(y=>{const E=this.Xe(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,p)=>p.setReadTime(t));const l=new qf(t,n,this.Ke,this.Qe,a);return this.Qe=qs(),this.$e=Qh(),this.Ue=Qh(),this.Ke=new ke($t),l}Ge(t,n){if(!this.Je(t))return;const a=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,a){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new LE,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new cn($t),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new cn($t),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||St("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new LE),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Qh(){return new ke(Ot.comparator)}function OE(){return new ke(Ot.comparator)}const rP={asc:"ASCENDING",desc:"DESCENDING"},sP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aP={and:"AND",or:"OR"};class oP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function vp(r,t){return r.useProto3Json||Vf(t)?t:{value:t}}function Sf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rw(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function lP(r,t){return Sf(r,t.toTimestamp())}function Wr(r){return pe(!!r),jt.fromTimestamp(function(n){const a=Xa(n);return new un(a.seconds,a.nanos)}(r))}function l_(r,t){return yp(r,t).canonicalString()}function yp(r,t){const n=function(l){return new xe(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function sw(r){const t=xe.fromString(r);return pe(cw(t)),t}function Ep(r,t){return l_(r.databaseId,t.path)}function $m(r,t){const n=sw(t);if(n.get(1)!==r.databaseId.projectId)throw new bt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new bt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ot(ow(n))}function aw(r,t){return l_(r.databaseId,t)}function uP(r){const t=sw(r);return t.length===4?xe.emptyPath():ow(t)}function Tp(r){return new xe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ow(r){return pe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function DE(r,t,n){return{name:Ep(r,t),fields:n.value.mapValue.fields}}function cP(r,t){let n;if("targetChange"in t){t.targetChange;const a=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:zt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(E,R){return E.useProto3Json?(pe(R===void 0||typeof R=="string"),On.fromBase64String(R||"")):(pe(R===void 0||R instanceof Buffer||R instanceof Uint8Array),On.fromUint8Array(R||new Uint8Array))}(r,t.targetChange.resumeToken),p=t.targetChange.cause,g=p&&function(E){const R=E.code===void 0?lt.UNKNOWN:ew(E.code);return new bt(R,E.message||"")}(p);n=new iw(a,l,h,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=$m(r,a.document.name),h=Wr(a.document.updateTime),p=a.document.createTime?Wr(a.document.createTime):jt.min(),g=new mi({mapValue:{fields:a.document.fields}}),y=Gn.newFoundDocument(l,h,p,g),E=a.targetIds||[],R=a.removedTargetIds||[];n=new of(E,R,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=$m(r,a.document),h=a.readTime?Wr(a.readTime):jt.min(),p=Gn.newNoDocument(l,h),g=a.removedTargetIds||[];n=new of([],g,p.key,p)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=$m(r,a.document),h=a.removedTargetIds||[];n=new of([],h,l,null)}else{if(!("filter"in t))return zt();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,p=new tP(l,h),g=a.targetId;n=new nw(g,p)}}return n}function hP(r,t){let n;if(t instanceof zc)n={update:DE(r,t.key,t.value)};else if(t instanceof s_)n={delete:Ep(r,t.key)};else if(t instanceof ao)n={update:DE(r,t.key,t.data),updateMask:EP(t.fieldMask)};else{if(!(t instanceof W1))return zt();n={verify:Ep(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(h,p){const g=p.transform;if(g instanceof Cc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ic)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof xc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof bf)return{fieldPath:p.field.canonicalString(),increment:g.Ie};throw zt()}(0,a))),t.precondition.isNone||(n.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:lP(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:zt()}(r,t.precondition)),n}function fP(r,t){return r&&r.length>0?(pe(t!==void 0),r.map(n=>function(l,h){let p=l.updateTime?Wr(l.updateTime):Wr(h);return p.isEqual(jt.min())&&(p=Wr(h)),new Q1(p,l.transformResults||[])}(n,t))):[]}function dP(r,t){return{documents:[aw(r,t.path)]}}function mP(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=aw(r,l);const h=function(E){if(E.length!==0)return uw(wr.create(E,"and"))}(t.filters);h&&(n.structuredQuery.where=h);const p=function(E){if(E.length!==0)return E.map(R=>function(O){return{field:ql(O.field),direction:gP(O.dir)}}(R))}(t.orderBy);p&&(n.structuredQuery.orderBy=p);const g=vp(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(t.endAt)),{ht:n,parent:l}}function pP(r){let t=uP(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){pe(a===1);const R=n.from[0];R.allDescendants?l=R.collectionId:t=t.child(R.collectionId)}let h=[];n.where&&(h=function(I){const O=lw(I);return O instanceof wr&&UT(O)?O.getFilters():[O]}(n.where));let p=[];n.orderBy&&(p=function(I){return I.map(O=>function(B){return new Rc(Fl(B.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(O))}(n.orderBy));let g=null;n.limit&&(g=function(I){let O;return O=typeof I=="object"?I.value:I,Vf(O)?null:O}(n.limit));let y=null;n.startAt&&(y=function(I){const O=!!I.before,j=I.values||[];return new Tf(j,O)}(n.startAt));let E=null;return n.endAt&&(E=function(I){const O=!I.before,j=I.values||[];return new Tf(j,O)}(n.endAt)),N1(t,l,p,h,g,"F",y,E)}function _P(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function lw(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Fl(n.unaryFilter.field);return rn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fl(n.unaryFilter.field);return rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Fl(n.unaryFilter.field);return rn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Fl(n.unaryFilter.field);return rn.create(p,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}(r):r.fieldFilter!==void 0?function(n){return rn.create(Fl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(a=>lw(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return zt()}}(n.compositeFilter.op))}(r):zt()}function gP(r){return rP[r]}function vP(r){return sP[r]}function yP(r){return aP[r]}function ql(r){return{fieldPath:r.canonicalString()}}function Fl(r){return Pn.fromServerFormat(r.fieldPath)}function uw(r){return r instanceof rn?function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NAN"}};if(yE(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NOT_NAN"}};if(yE(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(n.field),op:vP(n.op),value:n.value}}}(r):r instanceof wr?function(n){const a=n.getFilters().map(l=>uw(l));return a.length===1?a[0]:{compositeFilter:{op:yP(n.op),filters:a}}}(r):zt()}function EP(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function cw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,n,a,l,h=jt.min(),p=jt.min(),g=On.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ga(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t){this.Tt=t}}function wP(r){const t=pP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.Tn=new SP}addToCollectionParentIndex(t,n){return this.Tn.add(n),ht.resolve()}getCollectionParents(t,n){return ht.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return ht.resolve()}deleteFieldIndex(t,n){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,n){return ht.resolve()}getDocumentsMatchingTarget(t,n){return ht.resolve(null)}getIndexType(t,n){return ht.resolve(0)}getFieldIndexes(t,n){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,n){return ht.resolve(Wa.min())}getMinOffsetFromCollectionGroup(t,n){return ht.resolve(Wa.min())}updateCollectionGroup(t,n,a){return ht.resolve()}updateIndexEntries(t,n){return ht.resolve()}}class SP{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new cn(xe.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new cn(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hw=41943040;class di{static withCacheSize(t){return new di(t,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(hw,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new nu(0)}static Kn(){return new nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",AP=1048576;function kE([r,t],[n,a]){const l=$t(r,n);return l===0?$t(t,a):l}class RP{constructor(t){this.Hn=t,this.buffer=new cn(kE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();kE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CP{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){St(ME,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fu(n)?St(ME,"Ignoring IndexedDB error during garbage collection: ",n):await hu(n)}await this.er(3e5)})}}class IP{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return ht.resolve(kf.ae);const a=new RP(n);return this.tr.forEachTarget(t,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.tr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(NE)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NE):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let a,l,h,p,g,y,E;const R=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,p=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(a=I,g=Date.now(),this.removeTargets(t,a,n))).next(I=>(h=I,y=Date.now(),this.removeOrphanedDocuments(t,a))).next(I=>(E=Date.now(),jl()<=ee.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-R}ms
	Determined least recently used ${l} in `+(g-p)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${I} documents in `+(E-y)+`ms
Total Duration: ${E-R}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:I})))}}function xP(r,t){return new IP(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.changes=new tl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Gn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ht.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(a!==null&&gc(a.mutation,l,Oi.empty(),un.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,ne()).next(()=>a))}getLocalViewOfDocuments(t,n,a=ne()){const l=Go();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,a).next(h=>{let p=uc();return h.forEach((g,y)=>{p=p.insert(g,y.overlayedDocument)}),p}))}getOverlayedDocuments(t,n){const a=Go();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,ne()))}populateOverlays(t,n,a){const l=[];return a.forEach(h=>{n.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((p,g)=>{n.set(p,g)})})}computeViews(t,n,a,l){let h=qs();const p=_c(),g=function(){return _c()}();return n.forEach((y,E)=>{const R=a.get(E.key);l.has(E.key)&&(R===void 0||R.mutation instanceof ao)?h=h.insert(E.key,E):R!==void 0?(p.set(E.key,R.mutation.getFieldMask()),gc(R.mutation,E,R.mutation.getFieldMask(),un.now())):p.set(E.key,Oi.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((E,R)=>p.set(E,R)),n.forEach((E,R)=>{var I;return g.set(E,new LP(R,(I=p.get(E))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const a=_c();let l=new ke((p,g)=>p-g),h=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(p=>{for(const g of p)g.keys().forEach(y=>{const E=n.get(y);if(E===null)return;let R=a.get(y)||Oi.empty();R=g.applyToLocalView(E,R),a.set(y,R);const I=(l.get(g.batchId)||ne()).add(y);l=l.insert(g.batchId,I)})}).next(()=>{const p=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),E=y.key,R=y.value,I=KT();R.forEach(O=>{if(!h.has(O)){const j=JT(n.get(O),a.get(O));j!==null&&I.set(O,j),h=h.add(O)}}),p.push(this.documentOverlayCache.saveOverlays(t,E,I))}return ht.waitFor(p)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,l){return function(p){return Ot.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next(h=>{const p=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):ht.resolve(Go());let g=wc,y=h;return p.next(E=>ht.forEach(E,(R,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(R)?ht.resolve():this.remoteDocumentCache.getEntry(t,R).next(O=>{y=y.insert(R,O)}))).next(()=>this.populateOverlays(t,E,h)).next(()=>this.computeViews(t,y,E,ne())).next(R=>({batchId:g,changes:ZT(R)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next(a=>{let l=uc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let p=uc();return this.indexManager.getCollectionParents(t,h).next(g=>ht.forEach(g,y=>{const E=function(I,O){return new du(O,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,E,a,l).next(R=>{R.forEach((I,O)=>{p=p.insert(I,O)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l))).next(p=>{h.forEach((y,E)=>{const R=E.getKey();p.get(R)===null&&(p=p.insert(R,Gn.newInvalidDocument(R)))});let g=uc();return p.forEach((y,E)=>{const R=h.get(y);R!==void 0&&gc(R.mutation,E,Oi.empty(),un.now()),Bf(n,E)&&(g=g.insert(y,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return ht.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Wr(l.createTime)}}(n)),ht.resolve()}getNamedQuery(t,n){return ht.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:wP(l.bundledQuery),readTime:Wr(l.readTime)}}(n)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.overlays=new ke(Ot.comparator),this.Rr=new Map}getOverlay(t,n){return ht.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Go();return ht.forEach(n,l=>this.getOverlay(t,l).next(h=>{h!==null&&a.set(l,h)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((l,h)=>{this.Et(t,n,h)}),ht.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),ht.resolve()}getOverlaysForCollection(t,n,a){const l=Go(),h=n.length+1,p=new Ot(n.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const y=g.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===h&&y.largestBatchId>a&&l.set(y.getKey(),y)}return ht.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new ke((E,R)=>E-R);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>a){let R=h.get(E.largestBatchId);R===null&&(R=Go(),h=h.insert(E.largestBatchId,R)),R.set(E.getKey(),E)}}const g=Go(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,R)=>g.set(E,R)),!(g.size()>=l)););return ht.resolve(g)}Et(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new J1(n,a));let h=this.Rr.get(n);h===void 0&&(h=ne(),this.Rr.set(n,h)),this.Rr.set(n,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.Vr=new cn(En.mr),this.gr=new cn(En.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const a=new En(t,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.wr(new En(t,n))}Sr(t,n){t.forEach(a=>this.removeReference(a,n))}br(t){const n=new Ot(new xe([])),a=new En(n,t),l=new En(n,t+1),h=[];return this.gr.forEachInRange([a,l],p=>{this.wr(p),h.push(p.key)}),h}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new Ot(new xe([])),a=new En(n,t),l=new En(n,t+1);let h=ne();return this.gr.forEachInRange([a,l],p=>{h=h.add(p.key)}),h}containsKey(t){const n=new En(t,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class En{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return Ot.comparator(t.key,n.key)||$t(t.Cr,n.Cr)}static pr(t,n){return $t(t.Cr,n.Cr)||Ot.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new cn(En.mr)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new X1(h,n,a,l);this.mutationQueue.push(p);for(const g of l)this.Mr=this.Mr.add(new En(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return ht.resolve(p)}lookupMutationBatch(t,n){return ht.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.Nr(a),h=l<0?0:l;return ht.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Xp:this.Fr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new En(n,0),l=new En(n,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,l],p=>{const g=this.Or(p.Cr);h.push(g)}),ht.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new cn($t);return n.forEach(l=>{const h=new En(l,0),p=new En(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,p],g=>{a=a.add(g.Cr)})}),ht.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Ot.isDocumentKey(h)||(h=h.child(""));const p=new En(new Ot(h),0);let g=new cn($t);return this.Mr.forEachWhile(y=>{const E=y.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(g=g.add(y.Cr)),!0)},p),ht.resolve(this.Br(g))}Br(t){const n=[];return t.forEach(a=>{const l=this.Or(a);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){pe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ht.forEach(n.mutations,l=>{const h=new En(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,n){const a=new En(n,0),l=this.Mr.firstAfterOrEqual(a);return ht.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t){this.kr=t,this.docs=function(){return new ke(Ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,p=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ht.resolve(a?a.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(t,n){let a=qs();return n.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Gn.newInvalidDocument(l))}),ht.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=qs();const p=n.path,g=new Ot(p.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:E,value:{document:R}}=y.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||f1(h1(R),a)<=0||(l.has(R.key)||Bf(n,R))&&(h=h.insert(R.key,R.mutableCopy()))}return ht.resolve(h)}getAllFromCollectionGroup(t,n,a,l){zt()}qr(t,n){return ht.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new UP(this)}getSize(t){return ht.resolve(this.size)}}class UP extends PP{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(a)}),ht.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t){this.persistence=t,this.Qr=new tl(n=>e_(n),n_),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new u_,this.targetCount=0,this.Kr=nu.Un()}forEachTarget(t,n){return this.Qr.forEach((a,l)=>n(l)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ht.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new nu(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,ht.resolve()}updateTargetData(t,n){return this.zn(n),ht.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.Qr.forEach((p,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.Qr.delete(p),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),ht.waitFor(h).next(()=>l)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,n){const a=this.Qr.get(n)||null;return ht.resolve(a)}addMatchingKeys(t,n,a){return this.Ur.yr(n,a),ht.resolve()}removeMatchingKeys(t,n,a){this.Ur.Sr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach(p=>{h.push(l.markPotentiallyOrphaned(t,p))}),ht.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),ht.resolve()}getMatchingKeysForTargetId(t,n){const a=this.Ur.vr(n);return ht.resolve(a)}containsKey(t,n){return ht.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new kf(0),this.zr=!1,this.zr=!0,this.jr=new MP,this.referenceDelegate=t(this),this.Hr=new zP(this),this.indexManager=new bP,this.remoteDocumentCache=function(l){return new VP(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new TP(n),this.Yr=new DP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new NP,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.Wr[t.toKey()];return a||(a=new kP(n,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,a){St("MemoryPersistence","Starting transaction:",t);const l=new BP(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(h=>this.referenceDelegate.Xr(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}ei(t,n){return ht.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,n)))}}class BP extends m1{constructor(t){super(),this.currentSequenceNumber=t}}class c_{constructor(t){this.persistence=t,this.ti=new u_,this.ni=null}static ri(t){return new c_(t)}get ii(){if(this.ni)return this.ni;throw zt()}addReference(t,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ht.resolve()}removeReference(t,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),ht.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.ii,a=>{const l=Ot.fromPath(a);return this.si(t,l).next(h=>{h||n.removeEntry(l,jt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return ht.or([()=>ht.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Af{constructor(t,n){this.persistence=t,this.oi=new tl(a=>g1(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=xP(this,n)}static ri(t,n){return new Af(t,n)}Zr(){}Xr(t){return ht.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(l=>a+l))}sr(t){let n=0;return this.rr(t,a=>{n++}).next(()=>n)}rr(t,n){return ht.forEach(this.oi,(a,l)=>this.ar(t,a,l).next(h=>h?ht.resolve():n(l)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.qr(t,p=>this.ar(t,p,n).next(g=>{g||(a++,h.removeEntry(p,jt.min()))})).next(()=>h.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),ht.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.oi.set(a,t.currentSequenceNumber),ht.resolve()}removeReference(t,n,a){return this.oi.set(a,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),ht.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=rf(t.data.value)),n}ar(t,n,a){return ht.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return ht.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Hi=a,this.Ji=l}static Yi(t,n){let a=ne(),l=ne();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new h_(t,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yR()?8:p1(Zn())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.rs(t,n).next(p=>{h.result=p}).next(()=>{if(!h.result)return this.ss(t,n,l,a).next(p=>{h.result=p})}).next(()=>{if(h.result)return;const p=new jP;return this._s(t,n,p).next(g=>{if(h.result=g,this.Xi)return this.us(t,n,p,g.size)})}).next(()=>h.result)}us(t,n,a,l){return a.documentReadCount<this.es?(jl()<=ee.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ht.resolve()):(jl()<=ee.DEBUG&&St("QueryEngine","Query:",Hl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(jl()<=ee.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$r(n))):ht.resolve())}rs(t,n){if(SE(n))return ht.resolve(null);let a=$r(n);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=wf(n,null,"F"),a=$r(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(h=>{const p=ne(...h);return this.ns.getDocuments(t,p).next(g=>this.indexManager.getMinOffset(t,a).next(y=>{const E=this.cs(n,g);return this.ls(n,E,p,y.readTime)?this.rs(t,wf(n,null,"F")):this.hs(t,E,n,y)}))})))}ss(t,n,a,l){return SE(n)||l.isEqual(jt.min())?ht.resolve(null):this.ns.getDocuments(t,a).next(h=>{const p=this.cs(n,h);return this.ls(n,p,a,l)?ht.resolve(null):(jl()<=ee.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Hl(n)),this.hs(t,p,n,c1(l,wc)).next(g=>g))})}cs(t,n){let a=new cn(FT(t));return n.forEach((l,h)=>{Bf(t,h)&&(a=a.add(h))}),a}ls(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}_s(t,n,a){return jl()<=ee.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Hl(n)),this.ns.getDocumentsMatchingQuery(t,n,Wa.min(),a)}hs(t,n,a,l){return this.ns.getDocumentsMatchingQuery(t,a,l).next(h=>(n.forEach(p=>{h=h.insert(p.key,p)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LocalStore",qP=3e8;class FP{constructor(t,n,a,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new ke($t),this.Is=new tl(h=>e_(h),n_),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function GP(r,t,n,a){return new FP(r,t,n,a)}async function dw(r,t){const n=Ft(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(h=>(l=h,n.As(t),n.mutationQueue.getAllMutationBatches(a))).next(h=>{const p=[],g=[];let y=ne();for(const E of l){p.push(E.batchId);for(const R of E.mutations)y=y.add(R.key)}for(const E of h){g.push(E.batchId);for(const R of E.mutations)y=y.add(R.key)}return n.localDocuments.getDocuments(a,y).next(E=>({Rs:E,removedBatchIds:p,addedBatchIds:g}))})})}function ZP(r,t){const n=Ft(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),h=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,y,E,R){const I=E.batch,O=I.keys();let j=ht.resolve();return O.forEach(B=>{j=j.next(()=>R.getEntry(y,B)).next(X=>{const J=E.docVersions.get(B);pe(J!==null),X.version.compareTo(J)<0&&(I.applyToRemoteDocument(X,E),X.isValidDocument()&&(X.setReadTime(E.commitVersion),R.addEntry(X)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(y,I))}(n,a,t,h).next(()=>h.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let y=ne();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(y=y.add(g.batch.mutations[E].key));return y}(t))).next(()=>n.localDocuments.getDocuments(a,l))})}function mw(r){const t=Ft(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function KP(r,t){const n=Ft(r),a=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const p=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];t.targetChanges.forEach((R,I)=>{const O=l.get(I);if(!O)return;g.push(n.Hr.removeMatchingKeys(h,R.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(h,R.addedDocuments,I)));let j=O.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(I)!==null?j=j.withResumeToken(On.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):R.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(R.resumeToken,a)),l=l.insert(I,j),function(X,J,it){return X.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=qP?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0}(O,j,R)&&g.push(n.Hr.updateTargetData(h,j))});let y=qs(),E=ne();if(t.documentUpdates.forEach(R=>{t.resolvedLimboDocuments.has(R)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(h,R))}),g.push(QP(h,p,t.documentUpdates).next(R=>{y=R.Vs,E=R.fs})),!a.isEqual(jt.min())){const R=n.Hr.getLastRemoteSnapshotVersion(h).next(I=>n.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(R)}return ht.waitFor(g).next(()=>p.apply(h)).next(()=>n.localDocuments.getLocalViewOfDocuments(h,y,E)).next(()=>y)}).then(h=>(n.Ts=l,h))}function QP(r,t,n){let a=ne(),l=ne();return n.forEach(h=>a=a.add(h)),t.getEntries(r,a).next(h=>{let p=qs();return n.forEach((g,y)=>{const E=h.get(g);y.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(jt.min())?(t.removeEntry(g,y.readTime),p=p.insert(g,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(y),p=p.insert(g,y)):St(f_,"Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",y.version)}),{Vs:p,fs:l}})}function YP(r,t){const n=Ft(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Xp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function $P(r,t){const n=Ft(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.Hr.getTargetData(a,t).next(h=>h?(l=h,ht.resolve(l)):n.Hr.allocateTargetId(a).next(p=>(l=new Ga(t,p,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(t,a.targetId)),a})}async function wp(r,t,n){const a=Ft(r),l=a.Ts.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,p=>a.persistence.referenceDelegate.removeTarget(p,l))}catch(p){if(!fu(p))throw p;St(f_,`Failed to update sequence numbers for target ${t}: ${p}`)}a.Ts=a.Ts.remove(t),a.Is.delete(l.target)}function VE(r,t,n){const a=Ft(r);let l=jt.min(),h=ne();return a.persistence.runTransaction("Execute query","readwrite",p=>function(y,E,R){const I=Ft(y),O=I.Is.get(R);return O!==void 0?ht.resolve(I.Ts.get(O)):I.Hr.getTargetData(E,R)}(a,p,$r(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(p,g.targetId).next(y=>{h=y})}).next(()=>a.Ps.getDocumentsMatchingQuery(p,t,n?l:jt.min(),n?h:ne())).next(g=>(WP(a,k1(t),g),{documents:g,gs:h})))}function WP(r,t,n){let a=r.Es.get(t)||jt.min();n.forEach((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),r.Es.set(t,a)}class UE{constructor(){this.activeTargetIds=H1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XP{constructor(){this.ho=new UE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,a){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new UE,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="ConnectivityMonitor";class BE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){St(zE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){St(zE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=null;function bp(){return Yh===null?Yh=function(){return 268435456+Math.round(2147483648*Math.random())}():Yh++,"0x"+Yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",tL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eL{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===yf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}So(t,n,a,l,h){const p=bp(),g=this.bo(t,n.toUriEncodedString());St(Wm,`Sending RPC '${t}' ${p}:`,g,a);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,l,h),this.vo(t,g,y,a).then(E=>(St(Wm,`Received RPC '${t}' ${p}: `,E),E),E=>{throw Xl(Wm,`RPC '${t}' ${p} failed with error: `,E,"url: ",g,"request:",a),E})}Co(t,n,a,l,h,p){return this.So(t,n,a,l,h)}Do(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,h)=>t[h]=l),a&&a.headers.forEach((l,h)=>t[h]=l)}bo(t,n){const a=tL[t];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class iL extends eL{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,a,l){const h=bp();return new Promise((p,g)=>{const y=new vT;y.setWithCredentials(!0),y.listenOnce(yT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case nf.NO_ERROR:const R=y.getResponseJson();St(qn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(R)),p(R);break;case nf.TIMEOUT:St(qn,`RPC '${t}' ${h} timed out`),g(new bt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const I=y.getStatus();if(St(qn,`RPC '${t}' ${h} failed with status:`,I,"response text:",y.getResponseText()),I>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const j=O==null?void 0:O.error;if(j&&j.status&&j.message){const B=function(J){const it=J.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(it)>=0?it:lt.UNKNOWN}(j.status);g(new bt(B,j.message))}else g(new bt(lt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new bt(lt.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{St(qn,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(l);St(qn,`RPC '${t}' ${h} sending request:`,l),y.send(n,"POST",E,a,15)})}Wo(t,n,a){const l=bp(),h=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=wT(),g=TT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const R=h.join("");St(qn,`Creating RPC '${t}' stream ${l}: ${R}`,y);const I=p.createWebChannel(R,y);let O=!1,j=!1;const B=new nL({Fo:J=>{j?St(qn,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(O||(St(qn,`Opening RPC '${t}' stream ${l} transport.`),I.open(),O=!0),St(qn,`RPC '${t}' stream ${l} sending:`,J),I.send(J))},Mo:()=>I.close()}),X=(J,it,dt)=>{J.listen(it,ot=>{try{dt(ot)}catch(xt){setTimeout(()=>{throw xt},0)}})};return X(I,lc.EventType.OPEN,()=>{j||(St(qn,`RPC '${t}' stream ${l} transport opened.`),B.Qo())}),X(I,lc.EventType.CLOSE,()=>{j||(j=!0,St(qn,`RPC '${t}' stream ${l} transport closed`),B.Uo())}),X(I,lc.EventType.ERROR,J=>{j||(j=!0,Xl(qn,`RPC '${t}' stream ${l} transport errored:`,J),B.Uo(new bt(lt.UNAVAILABLE,"The operation could not be completed")))}),X(I,lc.EventType.MESSAGE,J=>{var it;if(!j){const dt=J.data[0];pe(!!dt);const ot=dt,xt=(ot==null?void 0:ot.error)||((it=ot[0])===null||it===void 0?void 0:it.error);if(xt){St(qn,`RPC '${t}' stream ${l} received error:`,xt);const At=xt.status;let Bt=function(P){const U=nn[P];if(U!==void 0)return ew(U)}(At),F=xt.message;Bt===void 0&&(Bt=lt.INTERNAL,F="Unknown error status: "+At+" with message "+xt.message),j=!0,B.Uo(new bt(Bt,F)),I.close()}else St(qn,`RPC '${t}' stream ${l} received:`,dt),B.Ko(dt)}}),X(g,ET.STAT_EVENT,J=>{J.stat===hp.PROXY?St(qn,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===hp.NOPROXY&&St(qn,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{B.$o()},0),B}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(r){return new oP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Ti=t,this.timerId=n,this.Go=a,this.zo=l,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-a);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="PersistentStream";class _w{constructor(t,n,a,l,h,p,g,y){this.Ti=t,this.n_=a,this.r_=l,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new pw(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===lt.RESOURCE_EXHAUSTED?(Hs(n.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===n&&this.V_(a,l)},a=>{t(()=>{const l=new bt(lt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(t,n){const a=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return St(jE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(St(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rL extends _w{constructor(t,n,a,l,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=cP(this.serializer,t),a=function(h){if(!("targetChange"in h))return jt.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?jt.min():p.readTime?Wr(p.readTime):jt.min()}(t);return this.listener.p_(n,a)}y_(t){const n={};n.database=Tp(this.serializer),n.addTarget=function(h,p){let g;const y=p.target;if(g=_p(y)?{documents:dP(h,y)}:{query:mP(h,y).ht},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=rw(h,p.resumeToken);const E=vp(h,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(jt.min())>0){g.readTime=Sf(h,p.snapshotVersion.toTimestamp());const E=vp(h,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,t);const a=_P(this.serializer,t);a&&(n.labels=a),this.I_(n)}w_(t){const n={};n.database=Tp(this.serializer),n.removeTarget=t,this.I_(n)}}class sL extends _w{constructor(t,n,a,l,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return pe(!!t.streamToken),this.lastStreamToken=t.streamToken,pe(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){pe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=fP(t.writeResults,t.commitTime),a=Wr(t.commitTime);return this.listener.v_(a,n)}C_(){const t={};t.database=Tp(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>hP(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{}class oL extends aL{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new bt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.So(t,yp(n,a),l,h,p)).catch(h=>{throw h.name==="FirebaseError"?(h.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new bt(lt.UNKNOWN,h.toString())})}Co(t,n,a,l,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.Co(t,yp(n,a),l,p,g,h)).catch(p=>{throw p.name==="FirebaseError"?(p.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new bt(lt.UNKNOWN,p.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class lL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hs(n),this.N_=!1):St("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="RemoteStore";class uL{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(p=>{a.enqueueAndForget(async()=>{el(this)&&(St(Xo,"Restarting streams for network reachability change."),await async function(y){const E=Ft(y);E.W_.add(4),await jc(E),E.j_.set("Unknown"),E.W_.delete(4),await Gf(E)}(this))})}),this.j_=new lL(a,l)}}async function Gf(r){if(el(r))for(const t of r.G_)await t(!0)}async function jc(r){for(const t of r.G_)await t(!1)}function gw(r,t){const n=Ft(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),__(n)?p_(n):mu(n).c_()&&m_(n,t))}function d_(r,t){const n=Ft(r),a=mu(n);n.K_.delete(t),a.c_()&&vw(n,t),n.K_.size===0&&(a.c_()?a.P_():el(n)&&n.j_.set("Unknown"))}function m_(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mu(r).y_(t)}function vw(r,t){r.H_.Ne(t),mu(r).w_(t)}function p_(r){r.H_=new iP({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),mu(r).start(),r.j_.B_()}function __(r){return el(r)&&!mu(r).u_()&&r.K_.size>0}function el(r){return Ft(r).W_.size===0}function yw(r){r.H_=void 0}async function cL(r){r.j_.set("Online")}async function hL(r){r.K_.forEach((t,n)=>{m_(r,t)})}async function fL(r,t){yw(r),__(r)?(r.j_.q_(t),p_(r)):r.j_.set("Unknown")}async function dL(r,t,n){if(r.j_.set("Online"),t instanceof iw&&t.state===2&&t.cause)try{await async function(l,h){const p=h.cause;for(const g of h.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,p),l.K_.delete(g),l.H_.removeTarget(g))}(r,t)}catch(a){St(Xo,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Rf(r,a)}else if(t instanceof of?r.H_.We(t):t instanceof nw?r.H_.Ze(t):r.H_.je(t),!n.isEqual(jt.min()))try{const a=await mw(r.localStore);n.compareTo(a)>=0&&await function(h,p){const g=h.H_.ot(p);return g.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const R=h.K_.get(E);R&&h.K_.set(E,R.withResumeToken(y.resumeToken,p))}}),g.targetMismatches.forEach((y,E)=>{const R=h.K_.get(y);if(!R)return;h.K_.set(y,R.withResumeToken(On.EMPTY_BYTE_STRING,R.snapshotVersion)),vw(h,y);const I=new Ga(R.target,y,E,R.sequenceNumber);m_(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(a){St(Xo,"Failed to raise snapshot:",a),await Rf(r,a)}}async function Rf(r,t,n){if(!fu(t))throw t;r.W_.add(1),await jc(r),r.j_.set("Offline"),n||(n=()=>mw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{St(Xo,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Gf(r)})}function Ew(r,t){return t().catch(n=>Rf(r,n,t))}async function Zf(r){const t=Ft(r),n=eo(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:Xp;for(;mL(t);)try{const l=await YP(t.localStore,a);if(l===null){t.U_.length===0&&n.P_();break}a=l.batchId,pL(t,l)}catch(l){await Rf(t,l)}Tw(t)&&ww(t)}function mL(r){return el(r)&&r.U_.length<10}function pL(r,t){r.U_.push(t);const n=eo(r);n.c_()&&n.S_&&n.b_(t.mutations)}function Tw(r){return el(r)&&!eo(r).u_()&&r.U_.length>0}function ww(r){eo(r).start()}async function _L(r){eo(r).C_()}async function gL(r){const t=eo(r);for(const n of r.U_)t.b_(n.mutations)}async function vL(r,t,n){const a=r.U_.shift(),l=a_.from(a,t,n);await Ew(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Zf(r)}async function yL(r,t){t&&eo(r).S_&&await async function(a,l){if(function(p){return eP(p)&&p!==lt.ABORTED}(l.code)){const h=a.U_.shift();eo(a).h_(),await Ew(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),await Zf(a)}}(r,t),Tw(r)&&ww(r)}async function HE(r,t){const n=Ft(r);n.asyncQueue.verifyOperationInProgress(),St(Xo,"RemoteStore received new credentials");const a=el(n);n.W_.add(3),await jc(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Gf(n)}async function EL(r,t){const n=Ft(r);t?(n.W_.delete(2),await Gf(n)):t||(n.W_.add(2),await jc(n),n.j_.set("Unknown"))}function mu(r){return r.J_||(r.J_=function(n,a,l){const h=Ft(n);return h.M_(),new rL(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{xo:cL.bind(null,r),No:hL.bind(null,r),Lo:fL.bind(null,r),p_:dL.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),__(r)?p_(r):r.j_.set("Unknown")):(await r.J_.stop(),yw(r))})),r.J_}function eo(r){return r.Y_||(r.Y_=function(n,a,l){const h=Ft(n);return h.M_(),new sL(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:_L.bind(null,r),Lo:yL.bind(null,r),D_:gL.bind(null,r),v_:vL.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Zf(r)):(await r.Y_.stop(),r.U_.length>0&&(St(Xo,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const p=Date.now()+a,g=new g_(t,n,p,l,h);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(r,t){if(Hs("AsyncQueue",`${t}: ${r}`),fu(r))return new bt(lt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{static emptySet(t){return new Yl(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Ot.comparator(n.key,a.key):(n,a)=>Ot.comparator(n.key,a.key),this.keyedMap=uc(),this.sortedSet=new ke(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Yl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Yl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.Z_=new ke(Ot.comparator)}track(t){const n=t.doc.key,a=this.Z_.get(n);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(n):t.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):zt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,a)=>{t.push(a)}),t}}class iu{constructor(t,n,a,l,h,p,g,y,E){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(t,n,a,l,h){const p=[];return n.forEach(g=>{p.push({type:0,doc:g})}),new iu(t,n,Yl.emptySet(n),p,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class wL{constructor(){this.queries=FE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const l=Ft(n),h=l.queries;l.queries=FE(),h.forEach((p,g)=>{for(const y of g.ta)y.onError(a)})})(this,new bt(lt.ABORTED,"Firestore shutting down"))}}function FE(){return new tl(r=>qT(r),zf)}async function bw(r,t){const n=Ft(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.na()&&t.ra()&&(a=2):(h=new TL,a=t.ra()?0:1);try{switch(a){case 0:h.ea=await n.onListen(l,!0);break;case 1:h.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(p){const g=v_(p,`Initialization of query '${Hl(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,h),h.ta.push(t),t.sa(n.onlineState),h.ea&&t.oa(h.ea)&&y_(n)}async function Sw(r,t){const n=Ft(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const p=h.ta.indexOf(t);p>=0&&(h.ta.splice(p,1),h.ta.length===0?l=t.ra()?0:1:!h.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function bL(r,t){const n=Ft(r);let a=!1;for(const l of t){const h=l.query,p=n.queries.get(h);if(p){for(const g of p.ta)g.oa(l)&&(a=!0);p.ea=l}}a&&y_(n)}function SL(r,t,n){const a=Ft(r),l=a.queries.get(t);if(l)for(const h of l.ta)h.onError(n);a.queries.delete(t)}function y_(r){r.ia.forEach(t=>{t.next()})}var Sp,GE;(GE=Sp||(Sp={}))._a="default",GE.Cache="cache";class Aw{constructor(t,n,a){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new iu(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=iu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t){this.key=t}}class Cw{constructor(t){this.key=t}}class AL{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ne(),this.mutatedKeys=ne(),this.ya=FT(t),this.wa=new Yl(this.ya)}get Sa(){return this.fa}ba(t,n){const a=n?n.Da:new qE,l=n?n.wa:this.wa;let h=n?n.mutatedKeys:this.mutatedKeys,p=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((R,I)=>{const O=l.get(R),j=Bf(this.query,I)?I:null,B=!!O&&this.mutatedKeys.has(O.key),X=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;O&&j?O.data.isEqual(j.data)?B!==X&&(a.track({type:3,doc:j}),J=!0):this.va(O,j)||(a.track({type:2,doc:j}),J=!0,(y&&this.ya(j,y)>0||E&&this.ya(j,E)<0)&&(g=!0)):!O&&j?(a.track({type:0,doc:j}),J=!0):O&&!j&&(a.track({type:1,doc:O}),J=!0,(y||E)&&(g=!0)),J&&(j?(p=p.add(j),h=X?h.add(R):h.delete(R)):(p=p.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const R=this.query.limitType==="F"?p.last():p.first();p=p.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{wa:p,Da:a,ls:g,mutatedKeys:h}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const p=t.Da.X_();p.sort((R,I)=>function(j,B){const X=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return X(j)-X(B)}(R.type,I.type)||this.ya(R.doc,I.doc)),this.Ca(a),l=l!=null&&l;const g=n&&!l?this.Fa():[],y=this.pa.size===0&&this.current&&!l?1:0,E=y!==this.ga;return this.ga=y,p.length!==0||E?{snapshot:new iu(this.query,t.wa,h,p,t.mutatedKeys,y===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new qE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=ne(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return t.forEach(a=>{this.pa.has(a)||n.push(new Cw(a))}),this.pa.forEach(a=>{t.has(a)||n.push(new Rw(a))}),n}Oa(t){this.fa=t.gs,this.pa=ne();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return iu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const E_="SyncEngine";class RL{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class CL{constructor(t){this.key=t,this.Ba=!1}}class IL{constructor(t,n,a,l,h,p){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.La={},this.ka=new tl(g=>qT(g),zf),this.qa=new Map,this.Qa=new Set,this.$a=new ke(Ot.comparator),this.Ua=new Map,this.Ka=new u_,this.Wa={},this.Ga=new Map,this.za=nu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function xL(r,t,n=!0){const a=Dw(r);let l;const h=a.ka.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.Na()):l=await Iw(a,t,n,!0),l}async function PL(r,t){const n=Dw(r);await Iw(n,t,!0,!1)}async function Iw(r,t,n,a){const l=await $P(r.localStore,$r(t)),h=l.targetId,p=r.sharedClientState.addLocalQueryTarget(h,n);let g;return a&&(g=await LL(r,t,h,p==="current",l.resumeToken)),r.isPrimaryClient&&n&&gw(r.remoteStore,l),g}async function LL(r,t,n,a,l){r.Ha=(I,O,j)=>async function(X,J,it,dt){let ot=J.view.ba(it);ot.ls&&(ot=await VE(X.localStore,J.query,!1).then(({documents:F})=>J.view.ba(F,ot)));const xt=dt&&dt.targetChanges.get(J.targetId),At=dt&&dt.targetMismatches.get(J.targetId)!=null,Bt=J.view.applyChanges(ot,X.isPrimaryClient,xt,At);return KE(X,J.targetId,Bt.Ma),Bt.snapshot}(r,I,O,j);const h=await VE(r.localStore,t,!0),p=new AL(t,h.gs),g=p.ba(h.documents),y=Bc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),E=p.applyChanges(g,r.isPrimaryClient,y);KE(r,n,E.Ma);const R=new RL(t,n,p);return r.ka.set(t,R),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),E.snapshot}async function OL(r,t,n){const a=Ft(r),l=a.ka.get(t),h=a.qa.get(l.targetId);if(h.length>1)return a.qa.set(l.targetId,h.filter(p=>!zf(p,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await wp(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&d_(a.remoteStore,l.targetId),Ap(a,l.targetId)}).catch(hu)):(Ap(a,l.targetId),await wp(a.localStore,l.targetId,!0))}async function DL(r,t){const n=Ft(r),a=n.ka.get(t),l=n.qa.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),d_(n.remoteStore,a.targetId))}async function NL(r,t,n){const a=jL(r);try{const l=await function(p,g){const y=Ft(p),E=un.now(),R=g.reduce((j,B)=>j.add(B.key),ne());let I,O;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let B=qs(),X=ne();return y.ds.getEntries(j,R).next(J=>{B=J,B.forEach((it,dt)=>{dt.isValidDocument()||(X=X.add(it))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,B)).next(J=>{I=J;const it=[];for(const dt of g){const ot=$1(dt,I.get(dt.key).overlayedDocument);ot!=null&&it.push(new ao(dt.key,ot,MT(ot.value.mapValue),yr.exists(!0)))}return y.mutationQueue.addMutationBatch(j,E,it,g)}).next(J=>{O=J;const it=J.applyToLocalDocumentSet(I,X);return y.documentOverlayCache.saveOverlays(j,J.batchId,it)})}).then(()=>({batchId:O.batchId,changes:ZT(I)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(p,g,y){let E=p.Wa[p.currentUser.toKey()];E||(E=new ke($t)),E=E.insert(g,y),p.Wa[p.currentUser.toKey()]=E}(a,l.batchId,n),await Hc(a,l.changes),await Zf(a.remoteStore)}catch(l){const h=v_(l,"Failed to persist write");n.reject(h)}}async function xw(r,t){const n=Ft(r);try{const a=await KP(n.localStore,t);t.targetChanges.forEach((l,h)=>{const p=n.Ua.get(h);p&&(pe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.Ba=!0:l.modifiedDocuments.size>0?pe(p.Ba):l.removedDocuments.size>0&&(pe(p.Ba),p.Ba=!1))}),await Hc(n,a,t)}catch(a){await hu(a)}}function ZE(r,t,n){const a=Ft(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.ka.forEach((h,p)=>{const g=p.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(p,g){const y=Ft(p);y.onlineState=g;let E=!1;y.queries.forEach((R,I)=>{for(const O of I.ta)O.sa(g)&&(E=!0)}),E&&y_(y)}(a.eventManager,t),l.length&&a.La.p_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ML(r,t,n){const a=Ft(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Ua.get(t),h=l&&l.key;if(h){let p=new ke(Ot.comparator);p=p.insert(h,Gn.newNoDocument(h,jt.min()));const g=ne().add(h),y=new qf(jt.min(),new Map,new ke($t),p,g);await xw(a,y),a.$a=a.$a.remove(h),a.Ua.delete(t),T_(a)}else await wp(a.localStore,t,!1).then(()=>Ap(a,t,n)).catch(hu)}async function kL(r,t){const n=Ft(r),a=t.batch.batchId;try{const l=await ZP(n.localStore,t);Lw(n,a,null),Pw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Hc(n,l)}catch(l){await hu(l)}}async function VL(r,t,n){const a=Ft(r);try{const l=await function(p,g){const y=Ft(p);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let R;return y.mutationQueue.lookupMutationBatch(E,g).next(I=>(pe(I!==null),R=I.keys(),y.mutationQueue.removeMutationBatch(E,I))).next(()=>y.mutationQueue.performConsistencyCheck(E)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(E,R,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,R)).next(()=>y.localDocuments.getDocuments(E,R))})}(a.localStore,t);Lw(a,t,n),Pw(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Hc(a,l)}catch(l){await hu(l)}}function Pw(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function Lw(r,t,n){const a=Ft(r);let l=a.Wa[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.Wa[a.currentUser.toKey()]=l}}function Ap(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.qa.get(t))r.ka.delete(a),n&&r.La.Ja(a,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(a=>{r.Ka.containsKey(a)||Ow(r,a)})}function Ow(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(d_(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),T_(r))}function KE(r,t,n){for(const a of n)a instanceof Rw?(r.Ka.addReference(a.key,t),UL(r,a)):a instanceof Cw?(St(E_,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,t),r.Ka.containsKey(a.key)||Ow(r,a.key)):zt()}function UL(r,t){const n=t.key,a=n.path.canonicalString();r.$a.get(n)||r.Qa.has(a)||(St(E_,"New document in limbo: "+n),r.Qa.add(a),T_(r))}function T_(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new Ot(xe.fromString(t)),a=r.za.next();r.Ua.set(a,new CL(n)),r.$a=r.$a.insert(n,a),gw(r.remoteStore,new Ga($r(i_(n.path)),a,"TargetPurposeLimboResolution",kf.ae))}}async function Hc(r,t,n){const a=Ft(r),l=[],h=[],p=[];a.ka.isEmpty()||(a.ka.forEach((g,y)=>{p.push(a.Ha(y,t,n).then(E=>{var R;if((E||n)&&a.isPrimaryClient){const I=E?!E.fromCache:(R=n==null?void 0:n.targetChanges.get(y.targetId))===null||R===void 0?void 0:R.current;a.sharedClientState.updateQueryState(y.targetId,I?"current":"not-current")}if(E){l.push(E);const I=h_.Yi(y.targetId,E);h.push(I)}}))}),await Promise.all(p),a.La.p_(l),await async function(y,E){const R=Ft(y);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ht.forEach(E,O=>ht.forEach(O.Hi,j=>R.persistence.referenceDelegate.addReference(I,O.targetId,j)).next(()=>ht.forEach(O.Ji,j=>R.persistence.referenceDelegate.removeReference(I,O.targetId,j)))))}catch(I){if(!fu(I))throw I;St(f_,"Failed to update sequence numbers: "+I)}for(const I of E){const O=I.targetId;if(!I.fromCache){const j=R.Ts.get(O),B=j.snapshotVersion,X=j.withLastLimboFreeSnapshotVersion(B);R.Ts=R.Ts.insert(O,X)}}}(a.localStore,h))}async function zL(r,t){const n=Ft(r);if(!n.currentUser.isEqual(t)){St(E_,"User change. New user:",t.toKey());const a=await dw(n.localStore,t);n.currentUser=t,function(h,p){h.Ga.forEach(g=>{g.forEach(y=>{y.reject(new bt(lt.CANCELLED,p))})}),h.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Hc(n,a.Rs)}}function BL(r,t){const n=Ft(r),a=n.Ua.get(t);if(a&&a.Ba)return ne().add(a.key);{let l=ne();const h=n.qa.get(t);if(!h)return l;for(const p of h){const g=n.ka.get(p);l=l.unionWith(g.view.Sa)}return l}}function Dw(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=xw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ML.bind(null,t),t.La.p_=bL.bind(null,t.eventManager),t.La.Ja=SL.bind(null,t.eventManager),t}function jL(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VL.bind(null,t),t}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ff(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return GP(this.persistence,new HP,t.initialUser,this.serializer)}Xa(t){return new fw(c_.ri,this.serializer)}Za(t){return new XP}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class HL extends Cf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){pe(this.persistence.referenceDelegate instanceof Af);const a=this.persistence.referenceDelegate.garbageCollector;return new CP(a,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new fw(a=>Af.ri(a,n),this.serializer)}}class Rp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ZE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zL.bind(null,this.syncEngine),await EL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new wL}()}createDatastore(t){const n=Ff(t.databaseInfo.databaseId),a=function(h){return new iL(h)}(t.databaseInfo);return function(h,p,g,y){return new oL(h,p,g,y)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,l,h,p,g){return new uL(a,l,h,p,g)}(this.localStore,this.datastore,t.asyncQueue,n=>ZE(this.syncEngine,n,0),function(){return BE.D()?new BE:new JP}())}createSyncEngine(t,n){return function(l,h,p,g,y,E,R){const I=new IL(l,h,p,g,y,E);return R&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const h=Ft(l);St(Xo,"RemoteStore shutting down."),h.W_.add(5),await jc(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Hs("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class qL{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Fn.UNAUTHENTICATED,this.clientId=AT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async p=>{St(no,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(a,p=>(St(no,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=v_(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Jm(r,t){r.asyncQueue.verifyOperationInProgress(),St(no,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await dw(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function QE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await FL(r);St(no,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(a=>HE(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>HE(t.remoteStore,l)),r._onlineComponents=t}async function FL(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){St(no,"Using user provided OfflineComponentProvider");try{await Jm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===lt.FAILED_PRECONDITION||l.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Xl("Error using user provided cache. Falling back to memory cache: "+n),await Jm(r,new Cf)}}else St(no,"Using default OfflineComponentProvider"),await Jm(r,new HL(void 0));return r._offlineComponents}async function Mw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(St(no,"Using user provided OnlineComponentProvider"),await QE(r,r._uninitializedComponentsProvider._online)):(St(no,"Using default OnlineComponentProvider"),await QE(r,new Rp))),r._onlineComponents}function GL(r){return Mw(r).then(t=>t.syncEngine)}async function kw(r){const t=await Mw(r),n=t.eventManager;return n.onListen=xL.bind(null,t.syncEngine),n.onUnlisten=OL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=PL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=DL.bind(null,t.syncEngine),n}function ZL(r,t,n={}){const a=new Us;return r.asyncQueue.enqueueAndForget(async()=>function(h,p,g,y,E){const R=new Nw({next:O=>{R.su(),p.enqueueAndForget(()=>Sw(h,I));const j=O.docs.has(g);!j&&O.fromCache?E.reject(new bt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&y&&y.source==="server"?E.reject(new bt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(O)},error:O=>E.reject(O)}),I=new Aw(i_(g.path),R,{includeMetadataChanges:!0,Ta:!0});return bw(h,I)}(await kw(r),r.asyncQueue,t,n,a)),a.promise}function KL(r,t,n={}){const a=new Us;return r.asyncQueue.enqueueAndForget(async()=>function(h,p,g,y,E){const R=new Nw({next:O=>{R.su(),p.enqueueAndForget(()=>Sw(h,I)),O.fromCache&&y.source==="server"?E.reject(new bt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(O)},error:O=>E.reject(O)}),I=new Aw(g,R,{includeMetadataChanges:!0,Ta:!0});return bw(h,I)}(await kw(r),r.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r,t,n){if(!n)throw new bt(lt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function QL(r,t,n,a){if(t===!0&&a===!0)throw new bt(lt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function $E(r){if(!Ot.isDocumentKey(r))throw new bt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function WE(r){if(Ot.isDocumentKey(r))throw new bt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Kf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":zt()}function Fs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new bt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(r);throw new bt(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function YL(r,t){if(t<=0)throw new bt(lt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firestore.googleapis.com",XE=!0;class JE{constructor(t){var n,a;if(t.host===void 0){if(t.ssl!==void 0)throw new bt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zw,this.ssl=XE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:XE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AP)throw new bt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vw((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new bt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new bt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new bt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qf{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new bt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new e1;switch(a.type){case"firstParty":return new s1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new bt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=YE.get(n);a&&(St("ComponentProvider","Removing Datastore"),YE.delete(n),a.terminate())}(this),Promise.resolve()}}function $L(r,t,n,a={}){var l;const h=(r=Fs(r,Qf))._getSettings(),p=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;h.host!==zw&&h.host!==g&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:a});if(!Ko(y,p)&&(r._setSettings(y),a.mockUserToken)){let E,R;if(typeof a.mockUserToken=="string")E=a.mockUserToken,R=Fn.MOCK_USER;else{E=fR(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new bt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Fn(I)}r._authCredentials=new n1(new bT(E,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new oo(this.firestore,t,this._query)}}class pi{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pi(this.firestore,t,this._key)}}class $a extends oo{constructor(t,n,a){super(t,n,i_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pi(this.firestore,null,new Ot(t))}withConverter(t){return new $a(this.firestore,t,this._path)}}function Di(r,t,...n){if(r=hn(r),Uw("collection","path",t),r instanceof Qf){const a=xe.fromString(t,...n);return WE(a),new $a(r,null,a)}{if(!(r instanceof pi||r instanceof $a))throw new bt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(xe.fromString(t,...n));return WE(a),new $a(r.firestore,null,a)}}function Pc(r,t,...n){if(r=hn(r),arguments.length===1&&(t=AT.newId()),Uw("doc","path",t),r instanceof Qf){const a=xe.fromString(t,...n);return $E(a),new pi(r,null,new Ot(a))}{if(!(r instanceof pi||r instanceof $a))throw new bt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(xe.fromString(t,...n));return $E(a),new pi(r.firestore,r instanceof $a?r.converter:null,new Ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="AsyncQueue";class e0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new pw(this,"async_queue_retry"),this.Su=()=>{const a=Xm();a&&St(t0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Us;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!fu(t))throw t;St(t0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const l=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(a);throw Hs("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(t,n,a){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=g_.createAndSchedule(this,t,n,a,h=>this.Fu(h));return this.fu.push(l),l}Du(){this.gu&&zt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class pu extends Qf{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new e0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new e0(t),this._firestoreClient=void 0,await t}}}function WL(r,t){const n=typeof r=="object"?r:D0(),a=typeof r=="string"?r:yf,l=jp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=cR("firestore");h&&$L(l,...h)}return l}function w_(r){if(r._terminated)throw new bt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XL(r),r._firestoreClient}function XL(r){var t,n,a;const l=r._freezeSettings(),h=function(g,y,E,R){return new E1(g,y,E,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,Vw(R.experimentalLongPollingOptions),R.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new qL(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ru(On.fromBase64String(t))}catch(n){throw new bt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ru(On.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new bt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new bt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=/^__.*__$/;class tO{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new ao(t,this.data,this.fieldMask,n,this.fieldTransforms):new zc(t,this.data,n,this.fieldTransforms)}}class Bw{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new ao(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function jw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class A_{constructor(t,n,a,l,h,p){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new A_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:a,Qu:!1});return l.$u(t),l}Uu(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return If(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(jw(this.Lu)&&JL.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class eO{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Ff(t)}ju(t,n,a,l=!1){return new A_({Lu:t,methodName:n,zu:a,path:Pn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R_(r){const t=r._freezeSettings(),n=Ff(r._databaseId);return new eO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function nO(r,t,n,a,l,h={}){const p=r.ju(h.merge||h.mergeFields?2:0,t,n,l);I_("Data must be an object, but it was:",p,a);const g=Hw(a,p);let y,E;if(h.merge)y=new Oi(p.fieldMask),E=p.fieldTransforms;else if(h.mergeFields){const R=[];for(const I of h.mergeFields){const O=Cp(t,I,n);if(!p.contains(O))throw new bt(lt.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);Fw(R,O)||R.push(O)}y=new Oi(R),E=p.fieldTransforms.filter(I=>y.covers(I.field))}else y=null,E=p.fieldTransforms;return new tO(new mi(g),y,E)}class Wf extends $f{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wf}}class C_ extends $f{_toFieldTransform(t){return new Z1(t.path,new Cc)}isEqual(t){return t instanceof C_}}function iO(r,t,n,a){const l=r.ju(1,t,n);I_("Data must be an object, but it was:",l,a);const h=[],p=mi.empty();so(a,(y,E)=>{const R=x_(t,y,n);E=hn(E);const I=l.Uu(R);if(E instanceof Wf)h.push(R);else{const O=qc(E,I);O!=null&&(h.push(R),p.set(R,O))}});const g=new Oi(h);return new Bw(p,g,l.fieldTransforms)}function rO(r,t,n,a,l,h){const p=r.ju(1,t,n),g=[Cp(t,a,n)],y=[l];if(h.length%2!=0)throw new bt(lt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<h.length;O+=2)g.push(Cp(t,h[O])),y.push(h[O+1]);const E=[],R=mi.empty();for(let O=g.length-1;O>=0;--O)if(!Fw(E,g[O])){const j=g[O];let B=y[O];B=hn(B);const X=p.Uu(j);if(B instanceof Wf)E.push(j);else{const J=qc(B,X);J!=null&&(E.push(j),R.set(j,J))}}const I=new Oi(E);return new Bw(R,I,p.fieldTransforms)}function sO(r,t,n,a=!1){return qc(n,r.ju(a?4:3,t))}function qc(r,t){if(qw(r=hn(r)))return I_("Unsupported field value:",t,r),Hw(r,t);if(r instanceof $f)return function(a,l){if(!jw(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,l){const h=[];let p=0;for(const g of a){let y=qc(g,l.Ku(p));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),p++}return{arrayValue:{values:h}}}(r,t)}return function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return q1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=un.fromDate(a);return{timestampValue:Sf(l.serializer,h)}}if(a instanceof un){const h=new un(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Sf(l.serializer,h)}}if(a instanceof b_)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ru)return{bytesValue:rw(l.serializer,a._byteString)};if(a instanceof pi){const h=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(h))throw l.Wu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:l_(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof S_)return function(p,g){return{mapValue:{fields:{[DT]:{stringValue:NT},[Ef]:{arrayValue:{values:p.toArray().map(E=>{if(typeof E!="number")throw g.Wu("VectorValues must only contain numeric values.");return r_(g.serializer,E)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${Kf(a)}`)}(r,t)}function Hw(r,t){const n={};return CT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):so(r,(a,l)=>{const h=qc(l,t.qu(a));h!=null&&(n[a]=h)}),{mapValue:{fields:n}}}function qw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof un||r instanceof b_||r instanceof ru||r instanceof pi||r instanceof $f||r instanceof S_)}function I_(r,t,n){if(!qw(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const a=Kf(n);throw a==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+a)}}function Cp(r,t,n){if((t=hn(t))instanceof Yf)return t._internalPath;if(typeof t=="string")return x_(r,t);throw If("Field path arguments must be of type string or ",r,!1,void 0,n)}const aO=new RegExp("[~\\*/\\[\\]]");function x_(r,t,n){if(t.search(aO)>=0)throw If(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yf(...t.split("."))._internalPath}catch{throw If(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function If(r,t,n,a,l){const h=a&&!a.isEmpty(),p=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||p)&&(y+=" (found",h&&(y+=` in field ${a}`),p&&(y+=` in document ${l}`),y+=")"),new bt(lt.INVALID_ARGUMENT,g+r+y)}function Fw(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Xf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oO extends Gw{data(){return super.data()}}function Xf(r,t){return typeof t=="string"?x_(r,t):t instanceof Yf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new bt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_{}class L_ extends P_{}function Zo(r,t,...n){let a=[];t instanceof P_&&a.push(t),a=a.concat(n),function(h){const p=h.filter(y=>y instanceof O_).length,g=h.filter(y=>y instanceof Jf).length;if(p>1||p>0&&g>0)throw new bt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)r=l._apply(r);return r}class Jf extends L_{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Jf(t,n,a)}_apply(t){const n=this._parse(t);return Zw(t._query,n),new oo(t.firestore,t.converter,gp(t._query,n))}_parse(t){const n=R_(t.firestore);return function(h,p,g,y,E,R,I){let O;if(E.isKeyField()){if(R==="array-contains"||R==="array-contains-any")throw new bt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${R}' queries on documentId().`);if(R==="in"||R==="not-in"){i0(I,R);const B=[];for(const X of I)B.push(n0(y,h,X));O={arrayValue:{values:B}}}else O=n0(y,h,I)}else R!=="in"&&R!=="not-in"&&R!=="array-contains-any"||i0(I,R),O=sO(g,p,I,R==="in"||R==="not-in");return rn.create(E,R,O)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function vc(r,t,n){const a=t,l=Xf("where",r);return Jf._create(l,a,n)}class O_ extends P_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new O_(t,n)}_parse(t){const n=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,h){let p=l;const g=h.getFlattenedFilters();for(const y of g)Zw(p,y),p=gp(p,y)}(t._query,n),new oo(t.firestore,t.converter,gp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends L_{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new D_(t,n)}_apply(t){const n=function(l,h,p){if(l.startAt!==null)throw new bt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new bt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rc(h,p)}(t._query,this._field,this._direction);return new oo(t.firestore,t.converter,function(l,h){const p=l.explicitOrderBy.concat([h]);return new du(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function Ip(r,t="asc"){const n=t,a=Xf("orderBy",r);return D_._create(a,n)}class N_ extends L_{constructor(t,n,a){super(),this.type=t,this._limit=n,this._limitType=a}static _create(t,n,a){return new N_(t,n,a)}_apply(t){return new oo(t.firestore,t.converter,wf(t._query,this._limit,this._limitType))}}function xp(r){return YL("limit",r),N_._create("limit",r,"F")}function n0(r,t,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new bt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HT(t)&&n.indexOf("/")!==-1)throw new bt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(xe.fromString(n));if(!Ot.isDocumentKey(a))throw new bt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return vE(r,new Ot(a))}if(n instanceof pi)return vE(r,n._key);throw new bt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function i0(r,t){if(!Array.isArray(r)||r.length===0)throw new bt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Zw(r,t){const n=function(l,h){for(const p of l)for(const g of p.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new bt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new bt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class uO{convertValue(t,n="none"){switch(to(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ja(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw zt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return so(t,(l,h)=>{a[l]=this.convertValue(h,n)}),a}convertVectorValue(t){var n,a,l;const h=(l=(a=(n=t.fields)===null||n===void 0?void 0:n[Ef].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(p=>$e(p.doubleValue));return new S_(h)}convertGeoPoint(t){return new b_($e(t.latitude),$e(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Uf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(bc(t));default:return null}}convertTimestamp(t){const n=Xa(t);return new un(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=xe.fromString(t);pe(cw(a));const l=new Sc(a.get(1),a.get(3)),h=new Ot(a.popFirst(5));return l.isEqual(n)||Hs(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(r,t,n){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kw extends Gw{constructor(t,n,a,l,h,p){super(t,n,a,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Xf("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class lf extends Kw{data(t={}){return super.data(t)}}class hO{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new hc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(a=>{t.call(n,new lf(this._firestore,this._userDataWriter,a.key,a,new hc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new bt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(g=>{const y=new lf(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:p++}})}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new lf(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,R=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),R=p.indexOf(g.doc.key)),{type:fO(g.type),doc:y,oldIndex:E,newIndex:R}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){r=Fs(r,pi);const t=Fs(r.firestore,pu);return ZL(w_(t),r._key).then(n=>pO(t,r,n))}class Yw extends uO{constructor(t){super(),this.firestore=t}convertBytes(t){return new ru(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pi(this.firestore,null,n)}}function Xr(r){r=Fs(r,oo);const t=Fs(r.firestore,pu),n=w_(t),a=new Yw(t);return lO(r._query),KL(n,r._query).then(l=>new hO(t,a,r,l))}function dO(r,t,n,...a){r=Fs(r,pi);const l=Fs(r.firestore,pu),h=R_(l);let p;return p=typeof(t=hn(t))=="string"||t instanceof Yf?rO(h,"updateDoc",r._key,t,n,a):iO(h,"updateDoc",r._key,t),k_(l,[p.toMutation(r._key,yr.exists(!0))])}function mO(r){return k_(Fs(r.firestore,pu),[new s_(r._key,yr.none())])}function M_(r,t){const n=Fs(r.firestore,pu),a=Pc(r),l=cO(r.converter,t);return k_(n,[nO(R_(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,yr.exists(!1))]).then(()=>a)}function k_(r,t){return function(a,l){const h=new Us;return a.asyncQueue.enqueueAndForget(async()=>NL(await GL(a),l,h)),h.promise}(w_(r),t)}function pO(r,t,n){const a=n.docs.get(t._key),l=new Yw(r);return new Kw(r,l,t._key,a,new hc(n.hasPendingWrites,n.fromCache),t.converter)}function _O(){return new C_("serverTimestamp")}(function(t,n=!0){(function(l){cu=l})(lu),$l(new Qo("firestore",(a,{instanceIdentifier:l,options:h})=>{const p=a.getProvider("app").getImmediate(),g=new pu(new i1(a.getProvider("auth-internal")),new a1(p,a.getProvider("app-check-internal")),function(E,R){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new bt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(E.options.projectId,R)}(p,l),p);return h=Object.assign({useFetchStreams:n},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Qa(aE,oE,t),Qa(aE,oE,"esm2017")})();const gO={apiKey:"AIzaSyC0CyOoroHicpPhK9wPRYKOCf-bUJx3nc8",authDomain:"mymagicapp-1acde.firebaseapp.com",projectId:"mymagicapp-1acde",storageBucket:"mymagicapp-1acde.firebasestorage.app",messagingSenderId:"939106252359",appId:"1:939106252359:web:66b5e2a3c399fd041d6362",measurementId:"G-HN0G2K7S0B"},$w=O0(gO),xf=Jx($w),Ln=WL($w),vO=()=>(q.useEffect(()=>{const r=document.createElement("div");r.classList.add("star-field"),document.body.appendChild(r);for(let n=0;n<500;n++){const a=document.createElement("div");a.classList.add("star"),a.style.animationDelay=`${Math.random()*5}s`,a.style.left=`${Math.random()*100}vw`,a.style.top=`${Math.random()*100}vh`,r.appendChild(a)}const t=document.createElement("div");t.classList.add("fog-effect"),document.body.appendChild(t)},[]),null);function Ww(r,t){const n=q.useRef(t);q.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}const yO=1;function EO(r){return Object.freeze({__version:yO,map:r})}function TO(r,t){return Object.freeze({...r,...t})}const V_=q.createContext(null);function Xw(){const r=q.use(V_);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function wO(r){function t(n,a){const{instance:l,context:h}=r(n).current;q.useImperativeHandle(a,()=>l);const{children:p}=n;return p==null?null:uf.createElement(V_,{value:h},p)}return q.forwardRef(t)}function bO(r){function t(n,a){const[l,h]=q.useState(!1),{instance:p}=r(n,h).current;q.useImperativeHandle(a,()=>p),q.useEffect(function(){l&&p.update()},[p,l,n.children]);const g=p._contentNode;return g?eR.createPortal(n.children,g):null}return q.forwardRef(t)}function SO(r){function t(n,a){const{instance:l}=r(n).current;return q.useImperativeHandle(a,()=>l),null}return q.forwardRef(t)}function Jw(r,t){const n=q.useRef(void 0);q.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function U_(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}function AO(r,t){return function(a,l){const h=Xw(),p=r(U_(a,h),h);return Ww(h.map,a.attribution),Jw(p.current,a.eventHandlers),t(p.current,h,a,l),p}}var fc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var RO=fc.exports,r0;function CO(){return r0||(r0=1,function(r,t){(function(n,a){a(t)})(RO,function(n){var a="1.9.4";function l(s){var u,d,v,w;for(d=1,v=arguments.length;d<v;d++){w=arguments[d];for(u in w)s[u]=w[u]}return s}var h=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function p(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var v=d.call(arguments,2);return function(){return s.apply(u,v.length?v.concat(d.call(arguments)):arguments)}}var g=0;function y(s){return"_leaflet_id"in s||(s._leaflet_id=++g),s._leaflet_id}function E(s,u,d){var v,w,A,V;return V=function(){v=!1,w&&(A.apply(d,w),w=!1)},A=function(){v?w=arguments:(s.apply(d,arguments),setTimeout(V,u),v=!0)},A}function R(s,u,d){var v=u[1],w=u[0],A=v-w;return s===v&&d?s:((s-w)%A+A)%A+w}function I(){return!1}function O(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function j(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function B(s){return j(s).split(/\s+/)}function X(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function J(s,u,d){var v=[];for(var w in s)v.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var it=/\{ *([\w_ -]+) *\}/g;function dt(s,u){return s.replace(it,function(d,v){var w=u[v];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(u)),w})}var ot=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function xt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var At="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Bt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var F=0;function N(s){var u=+new Date,d=Math.max(0,16-(u-F));return F=u+d,window.setTimeout(s,d)}var P=window.requestAnimationFrame||Bt("RequestAnimationFrame")||N,U=window.cancelAnimationFrame||Bt("CancelAnimationFrame")||Bt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function H(s,u,d){if(d&&P===N)s.call(u);else return P.call(window,p(s,u))}function K(s){s&&U.call(window,s)}var z={__proto__:null,extend:l,create:h,bind:p,get lastId(){return g},stamp:y,throttle:E,wrapNum:R,falseFn:I,formatNum:O,trim:j,splitWords:B,setOptions:X,getParamString:J,template:dt,isArray:ot,indexOf:xt,emptyImageUrl:At,requestFn:P,cancelFn:U,requestAnimFrame:H,cancelAnimFrame:K};function _e(){}_e.extend=function(s){var u=function(){X(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,v=h(d);v.constructor=u,u.prototype=v;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return s.statics&&l(u,s.statics),s.includes&&(Ve(s.includes),l.apply(null,[v].concat(s.includes))),l(v,s),delete v.statics,delete v.includes,v.options&&(v.options=d.options?h(d.options):{},l(v.options,s.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,V=v._initHooks.length;A<V;A++)v._initHooks[A].call(this)}},u},_e.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},_e.mergeOptions=function(s){return l(this.prototype.options,s),this},_e.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ve(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=ot(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var pt={on:function(s,u,d){if(typeof s=="object")for(var v in s)this._on(v,s[v],u);else{s=B(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var v in s)this._off(v,s[v],u);else{s=B(s);for(var w=arguments.length===1,A=0,V=s.length;A<V;A++)w?this._off(s[A]):this._off(s[A],u,d)}return this},_on:function(s,u,d,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var w={fn:u,ctx:d};v&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,u,d){var v,w,A;if(this._events&&(v=this._events[s],!!v)){if(arguments.length===1){if(this._firingCount)for(w=0,A=v.length;w<A;w++)v[w].fn=I;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var V=this._listens(s,u,d);if(V!==!1){var Q=v[V];this._firingCount&&(Q.fn=I,this._events[s]=v=v.slice()),v.splice(V,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var v=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var A=0,V=w.length;A<V;A++){var Q=w[A],et=Q.fn;Q.once&&this.off(s,et,Q.ctx),et.call(Q.ctx||this,v)}this._firingCount--}}return d&&this._propagateEvent(v),this},listens:function(s,u,d,v){typeof s!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(v=!!u,w=void 0,d=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,w,d)!==!1)return!0;if(v){for(var V in this._eventParents)if(this._eventParents[V].listens(s,u,d,v))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var v=this._events[s]||[];if(!u)return!!v.length;d===this&&(d=void 0);for(var w=0,A=v.length;w<A;w++)if(v[w].fn===u&&v[w].ctx===d)return w;return!1},once:function(s,u,d){if(typeof s=="object")for(var v in s)this._on(v,s[v],u,!0);else{s=B(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[y(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[y(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};pt.addEventListener=pt.on,pt.removeEventListener=pt.clearAllEventListeners=pt.off,pt.addOneTimeEventListener=pt.once,pt.fireEvent=pt.fire,pt.hasEventListeners=pt.listens;var Lt=_e.extend(pt);function mt(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var oe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};mt.prototype={clone:function(){return new mt(this.x,this.y)},add:function(s){return this.clone()._add(k(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(k(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new mt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new mt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(s){s=k(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=k(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=k(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function k(s,u,d){return s instanceof mt?s:ot(s)?new mt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new mt(s.x,s.y):new mt(s,u,d)}function at(s,u){if(s)for(var d=u?[s,u]:s,v=0,w=d.length;v<w;v++)this.extend(d[v])}at.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof mt||typeof s[0]=="number"||"x"in s)u=d=k(s);else if(s=Et(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof mt?s=k(s):s=Et(s),s instanceof at?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=Et(s);var u=this.min,d=this.max,v=s.min,w=s.max,A=w.x>=u.x&&v.x<=d.x,V=w.y>=u.y&&v.y<=d.y;return A&&V},overlaps:function(s){s=Et(s);var u=this.min,d=this.max,v=s.min,w=s.max,A=w.x>u.x&&v.x<d.x,V=w.y>u.y&&v.y<d.y;return A&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,v=Math.abs(u.x-d.x)*s,w=Math.abs(u.y-d.y)*s;return Et(k(u.x-v,u.y-w),k(d.x+v,d.y+w))},equals:function(s){return s?(s=Et(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Et(s,u){return!s||s instanceof at?s:new at(s,u)}function vt(s,u){if(s)for(var d=u?[s,u]:s,v=0,w=d.length;v<w;v++)this.extend(d[v])}vt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,v,w;if(s instanceof wt)v=s,w=s;else if(s instanceof vt){if(v=s._southWest,w=s._northEast,!v||!w)return this}else return s?this.extend(yt(s)||_t(s)):this;return!u&&!d?(this._southWest=new wt(v.lat,v.lng),this._northEast=new wt(w.lat,w.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,v=Math.abs(u.lat-d.lat)*s,w=Math.abs(u.lng-d.lng)*s;return new vt(new wt(u.lat-v,u.lng-w),new wt(d.lat+v,d.lng+w))},getCenter:function(){return new wt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new wt(this.getNorth(),this.getWest())},getSouthEast:function(){return new wt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof wt||"lat"in s?s=yt(s):s=_t(s);var u=this._southWest,d=this._northEast,v,w;return s instanceof vt?(v=s.getSouthWest(),w=s.getNorthEast()):v=w=s,v.lat>=u.lat&&w.lat<=d.lat&&v.lng>=u.lng&&w.lng<=d.lng},intersects:function(s){s=_t(s);var u=this._southWest,d=this._northEast,v=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>=u.lat&&v.lat<=d.lat,V=w.lng>=u.lng&&v.lng<=d.lng;return A&&V},overlaps:function(s){s=_t(s);var u=this._southWest,d=this._northEast,v=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>u.lat&&v.lat<d.lat,V=w.lng>u.lng&&v.lng<d.lng;return A&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=_t(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _t(s,u){return s instanceof vt?s:new vt(s,u)}function wt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}wt.prototype={equals:function(s,u){if(!s)return!1;s=yt(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+O(this.lat,s)+", "+O(this.lng,s)+")"},distanceTo:function(s){return Gt.distance(this,yt(s))},wrap:function(){return Gt.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return _t([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new wt(this.lat,this.lng,this.alt)}};function yt(s,u,d){return s instanceof wt?s:ot(s)&&typeof s[0]!="object"?s.length===3?new wt(s[0],s[1],s[2]):s.length===2?new wt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new wt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new wt(s,u,d)}var de={latLngToPoint:function(s,u){var d=this.projection.project(s),v=this.scale(u);return this.transformation._transform(d,v)},pointToLatLng:function(s,u){var d=this.scale(u),v=this.transformation.untransform(s,d);return this.projection.unproject(v)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),v=this.transformation.transform(u.min,d),w=this.transformation.transform(u.max,d);return new at(v,w)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?R(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?R(s.lat,this.wrapLat,!0):s.lat,v=s.alt;return new wt(d,u,v)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),v=u.lat-d.lat,w=u.lng-d.lng;if(v===0&&w===0)return s;var A=s.getSouthWest(),V=s.getNorthEast(),Q=new wt(A.lat-v,A.lng-w),et=new wt(V.lat-v,V.lng-w);return new vt(Q,et)}},Gt=l({},de,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,v=s.lat*d,w=u.lat*d,A=Math.sin((u.lat-s.lat)*d/2),V=Math.sin((u.lng-s.lng)*d/2),Q=A*A+Math.cos(v)*Math.cos(w)*V*V,et=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*et}}),Ce=6378137,le={R:Ce,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,v=Math.max(Math.min(d,s.lat),-d),w=Math.sin(v*u);return new mt(this.R*s.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var u=180/Math.PI;return new wt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=Ce*Math.PI;return new at([-s,-s],[s,s])}()};function sn(s,u,d,v){if(ot(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=v}sn.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new mt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Kn(s,u,d,v){return new sn(s,u,d,v)}var Dn=l({},Gt,{code:"EPSG:3857",projection:le,transformation:function(){var s=.5/(Math.PI*le.R);return Kn(s,.5,-s,.5)}()}),Sr=l({},Dn,{code:"EPSG:900913"});function tr(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ni(s,u){var d="",v,w,A,V,Q,et;for(v=0,A=s.length;v<A;v++){for(Q=s[v],w=0,V=Q.length;w<V;w++)et=Q[w],d+=(w?"L":"M")+et.x+" "+et.y;d+=u?Ct.svg?"z":"x":""}return d||"M0 0"}var ts=document.documentElement.style,er="ActiveXObject"in window,Qs=er&&!document.addEventListener,Ar="msLaunchUri"in navigator&&!("documentMode"in document),Rr=Qn("webkit"),il=Qn("android"),Ys=Qn("android 2")||Qn("android 3"),Nn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rl=il&&Qn("Google")&&Nn<537&&!("AudioNode"in window),Oe=!!window.opera,Fe=!Ar&&Qn("chrome"),Mi=Qn("gecko")&&!Rr&&!Oe&&!er,sl=!Fe&&Qn("safari"),$s=Qn("phantom"),al="OTransition"in ts,es=navigator.platform.indexOf("Win")===0,nr=er&&"transition"in ts,We="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ys,Ws="MozPerspective"in ts,ki=!window.L_DISABLE_3D&&(nr||We||Ws)&&!al&&!$s,Ge=typeof orientation<"u"||Qn("mobile"),lo=Ge&&Rr,ol=Ge&&We,uo=!window.PointerEvent&&window.MSPointerEvent,_i=!!(window.PointerEvent||uo),ir="ontouchstart"in window||!!window.TouchEvent,gi=!window.L_NO_TOUCH&&(ir||_i),ri=Ge&&Oe,Cr=Ge&&Mi,Xs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,co=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",I,u),window.removeEventListener("testPassiveEventSupport",I,u)}catch{}return s}(),Ir=function(){return!!document.createElement("canvas").getContext}(),xr=!!(document.createElementNS&&tr("svg").createSVGRect),De=!!xr&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ll=!xr&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Pr=navigator.platform.indexOf("Mac")===0,Lr=navigator.platform.indexOf("Linux")===0;function Qn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ct={ie:er,ielt9:Qs,edge:Ar,webkit:Rr,android:il,android23:Ys,androidStock:rl,opera:Oe,chrome:Fe,gecko:Mi,safari:sl,phantom:$s,opera12:al,win:es,ie3d:nr,webkit3d:We,gecko3d:Ws,any3d:ki,mobile:Ge,mobileWebkit:lo,mobileWebkit3d:ol,msPointer:uo,pointer:_i,touch:gi,touchNative:ir,mobileOpera:ri,mobileGecko:Cr,retina:Xs,passiveEvents:co,canvas:Ir,svg:xr,vml:ll,inlineSvg:De,mac:Pr,linux:Lr},rr=Ct.msPointer?"MSPointerDown":"pointerdown",vi=Ct.msPointer?"MSPointerMove":"pointermove",Ze=Ct.msPointer?"MSPointerUp":"pointerup",Ue=Ct.msPointer?"MSPointerCancel":"pointercancel",yi={touchstart:rr,touchmove:vi,touchend:Ze,touchcancel:Ue},Or={touchstart:Ie,touchmove:bi,touchend:bi,touchcancel:bi},Ei={},Ti=!1;function ho(s,u,d){return u==="touchstart"&&Nr(),Or[u]?(d=Or[u].bind(this,d),s.addEventListener(yi[u],d,!1),d):(console.warn("wrong event specified:",u),I)}function Dr(s,u,d){if(!yi[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(yi[u],d,!1)}function ns(s){Ei[s.pointerId]=s}function wi(s){Ei[s.pointerId]&&(Ei[s.pointerId]=s)}function Vi(s){delete Ei[s.pointerId]}function Nr(){Ti||(document.addEventListener(rr,ns,!0),document.addEventListener(vi,wi,!0),document.addEventListener(Ze,Vi,!0),document.addEventListener(Ue,Vi,!0),Ti=!0)}function bi(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Ei)u.touches.push(Ei[d]);u.changedTouches=[u],s(u)}}function Ie(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&ge(u),bi(s,u)}function fo(s){var u={},d,v;for(v in s)d=s[v],u[v]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Js=200;function Yn(s,u){s.addEventListener("dblclick",u);var d=0,v;function w(A){if(A.detail!==1){v=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var V=ra(A);if(!(V.some(function(et){return et instanceof HTMLLabelElement&&et.attributes.for})&&!V.some(function(et){return et instanceof HTMLInputElement||et instanceof HTMLSelectElement}))){var Q=Date.now();Q-d<=Js?(v++,v===2&&u(fo(A))):v=1,d=Q}}}return s.addEventListener("click",w),{dblclick:u,simDblclick:w}}function Mn(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var Tn=Ui(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),is=Ui(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ta=is==="webkitTransition"||is==="OTransition"?is+"End":"transitionend";function ea(s){return typeof s=="string"?document.getElementById(s):s}function Mr(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(s,null);d=v?v[u]:null}return d==="auto"?null:d}function Zt(s,u,d){var v=document.createElement(s);return v.className=u||"",d&&d.appendChild(v),v}function ue(s){var u=s.parentNode;u&&u.removeChild(s)}function wn(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ze(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function sr(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function mo(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=si(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function Ut(s,u){if(s.classList!==void 0)for(var d=B(u),v=0,w=d.length;v<w;v++)s.classList.add(d[v]);else if(!mo(s,u)){var A=si(s);kr(s,(A?A+" ":"")+u)}}function Ee(s,u){s.classList!==void 0?s.classList.remove(u):kr(s,j((" "+si(s)+" ").replace(" "+u+" "," ")))}function kr(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function si(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function ie(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Vr(s,u)}function Vr(s,u){var d=!1,v="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+v+"(opacity="+u+")"}function Ui(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function ai(s,u,d){var v=u||new mt(0,0);s.style[Tn]=(Ct.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(d?" scale("+d+")":"")}function Dt(s,u){s._leaflet_pos=u,Ct.any3d?ai(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function $n(s){return s._leaflet_pos||new mt(0,0)}var oi,fn,po;if("onselectstart"in document)oi=function(){Nt(window,"selectstart",ge)},fn=function(){fe(window,"selectstart",ge)};else{var ar=Ui(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oi=function(){if(ar){var s=document.documentElement.style;po=s[ar],s[ar]="none"}},fn=function(){ar&&(document.documentElement.style[ar]=po,po=void 0)}}function na(){Nt(window,"dragstart",ge)}function rs(){fe(window,"dragstart",ge)}var ia,_o;function li(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(bn(),ia=s,_o=s.style.outlineStyle,s.style.outlineStyle="none",Nt(window,"keydown",bn))}function bn(){ia&&(ia.style.outlineStyle=_o,ia=void 0,_o=void 0,fe(window,"keydown",bn))}function ss(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Si(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var or={__proto__:null,TRANSFORM:Tn,TRANSITION:is,TRANSITION_END:ta,get:ea,getStyle:Mr,create:Zt,remove:ue,empty:wn,toFront:ze,toBack:sr,hasClass:mo,addClass:Ut,removeClass:Ee,setClass:kr,getClass:si,setOpacity:ie,testProp:Ui,setTransform:ai,setPosition:Dt,getPosition:$n,get disableTextSelection(){return oi},get enableTextSelection(){return fn},disableImageDrag:na,enableImageDrag:rs,preventOutline:li,restoreOutline:bn,getSizedParentNode:ss,getScale:Si};function Nt(s,u,d,v){if(u&&typeof u=="object")for(var w in u)lr(s,w,u[w],d);else{u=B(u);for(var A=0,V=u.length;A<V;A++)lr(s,u[A],d,v)}return this}var kn="_leaflet_events";function fe(s,u,d,v){if(arguments.length===1)Ur(s),delete s[kn];else if(u&&typeof u=="object")for(var w in u)ui(s,w,u[w],d);else if(u=B(u),arguments.length===2)Ur(s,function(Q){return xt(u,Q)!==-1});else for(var A=0,V=u.length;A<V;A++)ui(s,u[A],d,v);return this}function Ur(s,u){for(var d in s[kn]){var v=d.split(/\d/)[0];(!u||u(v))&&ui(s,v,null,null,d)}}var Vn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function lr(s,u,d,v){var w=u+y(d)+(v?"_"+y(v):"");if(s[kn]&&s[kn][w])return this;var A=function(Q){return d.call(v||s,Q||window.event)},V=A;!Ct.touchNative&&Ct.pointer&&u.indexOf("touch")===0?A=ho(s,u,A):Ct.touch&&u==="dblclick"?A=Yn(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Vn[u]||u,A,Ct.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(Q){Q=Q||window.event,cr(s,Q)&&V(Q)},s.addEventListener(Vn[u],A,!1)):s.addEventListener(u,V,!1):s.attachEvent("on"+u,A),s[kn]=s[kn]||{},s[kn][w]=A}function ui(s,u,d,v,w){w=w||u+y(d)+(v?"_"+y(v):"");var A=s[kn]&&s[kn][w];if(!A)return this;!Ct.touchNative&&Ct.pointer&&u.indexOf("touch")===0?Dr(s,u,A):Ct.touch&&u==="dblclick"?Mn(s,A):"removeEventListener"in s?s.removeEventListener(Vn[u]||u,A,!1):s.detachEvent("on"+u,A),s[kn][w]=null}function Un(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ai(s){return lr(s,"wheel",Un),this}function ur(s){return Nt(s,"mousedown touchstart dblclick contextmenu",Un),s._leaflet_disable_click=!0,this}function ge(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function dn(s){return ge(s),Un(s),this}function ra(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function Ke(s,u){if(!u)return new mt(s.clientX,s.clientY);var d=Si(u),v=d.boundingClientRect;return new mt((s.clientX-v.left)/d.x-u.clientLeft,(s.clientY-v.top)/d.y-u.clientTop)}var ce=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function as(s){return Ct.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/ce:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function cr(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var ul={__proto__:null,on:Nt,off:fe,stopPropagation:Un,disableScrollPropagation:Ai,disableClickPropagation:ur,preventDefault:ge,stop:dn,getPropagationPath:ra,getMousePosition:Ke,getWheelDelta:as,isExternalTarget:cr,addListener:Nt,removeListener:fe},os=Lt.extend({run:function(s,u,d,v){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=$n(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),Dt(this._el,d),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Kt=Lt.extend({options:{crs:Dn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=X(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(yt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=is&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Nt(this._proxy,ta,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(yt(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var v=this.getZoomScale(u),w=this.getSize().divideBy(2),A=s instanceof mt?s:this.latLngToContainerPoint(s),V=A.subtract(w).multiplyBy(1-1/v),Q=this.containerPointToLatLng(w.add(V));return this.setView(Q,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():_t(s);var d=k(u.paddingTopLeft||u.padding||[0,0]),v=k(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(s,!1,d.add(v));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var A=v.subtract(d).divideBy(2),V=this.project(s.getSouthWest(),w),Q=this.project(s.getNorthEast(),w),et=this.unproject(V.add(Q).divideBy(2).add(A),w);return{center:et,zoom:w}},fitBounds:function(s,u){if(s=_t(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=k(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new os,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ut(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!Ct.any3d)return this.setView(s,u,d);this._stop();var v=this.project(this.getCenter()),w=this.project(s),A=this.getSize(),V=this._zoom;s=yt(s),u=u===void 0?V:u;var Q=Math.max(A.x,A.y),et=Q*this.getZoomScale(V,u),ut=w.distanceTo(v)||1,Tt=1.42,Mt=Tt*Tt;function Ht(Se){var ys=Se?-1:1,Lo=Se?et:Q,El=et*et-Q*Q+ys*Mt*Mt*ut*ut,Jc=2*Lo*Mt*ut,Tl=El/Jc,Hr=Math.sqrt(Tl*Tl+1)-Tl,th=Hr<1e-9?-18:Math.log(Hr);return th}function Qe(Se){return(Math.exp(Se)-Math.exp(-Se))/2}function Pe(Se){return(Math.exp(Se)+Math.exp(-Se))/2}function _n(Se){return Qe(Se)/Pe(Se)}var Sn=Ht(0);function jr(Se){return Q*(Pe(Sn)/Pe(Sn+Tt*Se))}function $c(Se){return Q*(Pe(Sn)*_n(Sn+Tt*Se)-Qe(Sn))/Mt}function yl(Se){return 1-Math.pow(1-Se,1.5)}var Wc=Date.now(),Ea=(Ht(1)-Sn)/Tt,Xc=d.duration?1e3*d.duration:1e3*Ea*.8;function vs(){var Se=(Date.now()-Wc)/Xc,ys=yl(Se)*Ea;Se<=1?(this._flyToFrame=H(vs,this),this._move(this.unproject(v.add(w.subtract(v).multiplyBy($c(ys)/ut)),V),this.getScaleZoom(Q/jr(ys),V),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),vs.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=_t(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),v=this._limitCenter(d,this._zoom,_t(s));return d.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=k(u.paddingTopLeft||u.padding||[0,0]),v=k(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),A=this.project(s),V=this.getPixelBounds(),Q=Et([V.min.add(d),V.max.subtract(v)]),et=Q.getSize();if(!Q.contains(A)){this._enforcingBounds=!0;var ut=A.subtract(Q.getCenter()),Tt=Q.extend(A).getSize().subtract(et);w.x+=ut.x<0?-Tt.x:Tt.x,w.y+=ut.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),v=u.divideBy(2).round(),w=d.divideBy(2).round(),A=v.subtract(w);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,v=new wt(u,d),w=v.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var V=this.getBoundsZoom(w);this.setView(v,A.maxZoom?Math.min(V,A.maxZoom):V)}var Q={latlng:v,bounds:w,timestamp:s.timestamp};for(var et in s.coords)typeof s.coords[et]=="number"&&(Q[et]=s.coords[et]);this.fire("locationfound",Q)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ue(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ue(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),v=Zt("div",d,u||this._mapPane);return s&&(this._panes[s]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new vt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=_t(s),d=k(d||[0,0]);var v=this.getZoom()||0,w=this.getMinZoom(),A=this.getMaxZoom(),V=s.getNorthWest(),Q=s.getSouthEast(),et=this.getSize().subtract(d),ut=Et(this.project(Q,v),this.project(V,v)).getSize(),Tt=Ct.any3d?this.options.zoomSnap:1,Mt=et.x/ut.x,Ht=et.y/ut.y,Qe=u?Math.max(Mt,Ht):Math.min(Mt,Ht);return v=this.getScaleZoom(Qe,v),Tt&&(v=Math.round(v/(Tt/100))*(Tt/100),v=u?Math.ceil(v/Tt)*Tt:Math.floor(v/Tt)*Tt),Math.max(w,Math.min(A,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new mt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new at(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var v=d.zoom(s*d.scale(u));return isNaN(v)?1/0:v},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(yt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(k(s),u)},layerPointToLatLng:function(s){var u=k(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(yt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(yt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(_t(s))},distance:function(s,u){return this.options.crs.distance(yt(s),yt(u))},containerPointToLayerPoint:function(s){return k(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return k(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(k(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(yt(s)))},mouseEventToContainerPoint:function(s){return Ke(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=ea(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Nt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,Ut(s,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Mr(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dt(this._mapPane,new mt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ut(s.markerPane,"leaflet-zoom-hide"),Ut(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){Dt(this._mapPane,new mt(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,d)._move(s,u)._moveEnd(w),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,v){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),v?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Dt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[y(this._container)]=this;var u=s?fe:Nt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],v,w=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,V=!1;A;){if(v=this._targets[y(A)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){V=!0;break}if(v&&v.listens(u,!0)&&(w&&!cr(A,s)||(d.push(v),w))||A===this._container)break;A=A.parentNode}return!d.length&&!V&&!w&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&li(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var v=l({},s);v.type="preclick",this._fireDOMEvent(v,v.type,d)}var w=this._findEventTargets(s,u);if(d){for(var A=[],V=0;V<d.length;V++)d[V].listens(u,!0)&&A.push(d[V]);w=A.concat(w)}if(w.length){u==="contextmenu"&&ge(s);var Q=w[0],et={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ut=Q.getLatLng&&(!Q._radius||Q._radius<=10);et.containerPoint=ut?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(s),et.layerPoint=this.containerPointToLayerPoint(et.containerPoint),et.latlng=ut?Q.getLatLng():this.layerPointToLatLng(et.layerPoint)}for(V=0;V<w.length;V++)if(w[V].fire(u,et,!0),et.originalEvent._stopped||w[V].options.bubblingMouseEvents===!1&&xt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return $n(this._mapPane)||new mt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var v=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(s,u,d){var v=this._getNewPixelOrigin(d,u);return Et([this.project(s.getSouthWest(),u)._subtract(v),this.project(s.getNorthWest(),u)._subtract(v),this.project(s.getSouthEast(),u)._subtract(v),this.project(s.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var v=this.project(s,u),w=this.getSize().divideBy(2),A=new at(v.subtract(w),v.add(w)),V=this._getBoundsOffset(A,d,u);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?s:this.unproject(v.add(V),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),v=new at(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(s,u,d){var v=Et(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),w=v.min.subtract(s.min),A=v.max.subtract(s.max),V=this._rebound(w.x,-A.x),Q=this._rebound(w.y,-A.y);return new mt(V,Q)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),v=Ct.any3d?this.options.zoomSnap:1;return v&&(s=Math.round(s/v)*v),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Zt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=Tn,v=this._proxy.style[d];ai(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ue(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();ai(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),w=this._getCenterOffset(s)._divideBy(1-1/v);return d.animate!==!0&&!this.getSize().contains(w)?!1:(H(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,v){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function zi(s,u){return new Kt(s,u)}var an=_e.extend({options:{position:"topright"},initialize:function(s){X(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),v=s._controlCorners[d];return Ut(u,"leaflet-control"),d.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ue(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),mn=function(s){return new an(s)};Kt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Zt("div",u+"control-container",this._container);function v(w,A){var V=u+w+" "+u+A;s[w+A]=Zt("div",V,d)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ue(this._controlCorners[s]);ue(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var go=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,v){return d<v?-1:v<d?1:0}},initialize:function(s,u,d){X(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in s)this._addLayer(s[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return an.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Zt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ur(u),Ai(u);var v=this._section=Zt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Nt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Zt("a",s+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Nt(w,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){ge(A),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Zt("div",s+"-base",v),this._separator=Zt("div",s+"-separator",v),this._overlaysList=Zt("div",s+"-overlays",v),u.appendChild(v)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(v,w){return this.options.sortFunction(v.layer,w.layer,v.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wn(this._baseLayersList),wn(this._overlaysList),this._layerControlInputs=[];var s,u,d,v,w=0;for(d=0;d<this._layers.length;d++)v=this._layers[d],this._addItem(v),u=u||v.overlay,s=s||!v.overlay,w+=v.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(y(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=d,v.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),v;s.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=d):v=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(v),v.layerId=y(s.layer),Nt(v,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(v),A.appendChild(w);var V=s.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,v=[],w=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],d=this._getLayer(u.layerId).layer,u.checked?v.push(d):u.checked||w.push(d);for(A=0;A<w.length;A++)this._map.hasLayer(w[A])&&this._map.removeLayer(w[A]);for(A=0;A<v.length;A++)this._map.hasLayer(v[A])||this._map.addLayer(v[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,v=this._map.getZoom(),w=s.length-1;w>=0;w--)u=s[w],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&v<d.options.minZoom||d.options.maxZoom!==void 0&&v>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Nt(s,"click",ge),this.expand();var u=this;setTimeout(function(){fe(s,"click",ge),u._preventClick=!1})}}),_u=function(s,u,d){return new go(s,u,d)},hr=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Zt("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,v,w){var A=Zt("a",d,v);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),ur(A),Nt(A,"click",dn),Nt(A,"click",w,this),Nt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";Ee(this._zoomInButton,u),Ee(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ut(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ut(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kt.mergeOptions({zoomControl:!0}),Kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new hr,this.addControl(this.zoomControl))});var sa=function(s){return new hr(s)},aa=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Zt("div",u),v=this.options;return this._addScales(v,u+"-line",d),s.on(v.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Zt("div",u,d)),s.imperial&&(this._iScale=Zt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,v,w;u>5280?(d=u/5280,v=this._getRoundNum(d),this._updateScale(this._iScale,v+" mi",v/d)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),oa=function(s){return new aa(s)},cl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zr=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?cl+" ":"")+"Leaflet</a>"},initialize:function(s){X(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Zt("div","leaflet-control-attribution"),ur(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Kt.mergeOptions({attributionControl:!0}),Kt.addInitHook(function(){this.options.attributionControl&&new zr().addTo(this)});var gu=function(s){return new zr(s)};an.Layers=go,an.Zoom=hr,an.Scale=aa,an.Attribution=zr,mn.layers=_u,mn.zoom=sa,mn.scale=oa,mn.attribution=gu;var zn=_e.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zn.addTo=function(s,u){return s.addHandler(u,this),this};var ls={Events:pt},vo=Ct.touch?"touchstart mousedown":"mousedown",Ri=Lt.extend({options:{clickTolerance:3},initialize:function(s,u,d,v){X(this,v),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Nt(this._dragStartTarget,vo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ri._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,vo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!mo(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ri._dragging===this&&this.finishDrag();return}if(!(Ri._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ri._dragging=this,this._preventOutline&&li(this._element),na(),oi(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=ss(this._element);this._startPoint=new mt(u.clientX,u.clientY),this._startPos=$n(this._element),this._parentScale=Si(d);var v=s.type==="mousedown";Nt(document,v?"mousemove":"touchmove",this._onMove,this),Nt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new mt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,ge(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ut(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Dt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Ee(document.body,"leaflet-dragging"),this._lastTarget&&(Ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),rs(),fn();var u=this._moved&&this._moving;this._moving=!1,Ri._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function la(s,u,d){var v,w=[1,4,2,8],A,V,Q,et,ut,Tt,Mt,Ht;for(A=0,Tt=s.length;A<Tt;A++)s[A]._code=Bi(s[A],u);for(Q=0;Q<4;Q++){for(Mt=w[Q],v=[],A=0,Tt=s.length,V=Tt-1;A<Tt;V=A++)et=s[A],ut=s[V],et._code&Mt?ut._code&Mt||(Ht=Xe(ut,et,Mt,u,d),Ht._code=Bi(Ht,u),v.push(Ht)):(ut._code&Mt&&(Ht=Xe(ut,et,Mt,u,d),Ht._code=Bi(Ht,u),v.push(Ht)),v.push(et));s=v}return s}function Br(s,u){var d,v,w,A,V,Q,et,ut,Tt;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Mt=yt([0,0]),Ht=_t(s),Qe=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());Qe<1700&&(Mt=ua(s));var Pe=s.length,_n=[];for(d=0;d<Pe;d++){var Sn=yt(s[d]);_n.push(u.project(yt([Sn.lat-Mt.lat,Sn.lng-Mt.lng])))}for(Q=et=ut=0,d=0,v=Pe-1;d<Pe;v=d++)w=_n[d],A=_n[v],V=w.y*A.x-A.y*w.x,et+=(w.x+A.x)*V,ut+=(w.y+A.y)*V,Q+=V*3;Q===0?Tt=_n[0]:Tt=[et/Q,ut/Q];var jr=u.unproject(k(Tt));return yt([jr.lat+Mt.lat,jr.lng+Mt.lng])}function ua(s){for(var u=0,d=0,v=0,w=0;w<s.length;w++){var A=yt(s[w]);u+=A.lat,d+=A.lng,v++}return yt([u/v,d/v])}var ca={__proto__:null,clipPolygon:la,polygonCenter:Br,centroid:ua};function yo(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=fl(s,d),s=hl(s,d),s}function ha(s,u,d){return Math.sqrt(Bn(s,u,d,!0))}function fr(s,u,d){return Bn(s,u,d)}function hl(s,u){var d=s.length,v=typeof Uint8Array<"u"?Uint8Array:Array,w=new v(d);w[0]=w[d-1]=1,fa(s,w,u,0,d-1);var A,V=[];for(A=0;A<d;A++)w[A]&&V.push(s[A]);return V}function fa(s,u,d,v,w){var A=0,V,Q,et;for(Q=v+1;Q<=w-1;Q++)et=Bn(s[Q],s[v],s[w],!0),et>A&&(V=Q,A=et);A>d&&(u[V]=1,fa(s,u,d,v,V),fa(s,u,d,V,w))}function fl(s,u){for(var d=[s[0]],v=1,w=0,A=s.length;v<A;v++)dl(s[v],s[w])>u&&(d.push(s[v]),w=v);return w<A-1&&d.push(s[A-1]),d}var Eo;function us(s,u,d,v,w){var A=v?Eo:Bi(s,d),V=Bi(u,d),Q,et,ut;for(Eo=V;;){if(!(A|V))return[s,u];if(A&V)return!1;Q=A||V,et=Xe(s,u,Q,d,w),ut=Bi(et,d),Q===A?(s=et,A=ut):(u=et,V=ut)}}function Xe(s,u,d,v,w){var A=u.x-s.x,V=u.y-s.y,Q=v.min,et=v.max,ut,Tt;return d&8?(ut=s.x+A*(et.y-s.y)/V,Tt=et.y):d&4?(ut=s.x+A*(Q.y-s.y)/V,Tt=Q.y):d&2?(ut=et.x,Tt=s.y+V*(et.x-s.x)/A):d&1&&(ut=Q.x,Tt=s.y+V*(Q.x-s.x)/A),new mt(ut,Tt,w)}function Bi(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function dl(s,u){var d=u.x-s.x,v=u.y-s.y;return d*d+v*v}function Bn(s,u,d,v){var w=u.x,A=u.y,V=d.x-w,Q=d.y-A,et=V*V+Q*Q,ut;return et>0&&(ut=((s.x-w)*V+(s.y-A)*Q)/et,ut>1?(w=d.x,A=d.y):ut>0&&(w+=V*ut,A+=Q*ut)),V=s.x-w,Q=s.y-A,v?V*V+Q*Q:new mt(w,A)}function f(s){return!ot(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function T(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(s)}function b(s,u){var d,v,w,A,V,Q,et,ut;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Tt=yt([0,0]),Mt=_t(s),Ht=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());Ht<1700&&(Tt=ua(s));var Qe=s.length,Pe=[];for(d=0;d<Qe;d++){var _n=yt(s[d]);Pe.push(u.project(yt([_n.lat-Tt.lat,_n.lng-Tt.lng])))}for(d=0,v=0;d<Qe-1;d++)v+=Pe[d].distanceTo(Pe[d+1])/2;if(v===0)ut=Pe[0];else for(d=0,A=0;d<Qe-1;d++)if(V=Pe[d],Q=Pe[d+1],w=V.distanceTo(Q),A+=w,A>v){et=(A-v)/w,ut=[Q.x-et*(Q.x-V.x),Q.y-et*(Q.y-V.y)];break}var Sn=u.unproject(k(ut));return yt([Sn.lat+Tt.lat,Sn.lng+Tt.lng])}var x={__proto__:null,simplify:yo,pointToSegmentDistance:ha,closestPointOnSegment:fr,clipSegment:us,_getEdgeIntersection:Xe,_getBitCode:Bi,_sqClosestPointOnSegment:Bn,isFlat:f,_flat:T,polylineCenter:b},$={project:function(s){return new mt(s.lng,s.lat)},unproject:function(s){return new wt(s.y,s.x)},bounds:new at([-180,-90],[180,90])},nt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new at([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,v=s.lat*u,w=this.R_MINOR/d,A=Math.sqrt(1-w*w),V=A*Math.sin(v),Q=Math.tan(Math.PI/4-v/2)/Math.pow((1-V)/(1+V),A/2);return v=-d*Math.log(Math.max(Q,1e-10)),new mt(s.lng*u*d,v)},unproject:function(s){for(var u=180/Math.PI,d=this.R,v=this.R_MINOR/d,w=Math.sqrt(1-v*v),A=Math.exp(-s.y/d),V=Math.PI/2-2*Math.atan(A),Q=0,et=.1,ut;Q<15&&Math.abs(et)>1e-7;Q++)ut=w*Math.sin(V),ut=Math.pow((1-ut)/(1+ut),w/2),et=Math.PI/2-2*Math.atan(A*ut)-V,V+=et;return new wt(V*u,s.x*u/d)}},gt={__proto__:null,LonLat:$,Mercator:nt,SphericalMercator:le},Jt=l({},Gt,{code:"EPSG:3395",projection:nt,transformation:function(){var s=.5/(Math.PI*nt.R);return Kn(s,.5,-s,.5)}()}),Be=l({},Gt,{code:"EPSG:4326",projection:$,transformation:Kn(1/180,1,-1/180,.5)}),te=l({},de,{projection:$,transformation:Kn(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,v=u.lat-s.lat;return Math.sqrt(d*d+v*v)},infinite:!0});de.Earth=Gt,de.EPSG3395=Jt,de.EPSG3857=Dn,de.EPSG900913=Sr,de.EPSG4326=Be,de.Simple=te;var me=Lt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[y(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[y(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Kt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=y(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return y(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?ot(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[y(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=y(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var v in this._zoomBoundLayers){var w=this._zoomBoundLayers[v].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var be=me.extend({initialize:function(s,u){X(this,u),this._layers={};var d,v;if(s)for(d=0,v=s.length;d<v;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,v;for(d in this._layers)v=this._layers[d],v[s]&&v[s].apply(v,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return y(s)}}),dr=function(s,u){return new be(s,u)},Te=be.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),be.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),be.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new vt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),ji=function(s,u){return new Te(s,u)},Hi=_e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){X(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(s,u){var d=this.options,v=d[u+"Size"];typeof v=="number"&&(v=[v,v]);var w=k(v),A=k(u==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Ct.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ml(s){return new Hi(s)}var da=Hi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof da.imagePath!="string"&&(da.imagePath=this._detectIconPath()),(this.options.imagePath||da.imagePath)+Hi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,v,w){var A=v.exec(d);return A&&A[w]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Zt("div","leaflet-default-icon-path",document.body),u=Mr(s,"background-image")||Mr(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),vu=zn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ri(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ut(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,v=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,A=$n(u._icon),V=d.getPixelBounds(),Q=d.getPixelOrigin(),et=Et(V.min._subtract(Q).add(w),V.max._subtract(Q).subtract(w));if(!et.contains(A)){var ut=k((Math.max(et.max.x,A.x)-et.max.x)/(V.max.x-et.max.x)-(Math.min(et.min.x,A.x)-et.min.x)/(V.min.x-et.min.x),(Math.max(et.max.y,A.y)-et.max.y)/(V.max.y-et.max.y)-(Math.min(et.min.y,A.y)-et.min.y)/(V.min.y-et.min.y)).multiplyBy(v);d.panBy(ut,{animate:!1}),this._draggable._newPos._add(ut),this._draggable._startPos._add(ut),Dt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=H(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,v=$n(u._icon),w=u._map.layerPointToLatLng(v);d&&Dt(d,v),u._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ma=me.extend({options:{icon:new da,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){X(this,u),this._latlng=yt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=yt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),v=!1;d!==this._icon&&(this._icon&&this._removeIcon(),v=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),Ut(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(d,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),A=!1;w!==this._shadow&&(this._removeShadow(),A=!0),w&&(Ut(w,u),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),ue(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ue(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Dt(this._icon,s),this._shadow&&Dt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&ie(this._icon,s),this._shadow&&ie(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?k(u.iconSize):k(0,0),v=u.iconAnchor?k(u.iconAnchor):k(0,0);s.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:d.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yu(s,u){return new ma(s,u)}var mr=me.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return X(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),To=mr.extend({options:{fill:!0,radius:10},initialize:function(s,u){X(this,u),this._latlng=yt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=yt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return mr.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),v=[s+d,u+d];this._pxBounds=new at(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fc(s,u){return new To(s,u)}var Eu=To.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),X(this,u),this._latlng=yt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new vt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:mr.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,v=d.options.crs;if(v.distance===Gt.distance){var w=Math.PI/180,A=this._mRadius/Gt.R/w,V=d.project([u+A,s]),Q=d.project([u-A,s]),et=V.add(Q).divideBy(2),ut=d.unproject(et).lat,Tt=Math.acos((Math.cos(A*w)-Math.sin(u*w)*Math.sin(ut*w))/(Math.cos(u*w)*Math.cos(ut*w)))/w;(isNaN(Tt)||Tt===0)&&(Tt=A/Math.cos(Math.PI/180*u)),this._point=et.subtract(d.getPixelOrigin()),this._radius=isNaN(Tt)?0:et.x-d.project([ut,s-Tt]).x,this._radiusY=et.y-V.y}else{var Mt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Mt).x}this._updateBounds()}});function ed(s,u,d){return new Eu(s,u,d)}var pr=mr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){X(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,v=Bn,w,A,V=0,Q=this._parts.length;V<Q;V++)for(var et=this._parts[V],ut=1,Tt=et.length;ut<Tt;ut++){w=et[ut-1],A=et[ut];var Mt=v(s,w,A,!0);Mt<u&&(u=Mt,d=v(s,w,A))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return b(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=yt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new vt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=f(s),v=0,w=s.length;v<w;v++)d?(u[v]=yt(s[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(s[v]);return u},_project:function(){var s=new at;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new mt(s,s);this._rawPxBounds&&(this._pxBounds=new at([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var v=s[0]instanceof wt,w=s.length,A,V;if(v){for(V=[],A=0;A<w;A++)V[A]=this._map.latLngToLayerPoint(s[A]),d.extend(V[A]);u.push(V)}else for(A=0;A<w;A++)this._projectLatlngs(s[A],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,v,w,A,V,Q,et;for(d=0,w=0,A=this._rings.length;d<A;d++)for(et=this._rings[d],v=0,V=et.length;v<V-1;v++)Q=us(et[v],et[v+1],s,v,!0),Q&&(u[w]=u[w]||[],u[w].push(Q[0]),(Q[1]!==et[v+1]||v===V-2)&&(u[w].push(Q[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,v=s.length;d<v;d++)s[d]=yo(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,v,w,A,V,Q,et=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,A=this._parts.length;d<A;d++)for(Q=this._parts[d],v=0,V=Q.length,w=V-1;v<V;w=v++)if(!(!u&&v===0)&&ha(s,Q[w],Q[v])<=et)return!0;return!1}});function nd(s,u){return new pr(s,u)}pr._flat=T;var pa=pr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Br(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=pr.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof wt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){pr.prototype._setLatLngs.call(this,s),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new mt(u,u);if(s=new at(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,w=this._rings.length,A;v<w;v++)A=la(this._rings[v],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,v,w,A,V,Q,et,ut;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,et=this._parts.length;A<et;A++)for(d=this._parts[A],V=0,ut=d.length,Q=ut-1;V<ut;Q=V++)v=d[V],w=d[Q],v.y>s.y!=w.y>s.y&&s.x<(w.x-v.x)*(s.y-v.y)/(w.y-v.y)+v.x&&(u=!u);return u||pr.prototype._containsPoint.call(this,s,!0)}});function Wn(s,u){return new pa(s,u)}var Xn=Te.extend({initialize:function(s,u){X(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=ot(s)?s:s.features,d,v,w;if(u){for(d=0,v=u.length;d<v;d++)w=u[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var V=wo(s,A);return V?(V.feature=_r(s),V.defaultOptions=V.options,this.resetStyle(V),A.onEachFeature&&A.onEachFeature(s,V),this.addLayer(V)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function wo(s,u){var d=s.type==="Feature"?s.geometry:s,v=d?d.coordinates:null,w=[],A=u&&u.pointToLayer,V=u&&u.coordsToLatLng||pl,Q,et,ut,Tt;if(!v&&!d)return null;switch(d.type){case"Point":return Q=V(v),Tu(A,s,Q,u);case"MultiPoint":for(ut=0,Tt=v.length;ut<Tt;ut++)Q=V(v[ut]),w.push(Tu(A,s,Q,u));return new Te(w);case"LineString":case"MultiLineString":return et=bo(v,d.type==="LineString"?0:1,V),new pr(et,u);case"Polygon":case"MultiPolygon":return et=bo(v,d.type==="Polygon"?1:2,V),new pa(et,u);case"GeometryCollection":for(ut=0,Tt=d.geometries.length;ut<Tt;ut++){var Mt=wo({geometry:d.geometries[ut],type:"Feature",properties:s.properties},u);Mt&&w.push(Mt)}return new Te(w);case"FeatureCollection":for(ut=0,Tt=d.features.length;ut<Tt;ut++){var Ht=wo(d.features[ut],u);Ht&&w.push(Ht)}return new Te(w);default:throw new Error("Invalid GeoJSON object.")}}function Tu(s,u,d,v){return s?s(u,d):new ma(d,v&&v.markersInheritOptions&&v)}function pl(s){return new wt(s[1],s[0],s[2])}function bo(s,u,d){for(var v=[],w=0,A=s.length,V;w<A;w++)V=u?bo(s[w],u-1,d):(d||pl)(s[w]),v.push(V);return v}function So(s,u){return s=yt(s),s.alt!==void 0?[O(s.lng,u),O(s.lat,u),O(s.alt,u)]:[O(s.lng,u),O(s.lat,u)]}function _l(s,u,d,v){for(var w=[],A=0,V=s.length;A<V;A++)w.push(u?_l(s[A],f(s[A])?0:u-1,d,v):So(s[A],v));return!u&&d&&w.length>0&&w.push(w[0].slice()),w}function _a(s,u){return s.feature?l({},s.feature,{geometry:u}):_r(u)}function _r(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ao={toGeoJSON:function(s){return _a(this,{type:"Point",coordinates:So(this.getLatLng(),s)})}};ma.include(Ao),Eu.include(Ao),To.include(Ao),pr.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=_l(this._latlngs,u?1:0,!1,s);return _a(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),pa.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=u&&!f(this._latlngs[0]),v=_l(this._latlngs,d?2:u?1:0,!0,s);return u||(v=[v]),_a(this,{type:(d?"Multi":"")+"Polygon",coordinates:v})}}),be.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),_a(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",v=[];return this.eachLayer(function(w){if(w.toGeoJSON){var A=w.toGeoJSON(s);if(d)v.push(A.geometry);else{var V=_r(A);V.type==="FeatureCollection"?v.push.apply(v,V.features):v.push(V)}}}),d?_a(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function ga(s,u){return new Xn(s,u)}var wu=ga,Ro=me.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=_t(u),X(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ue(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ze(this._image),this},bringToBack:function(){return this._map&&sr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=_t(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Zt("img");if(Ut(u,"leaflet-image-layer"),this._zoomAnimated&&Ut(u,"leaflet-zoom-animated"),this.options.className&&Ut(u,this.options.className),u.onselectstart=I,u.onmousemove=I,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;ai(this._image,d,u)},_reset:function(){var s=this._image,u=new at(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Dt(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),cs=function(s,u,d){return new Ro(s,u,d)},hs=Ro.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Zt("video");if(Ut(u,"leaflet-image-layer"),this._zoomAnimated&&Ut(u,"leaflet-zoom-animated"),this.options.className&&Ut(u,this.options.className),u.onselectstart=I,u.onmousemove=I,u.onloadeddata=p(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),v=[],w=0;w<d.length;w++)v.push(d[w].src);this._url=d.length>0?v:[u.src];return}ot(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var V=Zt("source");V.src=this._url[A],u.appendChild(V)}}});function bu(s,u,d){return new hs(s,u,d)}var Su=Ro.extend({_initImage:function(){var s=this._image=this._url;Ut(s,"leaflet-image-layer"),this._zoomAnimated&&Ut(s,"leaflet-zoom-animated"),this.options.className&&Ut(s,this.options.className),s.onselectstart=I,s.onmousemove=I}});function fs(s,u,d){return new Su(s,u,d)}var Ci=me.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof wt||ot(s))?(this._latlng=yt(s),X(this,u)):(X(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&ie(this._container,1),this.bringToFront(),this.options.interactive&&(Ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(ie(this._container,0),this._removeTimeout=setTimeout(p(ue,void 0,this._container),200)):ue(this._container),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=yt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ze(this._container),this},bringToBack:function(){return this._map&&sr(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Te){u=null;var d=this._source._layers;for(var v in d)if(d[v]._map){u=d[v];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=k(this.options.offset),d=this._getAnchor();this._zoomAnimated?Dt(this._container,s.add(d)):u=u.add(s).add(d);var v=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Kt.include({_initOverlay:function(s,u,d,v){var w=u;return w instanceof s||(w=new s(v).setContent(u)),d&&w.setLatLng(d),w}}),me.include({_initOverlay:function(s,u,d,v){var w=d;return w instanceof s?(X(w,v),w._source=this):(w=u&&!v?u:new s(v,this),w.setContent(d)),w}});var Co=Ci.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Ci.prototype.openOn.call(this,s)},onAdd:function(s){Ci.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mr||this._source.on("preclick",Un))},onRemove:function(s){Ci.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mr||this._source.off("preclick",Un))},getEvents:function(){var s=Ci.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Zt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Zt("div",s+"-content-wrapper",u);if(this._contentNode=Zt("div",s+"-content",d),ur(u),Ai(this._contentNode),Nt(u,"contextmenu",Un),this._tipContainer=Zt("div",s+"-tip-container",u),this._tip=Zt("div",s+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Zt("a",s+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Nt(v,"click",function(w){ge(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var v=s.offsetHeight,w=this.options.maxHeight,A="leaflet-popup-scrolled";w&&v>w?(u.height=w+"px",Ut(s,A)):Ee(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();Dt(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Mr(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,v=this._containerWidth,w=new mt(this._containerLeft,-d-this._containerBottom);w._add($n(this._container));var A=s.layerPointToContainerPoint(w),V=k(this.options.autoPanPadding),Q=k(this.options.autoPanPaddingTopLeft||V),et=k(this.options.autoPanPaddingBottomRight||V),ut=s.getSize(),Tt=0,Mt=0;A.x+v+et.x>ut.x&&(Tt=A.x+v-ut.x+et.x),A.x-Tt-Q.x<0&&(Tt=A.x-Q.x),A.y+d+et.y>ut.y&&(Mt=A.y+d-ut.y+et.y),A.y-Mt-Q.y<0&&(Mt=A.y-Q.y),(Tt||Mt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Tt,Mt]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gc=function(s,u){return new Co(s,u)};Kt.mergeOptions({closePopupOnClick:!0}),Kt.include({openPopup:function(s,u,d){return this._initOverlay(Co,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),me.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Co,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Te||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){dn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof mr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var gl=Ci.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Ci.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Ci.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Ci.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Zt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,v=this._map,w=this._container,A=v.latLngToContainerPoint(v.getCenter()),V=v.layerPointToContainerPoint(s),Q=this.options.direction,et=w.offsetWidth,ut=w.offsetHeight,Tt=k(this.options.offset),Mt=this._getAnchor();Q==="top"?(u=et/2,d=ut):Q==="bottom"?(u=et/2,d=0):Q==="center"?(u=et/2,d=ut/2):Q==="right"?(u=0,d=ut/2):Q==="left"?(u=et,d=ut/2):V.x<A.x?(Q="right",u=0,d=ut/2):(Q="left",u=et+(Tt.x+Mt.x)*2,d=ut/2),s=s.subtract(k(u,d,!0)).add(Tt).add(Mt),Ee(w,"leaflet-tooltip-right"),Ee(w,"leaflet-tooltip-left"),Ee(w,"leaflet-tooltip-top"),Ee(w,"leaflet-tooltip-bottom"),Ut(w,"leaflet-tooltip-"+Q),Dt(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&ie(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),id=function(s,u){return new gl(s,u)};Kt.include({openTooltip:function(s,u,d){return this._initOverlay(gl,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),me.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gl,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Te||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Nt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Nt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,v;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),v=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var Zc=Hi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(wn(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var v=k(d.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Kc(s){return new Zc(s)}Hi.Default=da;var va=me.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){X(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ue(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ze(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(sr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof mt?s:new mt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),v=0,w=u.length,A;v<w;v++)A=u[v].style.zIndex,u[v]!==this._container&&A&&(d=s(d,+A));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){ie(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var v in this._tiles){var w=this._tiles[v];if(!(!w.current||!w.loaded)){var A=Math.min(1,(s-w.loaded)/200);ie(w.el,A),A<1?u=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(K(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=Zt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(ue(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var v=this._levels[s],w=this._map;return v||(v=this._levels[s]={},v.el=Zt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),v.zoom=s,this._setZoomTransform(v,w.getCenter(),w.getZoom()),I(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ue(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,v){var w=Math.floor(s/2),A=Math.floor(u/2),V=d-1,Q=new mt(+w,+A);Q.z=+V;var et=this._tileCoordsToKey(Q),ut=this._tiles[et];return ut&&ut.active?(ut.retain=!0,!0):(ut&&ut.loaded&&(ut.retain=!0),V>v?this._retainParent(w,A,V,v):!1)},_retainChildren:function(s,u,d,v){for(var w=2*s;w<2*s+2;w++)for(var A=2*u;A<2*u+2;A++){var V=new mt(w,A);V.z=d+1;var Q=this._tileCoordsToKey(V),et=this._tiles[Q];if(et&&et.active){et.retain=!0;continue}else et&&et.loaded&&(et.retain=!0);d+1<v&&this._retainChildren(w,A,d+1,v)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,v){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var A=this.options.updateWhenZooming&&w!==this._tileZoom;(!v||A)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var v=this._map.getZoomScale(d,s.zoom),w=s.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,d)).round();Ct.any3d?ai(s.el,w,v):Dt(s.el,w)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),v=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],v).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],v).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],v).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],v).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(d,this._tileZoom),w=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(v*2);return new at(w.subtract(A),w.add(A))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(v),A=w.getCenter(),V=[],Q=this.options.keepBuffer,et=new at(w.getBottomLeft().subtract([Q,-Q]),w.getTopRight().add([Q,-Q]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ut in this._tiles){var Tt=this._tiles[ut].coords;(Tt.z!==this._tileZoom||!et.contains(new mt(Tt.x,Tt.y)))&&(this._tiles[ut].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Mt=w.min.y;Mt<=w.max.y;Mt++)for(var Ht=w.min.x;Ht<=w.max.x;Ht++){var Qe=new mt(Ht,Mt);if(Qe.z=this._tileZoom,!!this._isValidTile(Qe)){var Pe=this._tiles[this._tileCoordsToKey(Qe)];Pe?Pe.current=!0:V.push(Qe)}}if(V.sort(function(Sn,jr){return Sn.distanceTo(A)-jr.distanceTo(A)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _n=document.createDocumentFragment();for(Ht=0;Ht<V.length;Ht++)this._addTile(V[Ht],_n);this._level.el.appendChild(_n)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(s);return _t(this.options.bounds).overlaps(v)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),v=s.scaleBy(d),w=v.add(d),A=u.unproject(v,s.z),V=u.unproject(w,s.z);return[A,V]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new vt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new mt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(ue(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ut(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=I,s.onmousemove=I,Ct.ielt9&&this.options.opacity<1&&ie(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),v=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&H(p(this._tileReady,this,s,null,w)),Dt(w,d),this._tiles[v]={el:w,coords:s,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var v=this._tileCoordsToKey(s);d=this._tiles[v],d&&(d.loaded=+new Date,this._map._fadeAnimated?(ie(d.el,0),K(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(Ut(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new mt(this._wrapX?R(s.x,this._wrapX):s.x,this._wrapY?R(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new at(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Qc(s){return new va(s)}var pn=va.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=X(this,u),u.detectRetina&&Ct.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Nt(d,"load",p(this._tileOnLoad,this,u,d)),Nt(d,"error",p(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:Ct.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return dt(this._url,l(u,this.options))},_tileOnLoad:function(s,u){Ct.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,v=this.options.zoomOffset;return d&&(s=u-s),s+v},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=I,u.onerror=I,!u.complete)){u.src=At;var d=this._tiles[s].coords;ue(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",At),va.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===At))return va.prototype._tileReady.call(this,s,u,d)}});function Jn(s,u){return new pn(s,u)}var ds=pn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var v in u)v in this.options||(d[v]=u[v]);u=X(this,u);var w=u.detectRetina&&Ct.retina?2:1,A=this.getTileSize();d.width=A.x*w,d.height=A.y*w,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,pn.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,v=Et(d.project(u[0]),d.project(u[1])),w=v.min,A=v.max,V=(this._wmsVersion>=1.3&&this._crs===Be?[w.y,w.x,A.y,A.x]:[w.x,w.y,A.x,A.y]).join(","),Q=pn.prototype.getTileUrl.call(this,s);return Q+J(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function Au(s,u){return new ds(s,u)}pn.WMS=ds,Jn.wms=Au;var ci=me.extend({options:{padding:.1},initialize:function(s){X(this,s),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),A=v.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(s,u));Ct.any3d?ai(this._container,A,d):Dt(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new at(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Io=ci.extend({options:{tolerance:0},getEvents:function(){var s=ci.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ci.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Nt(s,"mousemove",this._onMouseMove,this),Nt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Nt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,ue(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ci.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),v=Ct.retina?2:1;Dt(u,s.min),u.width=v*d.x,u.height=v*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ci.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[y(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,v=u.prev;d?d.prev=v:this._drawLast=v,v?v.next=d:this._drawFirst=d,delete s._order,delete this._layers[y(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],v,w;for(w=0;w<u.length;w++){if(v=Number(u[w]),isNaN(v))return;d.push(v)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new at,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)s=v.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,v,w,A,V=s._parts,Q=V.length,et=this._ctx;if(Q){for(et.beginPath(),d=0;d<Q;d++){for(v=0,w=V[d].length;v<w;v++)A=V[d][v],et[v?"lineTo":"moveTo"](A.x,A.y);u&&et.closePath()}this._fillStroke(et,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,v=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||v)/v;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(u.x,u.y/w,v,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,v,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(v=d);this._fireEvent(v?[v]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,v,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(v=d);v!==this._hoveredLayer&&(this._handleMouseOut(s),v&&(Ut(this._container,"leaflet-interactive"),this._fireEvent([v],s,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,v=u.prev;if(d)d.prev=v;else return;v?v.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,v=u.prev;if(v)v.next=d;else return;d?d.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function vl(s){return Ct.canvas?new Io(s):null}var hi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Yc={_initContainer:function(){this._container=Zt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ci.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=hi("shape");Ut(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=hi("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;ue(u),s.removeInteractiveTarget(u),delete this._layers[y(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,v=s.options,w=s._container;w.stroked=!!v.stroke,w.filled=!!v.fill,v.stroke?(u||(u=s._stroke=hi("stroke")),w.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=ot(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(w.removeChild(u),s._stroke=null),v.fill?(d||(d=s._fill=hi("fill")),w.appendChild(d),d.color=v.fillColor||v.color,d.opacity=v.fillOpacity):d&&(w.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),v=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+v+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){ze(s._container)},_bringToBack:function(s){sr(s._container)}},ms=Ct.vml?hi:tr,qi=ci.extend({_initContainer:function(){this._container=ms("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ms("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ue(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ci.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Dt(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=ms("path");s.options.className&&Ut(u,s.options.className),s.options.interactive&&Ut(u,"leaflet-interactive"),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ue(s._path),s.removeInteractiveTarget(s._path),delete this._layers[y(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Ni(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),v=Math.max(Math.round(s._radiusY),1)||d,w="a"+d+","+v+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){ze(s._path)},_bringToBack:function(s){sr(s._path)}});Ct.vml&&qi.include(Yc);function Ru(s){return Ct.svg||Ct.vml?new qi(s):null}Kt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&vl(s)||Ru(s)}});var ti=pa.extend({initialize:function(s,u){pa.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=_t(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function ya(s,u){return new ti(s,u)}qi.create=ms,qi.pointsToPath=Ni,Xn.geometryToLayer=wo,Xn.coordsToLatLng=pl,Xn.coordsToLatLngs=bo,Xn.latLngToCoords=So,Xn.latLngsToCoords=_l,Xn.getFeature=_a,Xn.asFeature=_r,Kt.mergeOptions({boxZoom:!0});var ps=zn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ue(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),oi(),na(),this._startPoint=this._map.mouseEventToContainerPoint(s),Nt(document,{contextmenu:dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Zt("div","leaflet-zoom-box",this._container),Ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new at(this._point,this._startPoint),d=u.getSize();Dt(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ue(this._box),Ee(this._container,"leaflet-crosshair")),fn(),rs(),fe(document,{contextmenu:dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kt.addInitHook("addHandler","boxZoom",ps),Kt.mergeOptions({doubleClickZoom:!0});var xo=zn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),v=u.options.zoomDelta,w=s.originalEvent.shiftKey?d-v:d+v;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(s.containerPoint,w)}});Kt.addInitHook("addHandler","doubleClickZoom",xo),Kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Po=zn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ri(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ee(this._map._container,"leaflet-grab"),Ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=_t(this._map.options.maxBounds);this._offsetLimit=Et(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,v=this._draggable._newPos.x,w=(v-u+d)%s+u-d,A=(v+u+d)%s-u-d,V=Math.abs(w+d)<Math.abs(A+d)?w:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(s){var u=this._map,d=u.options,v=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),v)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,V=d.easeLinearity,Q=w.multiplyBy(V/A),et=Q.distanceTo([0,0]),ut=Math.min(d.inertiaMaxSpeed,et),Tt=Q.multiplyBy(ut/et),Mt=ut/(d.inertiaDeceleration*V),Ht=Tt.multiplyBy(-Mt/2).round();!Ht.x&&!Ht.y?u.fire("moveend"):(Ht=u._limitOffset(Ht,u.options.maxBounds),H(function(){u.panBy(Ht,{duration:Mt,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Kt.addInitHook("addHandler","dragging",Po),Kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ei=zn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Nt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,v=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,v,w;for(v=0,w=d.left.length;v<w;v++)u[d.left[v]]=[-1*s,0];for(v=0,w=d.right.length;v<w;v++)u[d.right[v]]=[s,0];for(v=0,w=d.down.length;v<w;v++)u[d.down[v]]=[0,s];for(v=0,w=d.up.length;v<w;v++)u[d.up[v]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,v,w;for(v=0,w=d.zoomIn.length;v<w;v++)u[d.zoomIn[v]]=s;for(v=0,w=d.zoomOut.length;v<w;v++)u[d.zoomOut[v]]=-s},_addHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,v;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(v=this._panKeys[u],s.shiftKey&&(v=k(v).multiplyBy(3)),d.options.maxBounds&&(v=d._limitOffset(k(v),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(v)));d.panTo(w)}else d.panBy(v)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;dn(s)}}});Kt.addInitHook("addHandler","keyboard",ei),Kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ni=zn.extend({addHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=as(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var v=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),v),dn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,A=d?Math.ceil(w/d)*d:w,V=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,V&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+V):s.setZoomAround(this._lastMousePos,u+V))}});Kt.addInitHook("addHandler","scrollWheelZoom",ni);var _s=600;Kt.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var Fi=zn.extend({addHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new mt(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Nt(document,"touchend",ge),Nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),_s),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){fe(document,"touchend",ge),fe(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new mt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Kt.addInitHook("addHandler","tapHold",Fi),Kt.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var Gi=zn.extend({addHooks:function(){Ut(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),v=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(v)._divideBy(2))),this._startDist=d.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),ge(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),v=u.mouseEventToContainerPoint(s.touches[1]),w=d.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var A=d._add(v)._divideBy(2)._subtract(this._centerPoint);if(w===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var V=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(V,this,!0),ge(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kt.addInitHook("addHandler","touchZoom",Gi),Kt.BoxZoom=ps,Kt.DoubleClickZoom=xo,Kt.Drag=Po,Kt.Keyboard=ei,Kt.ScrollWheelZoom=ni,Kt.TapHold=Fi,Kt.TouchZoom=Gi,n.Bounds=at,n.Browser=Ct,n.CRS=de,n.Canvas=Io,n.Circle=Eu,n.CircleMarker=To,n.Class=_e,n.Control=an,n.DivIcon=Zc,n.DivOverlay=Ci,n.DomEvent=ul,n.DomUtil=or,n.Draggable=Ri,n.Evented=Lt,n.FeatureGroup=Te,n.GeoJSON=Xn,n.GridLayer=va,n.Handler=zn,n.Icon=Hi,n.ImageOverlay=Ro,n.LatLng=wt,n.LatLngBounds=vt,n.Layer=me,n.LayerGroup=be,n.LineUtil=x,n.Map=Kt,n.Marker=ma,n.Mixin=ls,n.Path=mr,n.Point=mt,n.PolyUtil=ca,n.Polygon=pa,n.Polyline=pr,n.Popup=Co,n.PosAnimation=os,n.Projection=gt,n.Rectangle=ti,n.Renderer=ci,n.SVG=qi,n.SVGOverlay=Su,n.TileLayer=pn,n.Tooltip=gl,n.Transformation=sn,n.Util=z,n.VideoOverlay=hs,n.bind=p,n.bounds=Et,n.canvas=vl,n.circle=ed,n.circleMarker=Fc,n.control=mn,n.divIcon=Kc,n.extend=l,n.featureGroup=ji,n.geoJSON=ga,n.geoJson=wu,n.gridLayer=Qc,n.icon=ml,n.imageOverlay=cs,n.latLng=yt,n.latLngBounds=_t,n.layerGroup=dr,n.map=zi,n.marker=yu,n.point=k,n.polygon=Wn,n.polyline=nd,n.popup=Gc,n.rectangle=ya,n.setOptions=X,n.stamp=y,n.svg=Ru,n.svgOverlay=fs,n.tileLayer=Jn,n.tooltip=id,n.transformation=Kn,n.version=a,n.videoOverlay=bu;var gs=window.L;n.noConflict=function(){return window.L=gs,this},window.L=n})}(fc,fc.exports)),fc.exports}var td=CO();function z_(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function B_(r,t){return t==null?function(a,l){const h=q.useRef(void 0);return h.current||(h.current=r(a,l)),h}:function(a,l){const h=q.useRef(void 0);h.current||(h.current=r(a,l));const p=q.useRef(a),{instance:g}=h.current;return q.useEffect(function(){p.current!==a&&(t(g,a,p.current),p.current=a)},[g,a,t]),h}}function IO(r,t){q.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){var h;(h=t.layerContainer)==null||h.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function tb(r){return function(n){const a=Xw(),l=r(U_(n,a),a);return Ww(a.map,n.attribution),Jw(l.current,n.eventHandlers),IO(l.current,a),l}}function xO(r,t){const n=B_(r,t),a=tb(n);return wO(a)}function PO(r,t){const n=B_(r),a=AO(n,t);return bO(a)}function LO(r,t){const n=B_(r,t),a=tb(n);return SO(a)}function OO(r,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&r.setOpacity(a),l!=null&&l!==n.zIndex&&r.setZIndex(l)}function DO({bounds:r,boundsOptions:t,center:n,children:a,className:l,id:h,placeholder:p,style:g,whenReady:y,zoom:E,...R},I){const[O]=q.useState({className:l,id:h,style:g}),[j,B]=q.useState(null),X=q.useRef(void 0);q.useImperativeHandle(I,()=>(j==null?void 0:j.map)??null,[j]);const J=q.useCallback(dt=>{if(dt!==null&&!X.current){const ot=new td.Map(dt,R);X.current=ot,n!=null&&E!=null?ot.setView(n,E):r!=null&&ot.fitBounds(r,t),y!=null&&ot.whenReady(y),B(EO(ot))}},[]);q.useEffect(()=>()=>{j==null||j.map.remove()},[j]);const it=j?uf.createElement(V_,{value:j},a):p??null;return uf.createElement("div",{...O,ref:J},it)}const NO=q.forwardRef(DO),MO=xO(function({position:t,...n},a){const l=new td.Marker(t,n);return z_(l,TO(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),kO=PO(function(t,n){const a=new td.Popup(t,n.overlayContainer);return z_(a,n)},function(t,n,{position:a},l){q.useEffect(function(){const{instance:p}=t;function g(E){E.popup===p&&(p.update(),l(!0))}function y(E){E.popup===p&&l(!1)}return n.map.on({popupopen:g,popupclose:y}),n.overlayContainer==null?(a!=null&&p.setLatLng(a),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){var R;n.map.off({popupopen:g,popupclose:y}),(R=n.overlayContainer)==null||R.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,a])}),VO=LO(function({url:t,...n},a){const l=new td.TileLayer(t,U_(n,a));return z_(l,a)},function(t,n,a){OO(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)}),eb=()=>{const[r,t]=q.useState([]);return q.useEffect(()=>{(async()=>{const l=(await Xr(Di(Ln,"locations"))).docs.map(h=>({id:h.id,...h.data()}));t(l)})()},[]),D.jsxs("div",{className:"p-6",children:[D.jsx("h1",{className:"text-4xl mb-4 text-yellow-300",children:"Карта на магьосническите локации"}),D.jsxs(NO,{center:[54.5,-2.5],zoom:6,style:{height:"600px",width:"100%"},children:[D.jsx(VO,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),r.map(n=>D.jsx(MO,{position:[n.lat,n.lng],children:D.jsxs(kO,{children:[D.jsx("strong",{children:n.name}),D.jsx("br",{}),n.description]})},n.id))]})]})},UO=()=>{const[r,t]=q.useState([]);return q.useEffect(()=>{(async()=>{const a=Zo(Di(Ln,"magicItems"),Ip("createdAt","desc"),xp(5)),l=await Xr(a);t(l.docs.map(h=>({id:h.id,...h.data()})))})()},[]),D.jsxs("div",{className:"container",children:[D.jsx(vO,{}),D.jsx("h1",{children:"✨ Магически свят ✨"}),D.jsx("p",{className:"text-xl text-gray-300 mb-10 italic",children:"Открий артефакти, отвари и тайни от света на магията."}),D.jsx("h2",{children:"Последно добавени предмети"}),D.jsx("div",{className:"grid-container",children:r.map(n=>D.jsxs("div",{className:"card",children:[D.jsx("img",{src:n.imageUrl,alt:n.name}),D.jsx("h3",{children:n.name}),D.jsxs("p",{children:[n.description.slice(0,80),"..."]}),D.jsx(In,{to:`/item/${n.id}`,className:"link-btn",children:"Виж детайли"})]},n.id))}),D.jsx(In,{to:"/catalog",className:"link-btn",children:"Виж целия каталог"}),D.jsx("h2",{children:"Магическа карта"}),D.jsx(eb,{}),D.jsx(In,{to:"/map",className:"link-btn",children:"Виж картата на магьосниците"})]})},zO=()=>{const[r,t]=q.useState([]),n=Gs();return q.useEffect(()=>{(async()=>{try{const l=await Xr(Di(Ln,"magicItems")),h=new Set;l.docs.forEach(p=>{h.add(p.data().category)}),t(Array.from(h)),console.log("Категории заредени:",Array.from(h))}catch(l){console.error("Грешка при зареждане на категориите:",l)}})()},[]),D.jsxs("div",{className:"category-sidebar",children:[D.jsx("h2",{children:"Категории"}),D.jsx("ul",{children:r.map(a=>D.jsx("li",{children:D.jsx("button",{onClick:()=>n(`/catalog/${a}`),children:a})},a))})]})},BO=()=>{const{category:r}=Np(),[t,n]=q.useState([]);return q.useEffect(()=>{(async()=>{try{console.log("Зареждане на предмети за категория:",r);let l;r?l=Zo(Di(Ln,"magicItems"),vc("category","==",r),Ip("createdAt","desc"),xp(3)):l=Zo(Di(Ln,"magicItems"),Ip("createdAt","desc"),xp(3));const p=(await Xr(l)).docs.map(g=>({id:g.id,...g.data()}));console.log("Намерени предмети:",p),n(p)}catch(l){console.error("Грешка при зареждане на предметите:",l)}})()},[r]),D.jsxs("div",{className:"category-items",children:[D.jsx("h2",{children:r?`Последни предмети от "${r}"`:"Последни предмети"}),D.jsx("div",{className:"items-list",children:t.length>0?t.map(a=>D.jsxs("div",{className:"item-card",children:[D.jsx("img",{src:a.imageUrl,alt:a.name}),D.jsx("h3",{children:a.name}),D.jsx(In,{to:`/item/${a.id}`,className:"details-button",children:"Детайли"})]},a.id)):D.jsx("p",{children:"Няма намерени предмети."})})]})},s0=()=>D.jsxs("div",{className:"category-container",children:[D.jsx(zO,{}),D.jsx(BO,{})]}),jO=()=>{const[r,t]=q.useState([]),[n,a]=q.useState(""),[l,h]=q.useState("");q.useEffect(()=>{(async()=>{const y=await Xr(Di(Ln,"magicItems"));t(y.docs.map(E=>({id:E.id,...E.data()})))})()},[]);const p=()=>{const g=r.filter(y=>{const E=y.name.toLowerCase().includes(n.toLowerCase())||y.description.toLowerCase().includes(n.toLowerCase()),R=l?y.category===l:!0;return E&&R});t(g)};return D.jsxs("div",{className:"search-catalog-container",children:[D.jsx("h1",{className:"search-catalog-title",children:"Каталог на вълшебни предмети"}),D.jsxs("div",{className:"search-catalog-form-container",children:[D.jsx("input",{type:"text",placeholder:"Търси предмет...",className:"search-catalog-input",value:n,onChange:g=>a(g.target.value)}),D.jsxs("select",{className:"search-catalog-select",value:l,onChange:g=>h(g.target.value),children:[D.jsx("option",{value:"",children:"Всички категории"}),D.jsx("option",{value:"Артефакт",children:"Артефакт"}),D.jsx("option",{value:"Отвара",children:"Отвара"}),D.jsx("option",{value:"Книга",children:"Книга"}),D.jsx("option",{value:"Магически инструмент",children:"Магически инструмент"})]}),D.jsx("button",{className:"search-catalog-button",onClick:p,children:"Търсене"})]}),D.jsx("div",{className:"search-catalog-items",children:r.length>0?r.map(g=>D.jsxs("div",{className:"search-catalog-item",children:[D.jsx("img",{src:g.imageUrl,alt:g.name}),D.jsx("h3",{className:"search-catalog-item-title",children:g.name}),D.jsxs("p",{className:"search-catalog-item-description",children:[g.description.slice(0,100),"..."]}),D.jsx("span",{className:"search-catalog-item-footer",children:g.category})]},g.id)):D.jsx("p",{className:"search-catalog-message",children:"Няма намерени предмети."})})]})},j_=()=>{const[r,t]=q.useState(null),[n,a]=q.useState(!0);return q.useEffect(()=>{const h=jI(xf,p=>{t(p),a(!1)});return()=>h()},[]),{user:r,isAuthenticated:!!r,loading:n,logout:async()=>{try{await HI(xf),console.log("Logged out successfully!")}catch(h){console.error("Error during logout: ",h)}}}},nb=q.createContext(),nl=()=>q.useContext(nb),HO=({children:r})=>{const{user:t,logout:n}=j_();return D.jsxs(nb.Provider,{value:{user:t,logout:n},children:[r," "]})},qO=()=>{const[r,t]=q.useState(""),[n,a]=q.useState(""),[l,h]=q.useState(""),[p,g]=q.useState(""),y=Gs(),{user:E}=nl(),R=async I=>{if(I.preventDefault(),!r||!n||!l||!p){alert("Моля, попълнете всички полета!");return}if(!E){alert("Не сте влезли в системата!");return}try{await M_(Di(Ln,"magicItems"),{name:r,description:n,imageUrl:l,category:p,createdBy:E.uid,createdByName:E.displayName||"Анонимен",createdAt:_O()}),y("/catalog")}catch(O){console.error("Грешка при добавяне:",O)}};return D.jsx("div",{className:"add-item-container",children:D.jsxs("form",{onSubmit:R,className:"add-item-form",children:[D.jsx("h2",{className:"add-item-title",children:"Добави нов вълшебен предмет"}),D.jsx("input",{type:"text",placeholder:"Име на предмета",onChange:I=>t(I.target.value)}),D.jsx("textarea",{placeholder:"Описание",onChange:I=>a(I.target.value)}),D.jsx("input",{type:"text",placeholder:"URL към снимка",onChange:I=>h(I.target.value)}),D.jsxs("select",{onChange:I=>g(I.target.value),defaultValue:"",children:[D.jsx("option",{value:"",disabled:!0,children:"Избери категория"}),D.jsx("option",{value:"Артефакт",children:"Артефакт"}),D.jsx("option",{value:"Отвара",children:"Отвара"}),D.jsx("option",{value:"Книга",children:"Книга"}),D.jsx("option",{value:"Магически инструмент",children:"Магически инструмент"})]}),D.jsx("button",{type:"submit",className:"add-item-button",children:"Добави предмет"})]})})},FO=()=>{const{id:r}=Np(),t=Gs(),{user:n}=nl(),[a,l]=q.useState(""),[h,p]=q.useState(""),[g,y]=q.useState(""),[E,R]=q.useState(""),[I,O]=q.useState(!0);q.useEffect(()=>{(async()=>{const X=Pc(Ln,"magicItems",r),J=await Qw(X);if(J.exists()){const it=J.data();if(it.createdBy!==n.uid){alert("Нямате право да редактирате този предмет!"),t("/catalog");return}l(it.name),p(it.description),y(it.imageUrl),R(it.category)}else alert("Предметът не беше намерен!"),t("/catalog");O(!1)})()},[r,t,n]);const j=async B=>{B.preventDefault();try{await dO(Pc(Ln,"magicItems",r),{name:a,description:h,imageUrl:g,category:E}),alert("Предметът беше успешно редактиран!"),t(`/item/${r}`)}catch(X){console.error("Грешка при обновяване:",X)}};return I?D.jsx("p",{className:"loading-text",children:"Зареждане..."}):D.jsx("div",{className:"edit-item-container",children:D.jsxs("form",{onSubmit:j,className:"edit-item-form",children:[D.jsx("h2",{className:"edit-item-title",children:"Редактирай предмет"}),D.jsx("input",{type:"text",placeholder:"Име на предмета",value:a,onChange:B=>l(B.target.value)}),D.jsx("textarea",{placeholder:"Описание",value:h,onChange:B=>p(B.target.value)}),D.jsx("input",{type:"text",placeholder:"URL към снимка",value:g,onChange:B=>y(B.target.value)}),D.jsxs("select",{value:E,onChange:B=>R(B.target.value),children:[D.jsx("option",{value:"",disabled:!0,children:"Избери категория"}),D.jsx("option",{value:"Артефакт",children:"Артефакт"}),D.jsx("option",{value:"Отвара",children:"Отвара"}),D.jsx("option",{value:"Книга",children:"Книга"}),D.jsx("option",{value:"Магически инструмент",children:"Магически инструмент"})]}),D.jsx("button",{type:"submit",className:"edit-item-button",children:"Запази"})]})})},GO=()=>{const{id:r}=Np(),t=Gs(),{user:n}=nl(),[a,l]=q.useState(null),[h,p]=q.useState([]),[g,y]=q.useState(!0);q.useEffect(()=>{(async()=>{const O=Pc(Ln,"magicItems",r),j=await Qw(O);if(j.exists()){const B={id:j.id,...j.data()};l(B);const X=Zo(Di(Ln,"magicItems"),vc("category","==",B.category)),it=(await Xr(X)).docs.filter(dt=>dt.id!==B.id).map(dt=>({id:dt.id,...dt.data()}));p(it)}else l(null);y(!1)})()},[r]);const E=async()=>{if(window.confirm("Сигурни ли сте, че искате да изтриете този предмет?"))try{await mO(Pc(Ln,"magicItems",r)),alert("Предметът беше успешно изтрит!"),t("/catalog")}catch(I){console.error("Грешка при изтриване:",I)}};if(g)return D.jsx("p",{className:"text-yellow-300 p-6",children:"Зареждане..."});if(!a)return D.jsx("p",{className:"text-red-400 p-6",children:"Артикулът не беше намерен."});const R=n&&a.createdBy===n.uid;return D.jsxs("div",{className:"p-6",children:[D.jsx("button",{onClick:()=>t(-1),className:"mb-6 text-yellow-300 hover:text-yellow-500 underline",children:"← Назад към каталога"}),D.jsx("h1",{className:"text-4xl mb-4 text-yellow-300",children:a.name}),D.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full max-w-md rounded shadow mb-6"}),D.jsx("p",{className:"text-gray-300 mb-4",children:a.description}),D.jsxs("p",{className:"text-purple-400 mb-2",children:["Категория: ",a.category]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Създаден от:"})," ",a.createdByName||"Неизвестен магьосник"]}),R&&D.jsxs("div",{className:"flex space-x-4",children:[D.jsx("button",{onClick:()=>t(`/edit-item/${r}`),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"✏️ Редактирай"}),D.jsx("button",{onClick:E,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"🗑 Изтрий"})]}),h.length>0&&D.jsxs("div",{className:"mt-10",children:[D.jsxs("h2",{className:"text-2xl text-yellow-200 mb-4",children:['Още в категорията "',a.category,'"']}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map(I=>D.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow hover:scale-105 transition",children:[D.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-full h-40 object-cover rounded"}),D.jsx("h3",{className:"text-lg text-yellow-200 mt-2",children:I.name}),D.jsxs("p",{className:"text-gray-400 text-sm",children:[I.description.slice(0,60),"..."]}),D.jsx(In,{to:`/item/${I.id}`,className:"text-blue-400 hover:text-blue-500 underline text-sm mt-2 inline-block",children:"Виж детайли"})]},I.id))})]})]})},ZO=()=>{const{user:r}=nl(),t=Gs(),[n,a]=q.useState(""),[l,h]=q.useState(""),[p,g]=q.useState(""),[y,E]=q.useState("");if(!r)return D.jsxs("div",{className:"add-location-container",children:[D.jsx("h2",{className:"add-location-title text-red-500",children:"Достъпът е отказан"}),D.jsx("p",{className:"add-location-message",children:"Само регистрирани потребители могат да добавят локации."})]});const R=async I=>{if(I.preventDefault(),!n||!l||!p||!y){alert("Моля, попълнете всички полета!");return}try{await M_(Di(Ln,"locations"),{name:n,description:l,lat:parseFloat(p),lng:parseFloat(y),userId:r.uid,createdBy:r.displayName}),a(""),h(""),g(""),E(""),alert("Локацията е добавена успешно!"),t("/map")}catch(O){console.error("Грешка при добавяне:",O),alert("Възникна грешка. Опитайте отново.")}};return D.jsxs("div",{className:"add-location-container",children:[D.jsx("h1",{className:"add-location-title",children:"Добави нова локация"}),D.jsxs("form",{onSubmit:R,className:"add-location-form",children:[D.jsx("input",{type:"text",placeholder:"Име на локацията",value:n,onChange:I=>a(I.target.value),className:"add-location-input"}),D.jsx("textarea",{placeholder:"Описание",value:l,onChange:I=>h(I.target.value),className:"add-location-textarea"}),D.jsx("input",{type:"number",placeholder:"Географска ширина (lat)",value:p,onChange:I=>g(I.target.value),className:"add-location-input"}),D.jsx("input",{type:"number",placeholder:"Географска дължина (lng)",value:y,onChange:I=>E(I.target.value),className:"add-location-input"}),D.jsx("button",{type:"submit",className:"add-location-button",children:"Добави локация"})]})]})},KO=()=>{const[r,t]=q.useState(""),[n,a]=q.useState(""),[l,h]=q.useState(""),p=Gs(),g=async y=>{if(y.preventDefault(),!r||!n){h("Моля, попълнете всички полета.");return}try{await kI(xf,r,n),p("/")}catch(E){h("Грешка при вход: "+E.message)}};return D.jsx("div",{className:"auth-container",children:D.jsxs("form",{onSubmit:g,className:"auth-form",children:[D.jsx("h2",{className:"auth-title",children:"Вход в акаунт"}),D.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:y=>t(y.target.value)}),D.jsx("input",{type:"password",placeholder:"Парола",value:n,onChange:y=>a(y.target.value)}),l&&D.jsx("p",{className:"auth-error",children:l}),D.jsx("button",{type:"submit",className:"auth-button",children:"Влезте"}),D.jsx("div",{className:"auth-footer",children:D.jsxs("p",{children:["Нямате акаунт? ",D.jsx("a",{href:"/register",children:"Регистрирайте се тук"})]})})]})})},QO=()=>{const[r,t]=q.useState(""),[n,a]=q.useState(""),[l,h]=q.useState(""),[p,g]=q.useState(""),[y,E]=q.useState(""),R=Gs(),I=async O=>{if(O.preventDefault(),!n||!l||!p||!r){E("Моля, попълнете всички полета.");return}if(l!==p){E("Паролите не съвпадат.");return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n)){E("Моля, въведете валиден имейл адрес.");return}try{const X=(await MI(xf,n,l)).user;await UI(X,{displayName:r}),R("/")}catch(B){E("Грешка при регистрация: "+B.message)}};return D.jsx("div",{className:"auth-container",children:D.jsxs("form",{onSubmit:I,className:"auth-form",children:[D.jsx("h2",{className:"auth-title",children:"Регистрация"}),D.jsx("input",{type:"text",placeholder:"Потребителско име",value:r,onChange:O=>t(O.target.value)}),D.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:O=>a(O.target.value)}),D.jsx("input",{type:"password",placeholder:"Парола",value:l,onChange:O=>h(O.target.value)}),D.jsx("input",{type:"password",placeholder:"Потвърдете паролата",value:p,onChange:O=>g(O.target.value)}),y&&D.jsx("p",{className:"auth-error",children:y}),D.jsx("button",{type:"submit",className:"auth-button",children:"Регистрирай се"}),D.jsx("div",{className:"auth-footer",children:D.jsxs("p",{children:["Вече имате акаунт? ",D.jsx("a",{href:"/login",children:"Влезте тук"})]})})]})})},YO=()=>{const{user:r}=nl(),[t,n]=q.useState([]),[a,l]=q.useState([]),[h,p]=q.useState([]);return q.useEffect(()=>{if(!r)return;(async()=>{try{console.log("Логнат потребител: ",r.uid);const y=Zo(Di(Ln,"magicItems"),vc("createdBy","==",r.uid)),E=await Xr(y);console.log("Заявка за магически предмети:",y),console.log("Резултати за магически предмети:",E.docs.map(B=>B.data())),n(E.docs.map(B=>({id:B.id,...B.data()})));const R=Zo(Di(Ln,"spells"),vc("createdBy","==",r.displayName)),I=await Xr(R);console.log("Заявка за магии:",R),console.log("Резултати за магии:",I.docs.map(B=>B.data())),l(I.docs.map(B=>({id:B.id,...B.data()})));const O=Zo(Di(Ln,"locations"),vc("createdBy","==",r.displayName)),j=await Xr(O);console.log("Заявка за локации:",O),console.log("Резултати за локации:",j.docs.map(B=>B.data())),p(j.docs.map(B=>({id:B.id,...B.data()})))}catch(y){console.error("Грешка при зареждане на данните.",y)}})()},[r]),r?D.jsxs("div",{className:"profile-container p-6",children:[D.jsxs("h1",{className:"text-4xl text-yellow-300",children:["🔮 Профилът на ",r.displayName||r.email]}),D.jsxs("section",{className:"profile-section",children:[D.jsx("h2",{className:"text-2xl",children:"🧙‍♂️ Моите магически предмети"}),t.length>0?D.jsx("ul",{children:t.map(g=>D.jsx("li",{children:g.name},g.id))}):D.jsx("p",{children:"Няма намерени магически предмети."})]}),D.jsxs("section",{className:"profile-section",children:[D.jsx("h2",{className:"text-2xl",children:"📜 Моите магии"}),a.length>0?D.jsx("ul",{children:a.map(g=>D.jsx("li",{children:g.name},g.id))}):D.jsx("p",{children:"Няма намерени магии."})]}),D.jsxs("section",{className:"profile-section",children:[D.jsx("h2",{className:"text-2xl",children:"📍 Моите магьоснически локации"}),h.length>0?D.jsx("ul",{children:h.map(g=>D.jsx("li",{children:g.name},g.id))}):D.jsx("p",{children:"Не са намерени магьоснически локации."})]})]}):D.jsx("p",{className:"text-center text-gray-400",children:"🔒 Трябва да бъдете регистриран потребител, за да виждате профила си."})};class ib extends q.Component{constructor(t){super(t),this.state={hasError:!1,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("Error caught in ErrorBoundary: ",t,n),this.setState({errorInfo:n})}render(){return this.state.hasError?D.jsxs("div",{children:[D.jsx("h1",{children:"Неочаквана грешка."}),D.jsx("details",{style:{whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}):this.props.children}}const $O=()=>{const{user:r}=nl(),[t,n]=q.useState([]),[a,l]=q.useState({name:"",description:""}),h=Di(Ln,"spells"),p=async()=>{const y=await Xr(h);n(y.docs.map(E=>({...E.data(),id:E.id})))},g=async()=>{a.name.trim()===""||a.description.trim()===""||(await M_(h,{name:a.name,description:a.description,createdBy:(r==null?void 0:r.displayName)||"Anonymous",createdAt:new Date}),l({name:"",description:""}),p())};return q.useEffect(()=>{p()},[]),D.jsxs("div",{className:"spellbook-container",children:[D.jsx("h1",{className:"spellbook-title",children:"📜 Магьосническа книга на магиите"}),r?D.jsxs("div",{className:"spellbook-form-container",children:[D.jsx("input",{type:"text",value:a.name,onChange:y=>l({...a,name:y.target.value}),className:"spellbook-input",placeholder:"Име на магията..."}),D.jsx("textarea",{value:a.description,onChange:y=>l({...a,description:y.target.value}),className:"spellbook-textarea",placeholder:"Описание на магията...",rows:"3"}),D.jsx("button",{onClick:g,className:"spellbook-button",children:"Добавете магия"})]}):D.jsx("p",{className:"spellbook-message",children:"🔒 Трябва да сте регистриран потребител, за да добавяте магии."}),D.jsx("ul",{className:"spellbook-list",children:t.map(y=>D.jsxs("li",{className:"spellbook-item",children:[D.jsx("h3",{className:"spellbook-item-title",children:y.name}),D.jsx("p",{className:"spellbook-item-description",children:y.description}),D.jsxs("p",{className:"spellbook-item-footer",children:["🧙‍♂️ Създадено от: ",y.createdBy]})]},y.id))})]})};function WO(){const{isAuthenticated:r,loading:t}=j_();return t?D.jsx("div",{children:"Loading..."}):r?D.jsx(v0,{}):D.jsx(g0,{to:"/login"})}function XO(){const{isAuthenticated:r,loading:t}=j_();return t?D.jsx("div",{children:"Loading..."}):r?D.jsx(g0,{to:"/"}):D.jsx(v0,{})}const rb=()=>D.jsx("footer",{className:"footer-container",children:D.jsxs("div",{className:"max-w-screen-xl mx-auto text-center",children:[D.jsx("p",{className:"text-yellow-300",children:"© 2025 Магически Свят. Всички права запазени."}),D.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Създадено с магия и любов ✨"})]})});/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sb=(...r)=>r.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=q.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:h,iconNode:p,...g},y)=>q.createElement("svg",{ref:y,...tD,width:t,height:t,stroke:r,strokeWidth:a?Number(n)*24/Number(t):n,className:sb("lucide",l),...g},[...p.map(([E,R])=>q.createElement(E,R)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=(r,t)=>{const n=q.forwardRef(({className:a,...l},h)=>q.createElement(eD,{ref:h,iconNode:t,className:sb(`lucide-${JO(r)}`,a),...l}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],rD=nD("WandSparkles",iD),ab=()=>{const{user:r,logout:t}=nl(),[n,a]=q.useState(!1),l=()=>{a(!n)},h=()=>{a(!1)};return D.jsx("nav",{className:"navbar",children:D.jsxs("div",{className:"navbar-content",children:[D.jsxs(In,{to:"/",className:"navbar-logo",onClick:h,children:[D.jsx(rD,{size:32})," Магически свят"]}),D.jsx("button",{className:"menu-toggle",onClick:l,"aria-label":"Toggle menu",children:"☰"}),D.jsxs("div",{className:`navbar-links ${n?"active":""}`,children:[D.jsx(In,{to:"/catalog",className:"navbar-link",onClick:h,children:"Каталог"}),D.jsx(In,{to:"/search",className:"navbar-link",onClick:h,children:"Търсене в каталога"}),r&&D.jsx(In,{to:"/add-item",className:"navbar-link",onClick:h,children:"Добави предмет"}),D.jsx(In,{to:"/spellbook",className:"navbar-link",onClick:h,children:"Магии"}),D.jsx(In,{to:"/map",className:"navbar-link",onClick:h,children:"Карта"}),r&&D.jsx(In,{to:"/map/add",className:"navbar-link",onClick:h,children:"Добави локация"}),r&&D.jsx(In,{to:"/profile",className:"navbar-link",onClick:h,children:"Профил"}),D.jsx("div",{className:"flex items-center gap-4",children:r?D.jsxs(D.Fragment,{children:[D.jsxs("span",{className:"text-green-400 text-lg",children:["Здравей, ",r.email]}),D.jsx("button",{onClick:()=>{t(),h()},className:"navbar-button","aria-label":"Изход",children:"Изход"})]}):D.jsxs(D.Fragment,{children:[D.jsx(In,{to:"/login",className:"navbar-link",onClick:h,children:"Вход"}),D.jsx(In,{to:"/register",className:"navbar-link",onClick:h,children:"Регистрация"})]})})]})]})})},sD=()=>D.jsxs("div",{children:[D.jsx("h1",{children:"404 - Страницата не беше намерена"}),D.jsx("p",{children:"Извинявай, но страницата, която търсиш, не съществува."})]}),aD=()=>D.jsx(ib,{children:D.jsxs("div",{className:"app-container",children:[D.jsx(ab,{}),D.jsx("main",{className:"main-content",children:D.jsxs(wA,{children:[D.jsx(Cn,{path:"/",element:D.jsx(UO,{})}),D.jsx(Cn,{path:"/catalog",element:D.jsx(s0,{})}),D.jsx(Cn,{path:"/catalog/:category",element:D.jsx(s0,{})}),D.jsx(Cn,{path:"/search",element:D.jsx(jO,{})}),D.jsx(Cn,{path:"/item/:id",element:D.jsx(GO,{})}),D.jsx(Cn,{path:"/spellbook",element:D.jsx($O,{})}),D.jsx(Cn,{path:"/map",element:D.jsx(eb,{})}),D.jsxs(Cn,{element:D.jsx(WO,{}),children:[D.jsx(Cn,{path:"/add-item",element:D.jsx(qO,{})}),D.jsx(Cn,{path:"/edit-item/:id",element:D.jsx(FO,{})}),D.jsx(Cn,{path:"/map/add",element:D.jsx(ZO,{})}),D.jsx(Cn,{path:"/profile",element:D.jsx(YO,{})})]}),D.jsxs(Cn,{element:D.jsx(XO,{}),children:[D.jsx(Cn,{path:"/login",element:D.jsx(KO,{})}),D.jsx(Cn,{path:"/register",element:D.jsx(QO,{})})]}),D.jsx(Cn,{path:"*",element:D.jsx(sD,{})})," "]})}),D.jsx(rb,{})]})});function oD(){return D.jsx(HO,{children:D.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0d0c2b] to-[#1a1839] text-white font-magic",children:D.jsxs(ib,{children:[D.jsx(ab,{}),D.jsx("main",{className:"pt-20 px-4 md:px-12 lg:px-24 animate__animated animate__fadeIn",children:D.jsx(aD,{})}),D.jsx(rb,{})]})})})}const lD=PS.createRoot(document.getElementById("root"));lD.render(D.jsx(uf.StrictMode,{children:D.jsx(GA,{children:D.jsx(oD,{})})}));
